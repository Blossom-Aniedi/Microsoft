define("oneDsConfig",["rawOneDsConfig"],function(n){return n});require(["window","jqReady!","OneRF_OneDsJsll"],function(n,t){n.awa.utils=function(){function u(n,t){var i,r,u;if(t)try{return(i=JSON.stringify(t),i==="{}"&&n==="timing")?f():i}catch(e){return r='{"error": "ERROR: could not stringify {0} {1}"}',u=typeof t=="string"?t:"",r.replace("{0}",n).replace("{1}",u)}}function f(){for(var f,i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","first - paint","first - contentful - paint"],u="{",n=0;n<i.length;n++)f=r[i[n]],t(f)&&(u+='"'+i[n]+'":'+f,n<i.length-1&&(u+=","));return u+"}"}function t(n){return!(n===undefined||n===null||n==="")}function e(n){return"["+n+"]"}var r=n.performance?n.performance.timing:undefined,i=function(){var n={},r=!1,t=0,e=arguments.length,u,f;for(Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(r=arguments[0],t++),u=function(t){for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]!=undefined&&r&&Object.prototype.toString.call(t[u])==="[object Object]"?i(!0,n[u],t[u]):t[u])};t<e;t++)f=arguments[t],u(f);return n};return{extend:i,stringifyField:u,bracketIt:e,isValueAssigned:t}}();n.awa.service=function(){function e(n){typeof n=="function"?u=n:typeof n=="string"&&(u=function(){return n})}var r=!0,f=!1,u=null,i=function(i){var e;if(typeof jQuery=="function"){r&&(t.support.cors=!0);var f=i.additionalHeaders||{},o=i.body,h=o?JSON.stringify(o):i.data||undefined,c=i.maxRetry||0,s=0,l=t.noop,a=i.errorFormatter||function(n){return n},u={url:i.url,type:i.method,data:h,crossDomain:!0,headers:{},success:i.success,timeout:i.timeout,error:i.error,jsonp:i.jsonp,jsonpCallback:i.jsonpCallback,cache:i.cache,beforeSend:function(n){if(l(n),f)for(var t in f)n.setRequestHeader(t,f[t])}};return i.dataType&&(u.dataType=i.dataType),i.noCacheBusting||(u.cache=!1),i.contentType&&(u.contentType=i.contentType),i.accept&&(u.headers.Accept=i.accept),i.accepts&&(u.accepts=i.accepts),i.async&&(u.async=i.async),i.xhrFields&&(u.xhrFields=i.xhrFields),i.complete&&(u.complete=i.complete),i.contents&&(u.contents=i.contents),i.context&&(u.context=i.context),i.dataFilter&&(u.dataFilter=i.dataFilter),i.global&&(u.global=i.global),i.ifModified&&(u.ifModified=i.ifModified),i.isLocal&&(u.isLocal=i.isLocal),i.mimeType&&(u.mimeType=i.mimeType),i.password&&(u.password=i.password),i.processData&&(u.processData=i.processData),i.scriptCharset&&(u.scriptCharset=i.scriptCharset),i.statusCode&&(u.statusCode=i.statusCode),i.traditional&&(u.traditional=i.traditional),i.type&&(u.type=i.type),i.username&&(u.username=i.username),i.xhr&&(u.xhr=i.xhr),e=function(){return t.ajax(u).then(function(n,t,i){return i},function(n,i){var r=t.Deferred();return c>s&&(n.status===0||n.status>=500&&n.status<600)?(s++,setTimeout(function(){e().done(r.resolve).fail(r.reject)},50)):r.reject(n,i),r.promise()})},e().then(function(n,t,i){return i},function(n){return a(n,i)})}n.awa.logger.logError("jQuery is not defined, cannot use service module")};return{post:function(t){return i(n.awa.utils.extend({},t,{method:"POST"}))},get:function(t){return i(n.awa.utils.extend({maxRetry:1},t,{method:"GET"}))},put:function(t){return i(n.awa.utils.extend({},t,{method:"PUT"}))},del:function(t){return i(n.awa.utils.extend({},t,{method:"DELETE"}))},patch:function(t){return i(n.awa.utils.extend({},t,{method:"PATCH"}))},doNotChangeSupportCors:function(){r=!1},alwaysAddCvToRequestHeader:function(){f=!0},setTargetUriOverride:e}}()});define("OneRF_OneDsJsll",[],function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=1)}({"./node_modules/@microsoft/1ds-jsll/bundle/ms.jsll.js":function(n,t,i){(function(n){!function(t){"use strict";function ui(){return"undefined"!=typeof globalThis&&globalThis?globalThis:"undefined"!=typeof self&&self?self:"undefined"!=typeof window&&window?window:void 0!==n&&n?n:null}function fe(n){throw new TypeError(n);}function ee(n){function i(){}if(vs)return vs(n);if(null==n)return{};var t=typeof n;return"object"!==t&&"function"!==t&&fe("Object prototype may only be an Object:"+n),i.prototype=n,new i}function a(n,t){function i(){this.constructor=n}"function"!=typeof t&&null!==t&&fe("Class extends value "+String(t)+" is not a constructor or null");oe(n,t);n.prototype=null===t?ee(t):(i.prototype=t.prototype,new i)}function ys(n,t){for(var i=0,u=t.length,r=n.length;i<u;i++,r++)n[r]=t[i];return n}function fi(n,t){return n&&ku.prototype.hasOwnProperty.call(n,t)}function ws(n){return n&&(n===ku.prototype||n===Array.prototype)}function se(n){return ws(n)||n===Function.prototype}function wi(n){if(n){if(kr)return kr(n);var t=n.__proto__||n.prototype||(n.constructor?n.constructor.prototype:null);if(t)return t}return null}function du(n,t){var i=[],f=ku.getOwnPropertyNames,r,u;if(f)i=f(n);else for(r in n)"string"==typeof r&&fi(n,r)&&i.push(r);if(i&&i.length>0)for(u=0;u<i.length;u++)t(i[u])}function he(n,t,i){return"constructor"!==t&&"function"==typeof n[t]&&(i||fi(n,t))}function gu(n){throw new TypeError("DynamicProto: "+n);}function ce(n,t){for(var i=n.length-1;i>=0;i--)if(n[i]===t)return!0;return!1}function nv(n,t,i,r){var f=null,e,s;if(n&&fi(i,"_dynClass")&&(e=n._dynInstFuncs||{},(f=(e[i._dynClass]||{})[t])||gu("Missing ["+t+"] function"),!f._dynInstChk&&!1!==e._dynInstChk)){for(var o=!fi(n,t),u=wi(n),h=[];o&&u&&!se(u)&&!ce(h,u);){if(s=u[t],s){o=s===r;break}h.push(u);u=wi(u)}try{o&&(n[t]=f);f._dynInstChk=1}catch(n){e._dynInstChk=!1}}return f}function tv(n,t,i){var r=t[n];return r===i&&(r=wi(t)[n]),"function"!=typeof r&&gu("["+n+"] is not a function"),r}function le(n,t){return fi(n,"prototype")?n.name||t||"_unknown_":((n||{}).constructor||{}).name||t||"_unknown_"}function b(n,t,i,r){var u,f,s,e,h,o;fi(n,"prototype")||gu("theClass is an invalid class definition.");u=n.prototype,function(n,t){if(kr)for(var r=[],i=wi(t);i&&!se(i)&&!ce(r,i);){if(i===n)return!0;r.push(i);i=wi(i)}return!1}(u,t)||gu("["+le(n)+"] is not in class hierarchy of ["+le(t)+"]");f=null;fi(u,"_dynClass")?f=u._dynClass:(f="_dynCls$"+le(n,"_")+"$"+ps,ps++,u._dynClass=f);s=b._dfOpts;e=!!s.useBaseInst;e&&r&&void 0!==r.useBaseInst&&(e=!!r.useBaseInst);h=function(n){var t={};return du(n,function(i){!t[i]&&he(n,i,!1)&&(t[i]=n[i])}),t}(t);i(t,function(n,t,i,r){function o(n,t,i){var u=t[i],f;return u._isDynProxy&&r&&(f=n._dynInstFuncs||{},!1!==f._dynInstChk&&(u=(f[t._dynClass]||{})[i]||u)),function(){return u.apply(n,arguments)}}var f={},u,e;for(du(i,function(n){f[n]=o(t,i,n)}),u=wi(n),e=[];u&&!se(u)&&!ce(e,u);)du(u,function(n){!f[n]&&he(u,n,!kr)&&(f[n]=o(t,u,n))}),e.push(u),u=wi(u);return f}(u,t,h,e));o=!!kr&&!!s.setInstFuncs;o&&r&&(o=!!r.setInstFuncs),function(n,t,i,r,u){if(!ws(n)){var f=i._dynInstFuncs=i._dynInstFuncs||{},e=f[t]=f[t]||{};!1!==f._dynInstChk&&(f._dynInstChk=!!u);du(i,function(t){he(i,t,!1)&&i[t]!==r[t]&&(e[t]=i[t],delete i[t],(!fi(n,t)||n[t]&&!n[t]._isDynProxy)&&(n[t]=function(n,t){var i=function(){var r=nv(this,t,n,i)||tv(t,n,i);return r.apply(this,arguments)};return i._isDynProxy=1,i}(n,t)))})}}(u,f,t,h,!1!==o)}function ae(n){return re.toString.call(n)}function k(n){return void 0===n||void 0===n}function f(n){return null===n||k(n)}function iv(n){return!f(n)}function ve(n,t){return n&&bu.call(n,t)}function gt(n){return"object"==typeof n}function v(n){return"function"==typeof n}function dr(n,t,i,r){void 0===r&&(r=!1);var u=!1;if(!f(n))try{f(n.addEventListener)?f(n.attachEvent)||(n.attachEvent("on"+t,i),u=!0):(n.addEventListener(t,i,r),u=!0)}catch(n){}return u}function y(n,t){if(n)for(var i in n)bu.call(n,i)&&t.call(n,i,n[i])}function ur(n,t){var u=!1,r,i;if(n&&t){if(r=t.length,n===t)return!0;if(n.length>=r){for(i=0;i<r;i++)if(n[i]!==t[i])return!1;u=!0}}return u}function rt(n,t){return!(!n||!t)&&-1!==n.indexOf(t)}function st(n){return"[object Array]"===ae(n)}function ds(n){return"[object Error]"===ae(n)}function d(n){return"string"==typeof n}function nf(n){return"number"==typeof n}function gs(n){return"boolean"==typeof n}function gr(n){if("[object Date]"===ae(n)){var t=function(n){var t=String(n);return 1===t.length&&(t="0"+t),t};return n.getUTCFullYear()+"-"+t(n.getUTCMonth()+1)+"-"+t(n.getUTCDate())+"T"+t(n.getUTCHours())+":"+t(n.getUTCMinutes())+":"+t(n.getUTCSeconds())+"."+String((n.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function e(n,t,i){var u=n.length,r;try{for(r=0;r<u&&(!(r in n)||-1!==t.call(i||n,n[r],r,n));r++);}catch(n){}}function ye(n,t,i){var f=n.length,u=i||0,r;try{for(r=Math.max(u>=0?u:f-Math.abs(u),0);r<f;r++)if(r in n&&n[r]===t)return r}catch(n){}return-1}function tf(n,t,i){var u=n.length,e=i||n,f=new Array(u),r;try{for(r=0;r<u;r++)r in n&&(f[r]=t.call(e,n[r],n))}catch(n){}return f}function g(n){return"string"!=typeof n?n:n.replace(/^\s+|\s+$/g,"")}function fr(n){var u=typeof n,i,r,f,t;"function"===u||"object"===u&&null!==n||fe("objKeys called on non-object");i=[];for(r in n)n&&bu.call(n,r)&&i.push(r);if(nh)for(f=rf.length,t=0;t<f;t++)n&&bu.call(n,rf[t])&&i.push(rf[t]);return i}function kt(n,t,i,r){if(bs)try{var u={enumerable:!0,configurable:!0};return i&&(u.get=i),r&&(u.set=r),bs(n,t,u),!0}catch(n){}return!1}function lt(n){return ks&&(n=ks(n)),n}function yt(){var n=Date;return n.now?n.now():(new n).getTime()}function tt(n){return ds(n)?n.name:""}function s(n,t,i,r,u){var f=i;return n&&((f=n[t])===i||u&&!u(f)||r&&!r(i)||(f=i,n[t]=f)),f}function th(n){return!n}function ih(n){return!!n}function bi(n){throw new Error(n);}function nu(n){return n&&(n=pi(ue?ue({},n):n)),n}function uh(n,t){var i=!1,r;if(n){try{(i=t in n)||(r=n.prototype,r&&(i=t in r))}catch(n){}if(!i)try{i=!k((new n)[t])}catch(n){}}return i}function it(n){var t=ui();return t&&t[n]?t[n]:"window"===n&&fh()?window:null}function fh(){return Boolean("object"==typeof window&&window)}function ut(){return fh()?window:it("window")}function w(){return Boolean("object"==typeof document&&document)?document:it("document")}function eh(){return Boolean("object"==typeof navigator&&navigator)}function ni(){return eh()?navigator:it("navigator")}function ft(){return"object"==typeof location&&location?location:it("location")}function pt(){return it("performance")}function iu(){return Boolean("object"==typeof JSON&&JSON||null!==it("JSON"))}function ru(){return iu()?JSON||it("JSON"):null}function be(){var n=ni();return!(!n||!n.product)&&"ReactNative"===n.product}function ke(){var n=ni(),t;return n&&(n.userAgent!==rh||null===pe)&&(t=((rh=n.userAgent)||"").toLowerCase(),pe=rt(t,"msie")||rt(t,"trident/")),pe}function h(n){var i=Object.prototype.toString.call(n),t="";return"[object Error]"===i?t="{ stack: '"+n.stack+"', message: '"+n.message+"', name: '"+n.name+"'":iu()&&(t=ru().stringify(n)),i+t}function oh(){return null===we&&(we=eh()&&Boolean(ni().sendBeacon)),we}function rv(n){var t=!1,i;try{t=!!it("fetch");i=it("Request");t&&n&&i&&(t=uh(i,"keepalive"))}catch(n){}return t}function sh(){return null===tu&&(tu=void 0!==typeof XDomainRequest)&&uu()&&(tu=tu&&!uh(it("XMLHttpRequest"),"withCredentials")),tu}function uu(){var n=!1;try{n=!!it("XMLHttpRequest")}catch(n){}return n}function hh(n){return n?'"'+n.replace(/\"/g,"")+'"':""}function de(n,t){return(n||{}).logger||new ch(t)}function ht(n,t,i,r,u){var e,f,o,s;if(n&&(e=n,v(e.getPerfMgr)&&(e=e.getPerfMgr()),e)){f=void 0;o=e.getCtx("CoreUtils.doPerf");try{if(f=e.create(t(),r,u))return o&&f.setCtx&&(f.setCtx(ff.ParentContextKey,o),o.getCtx&&o.setCtx)&&(s=o.getCtx(ff.ChildrenContextKey),s||(s=[],o.setCtx(ff.ChildrenContextKey,s)),s.push(f)),e.setCtx("CoreUtils.doPerf",f),i(f)}catch(n){f&&f.setCtx&&f.setCtx("exception",n)}finally{f&&e.fire(f);e.setCtx("CoreUtils.doPerf",o)}}return i()}function ge(n,t){var e=[],i,r,u,f;if(n&&n.length>0)for(i=null,r=0;r<n.length;r++)u=n[r],u&&v(u.processTelemetry)&&(f=new lh(u,t),e.push(f),i&&i.setNext(f),i=f);return e.length>0?e[0]:null}function no(n,t){for(var i,f=[],r=null,u=n.getNext();u;)i=u.getPlugin(),i&&(r&&v(r.setNextPlugin)&&v(i.processTelemetry)&&r.setNextPlugin(i),v(i.isInitialized)&&i.isInitialized()||f.push(i),r=i,u=u.getNext());e(f,function(i){i.initialize(n.getCfg(),n.core(),t,n.getNext())})}function ah(n){return n.sort(function(n,t){var i=0,r=v(t.processTelemetry);return v(n.processTelemetry)?i=r?n.priority-t.priority:1:r&&(i=-1),i})}function sf(n){return!n||n.isEnabled()}function et(n,t){var i,r;return n?i=n.getCookieMgr():t&&(r=t.cookieCfg,i=r._ckMgr?r._ckMgr:eu(t)),i||(i=function(n,t){var i=eu._ckMgr||of._ckMgr;return i||(i=eu._ckMgr=eu(n,t),of._ckMgr=i),i}(t,(n||{}).logger)),i}function eu(n,t){var r=function(n){var t=n.cookieCfg=n.cookieCfg||{},i;return(s(t,"domain",n.cookieDomain,iv,f),s(t,"path",n.cookiePath||"/",null,f),f(t.enabled))&&(i=void 0,k(n.isCookieUseDisabled)||(i=!n.isCookieUseDisabled),k(n.disableCookiesUsage)||(i=!n.disableCookiesUsage),t.enabled=i),t}(n||of),e=r.path||"/",o=r.domain,u=!1!==r.enabled,i={isEnabled:function(){var n=u&&er(t),r=of._ckMgr;return n&&r&&i!==r&&(n=sf(r)),n},setEnabled:function(n){u=!1!==n},set:function(n,t,u,h,c){var l,tt=!1,v,b,y,nt;if(sf(i)){var a={},p=g(t||""),w=p.indexOf(";");(-1!==w&&(p=g(t.substring(0,w)),a=ph(t.substring(w+1))),s(a,"domain",h||o,ih,k),f(u))||(v=ke(),k(a.expires)&&(b=yt()+1e3*u,b>0&&(y=new Date,y.setTime(b),s(a,"expires",wh(y,v?"toGMTString":"toUTCString")||wh(y,v?"toGMTString":"toUTCString")||"",ih))),v||s(a,"max-age",""+u,null,k));nt=ft();nt&&"https:"===nt.protocol&&(s(a,"secure",null,null,k),null===to&&(l=(ni()||{}).userAgent,to=!(d(l)&&(rt(l,"CPU iPhone OS 12")||rt(l,"iPad; CPU OS 12")||rt(l,"Macintosh; Intel Mac OS X 10_14")&&rt(l,"Version/")&&rt(l,"Safari")||rt(l,"Macintosh; Intel Mac OS X 10_14")&&function(n,t){var r,u,f,i;if(n){if(r=t.length,u=n.length,n===t)return!0;if(u>=r){for(f=u-1,i=r-1;i>=0;i--){if(n[f]!=t[i])return!1;f--}return!0}}return!1}(l,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||rt(l,"Chrome/5")||rt(l,"Chrome/6")||rt(l,"UnrealEngine")&&!rt(l,"Chrome")||rt(l,"UCBrowser/12")||rt(l,"UCBrowser/11")))),to&&s(a,"SameSite","None",null,k));s(a,"path",c||e,null,k);(r.setCookie||kh)(n,bh(p,a));tt=!0}return tt},get:function(n){var t="";return sf(i)&&(t=(r.getCookie||ev)(n)),t},del:function(n,t){var r=!1;return sf(i)&&(r=i.purge(n,t)),r},purge:function(n,i){var u,e=!1,f;return er(t)&&(f=((u={}).path=i||"/",u.expires="Thu, 01 Jan 1970 00:00:01 GMT",u),ke()||(f["max-age"]="0"),(r.delCookie||kh)(n,bh("",f)),e=!0),e}};return i._ckMgr=i,i}function er(n){if(null===ef){ef=!1;try{ef=void 0!==(fu||{}).cookie}catch(t){n&&n.throwInternal(u.WARNING,o.CannotAccessCookie,"Cannot access document.cookie - "+tt(t),{exception:h(t)})}}return ef}function ph(n){var t={};return n&&n.length&&e(g(n).split(";"),function(n){if(n=g(n||"")){var i=n.indexOf("=");-1===i?t[n]=null:t[g(n.substring(0,i))]=g(n.substring(i+1))}}),t}function wh(n,t){return v(n[t])?n[t]():null}function bh(n,t){var i=n||"";return y(t,function(n,t){i+="; "+n+(f(t)?"":"="+t)}),i}function ev(n){var i="",t;return fu&&(t=fu.cookie||"",vh!==t&&(yh=ph(t),vh=t),i=g(yh[n]||"")),i}function kh(n,t){fu&&(fu.cookie=n+"="+t)}function ov(n,t){return new uv(t)}function or(n){var t,i=it("crypto")||it("msCrypto");return i&&i.getRandomValues?t=4294967295&i.getRandomValues(new Uint32Array(1))[0]:ke()?(dh||function(){var t,n;try{t=2147483647&yt();(n=(4294967296*Math.random()^t)+t)<0&&(n>>>=0);hf=123456789+n&4294967295;cf=987654321-n&4294967295;dh=!0}catch(t){}}(),t=4294967295&function(){var n=((cf=36969*(65535&cf)+(cf>>16)&4294967295)<<16)+(65535&(hf=18e3*(65535&hf)+(hf>>16)&4294967295))>>>0&4294967295|0;return n>>>0}()):t=Math.floor(4294967296*Math.random()|0),n||(t>>>=0),t}function di(n,t){var i=!1,r=ut(),u;return r&&(i=dr(r,n,t),i=dr(r.body,n,t)||i),u=w(),u&&(i=dr(u,n,t)||i),i}function gh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(tc,function(n){var t=0|Math.floor(or()/4294967295*16)>>>0;return("x"===n?t:3&t|8).toString(16)})}function nc(n){void 0===n&&(n=22);for(var t=or()>>>0,i=0,r="";r.length<n;)i++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===i&&(t=(or()<<2&4294967295|3&t)>>>0,i=0);return r}function ei(){for(var u,t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i="",r=0;r<4;r++)i+=n[15&(t=or())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];return u=n[8+(3&or())|0],i.substr(0,8)+i.substr(9,4)+"4"+i.substr(13,3)+u+i.substr(16,3)+i.substr(19,12)}function ro(n,t){if(n)for(var i=0;i<n.length&&!t(n[i],i);i++);}function uo(n,t,i,r,u){u>=0&&u<=2&&ro(n,function(n,f){var o=n.cbks,s=o[io[u]],h,e;if(s){t.ctx=function(){return r[f]=r[f]||{}};try{s.apply(t.inst,i)}catch(n){h=t.err;try{e=o[io[2]];e&&(t.err=n,e.apply(t.inst,i))}catch(n){}finally{t.err=h}}}})}function eo(n,t,i,r){var f,e,u,s,h,o;return(void 0===r&&(r=!0),n&&t&&i)&&(f=function n(t,i,r){var u=null;return t&&(ve(t,i)?u=t:r&&(u=n(function(n){if(n){if(fo)return fo(n);var t=n.__proto__||n.prototype||n.constructor;if(t)return t}return null}(t),i,!1))),u}(n,t,r),f&&(e=f[t],"function"==typeof e))?(u=e._aiHooks,u||(s=(o=u={i:0,n:t,f:e,h:[]},function(){function e(n,t){return ro(t,function(t){n.push(t)}),n}function h(i,u){(t=e([],t))[i]=u;r=e([n],t)}var i=this,t=arguments,u=o.h,n={name:o.n,inst:i,ctx:null,set:h},f=[],r=e([n],t),s;uo(u,n,r,f,0);s=o.f;try{n.rslt=s.apply(i,t)}catch(i){throw n.err=i,uo(u,n,r,f,3),i;}return uo(u,n,r,f,1),n.rslt}),s._aiHooks=u,f[t]=s),h={id:u.i,cbks:i,rm:function(){var n=this.id;ro(u.h,function(t,i){if(t.id===n)return u.h.splice(i,1),1})}},u.i++,u.h.push(h),h):null}function i(n){return!(""===n||f(n))}function ic(n){return er(null)?at(et(null),n):""}function at(n,t,i){var r;return void 0===i&&(i=!0),n&&(r=n.get(t),i&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function ii(n){void 0===n&&(n="D");var t=gh();return"B"===n?t="{"+t+"}":"P"===n?t="("+t+")":"N"===n&&(t=t.replace(/-/g,"")),t}function nt(n){var t={},u=!1,i=0,f=arguments.length,o=Object.prototype,r=arguments;for("[object Boolean]"===o.toString.call(r[0])&&(u=r[0],i++);i<f;i++)y(n=r[i],function(n,i){u&&i&&gt(i)?st(i)?(t[n]=t[n]||[],e(i,function(i,r){t[n][r]=i&&gt(i)?nt(!0,t[n][r],i):i})):t[n]=nt(!0,t[n],i):t[n]=i});return t}function rc(n){var t=di("pagehide",n);return di("visibilitychange",function(t){var i=w();n&&i&&"hidden"===i.visibilityState&&n(t)})||t}function oo(n){var t=di("beforeunload",n);return t=di("unload",n)||t,di("pagehide",n)||t}function gi(n,t){var i=n;i.timings=i.timings||{};i.timings.processTelemetryStart=i.timings.processTelemetryStart||{};i.timings.processTelemetryStart[t]=wt()}function uc(n,t,i,r,u){function e(n,t,i){try{n[t]=i}catch(n){}}void 0===r&&(r=!1);void 0===u&&(u=!1);var f=new XMLHttpRequest;return r&&e(f,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),i&&e(f,"withCredentials",i),f.open(n,t,!u),i&&e(f,"withCredentials",i),f}function fc(n,t,i){var e,h=t.length,r=function(n,t){var i;return t&&(t=g(t.toString())).length>150&&(i=t.substring(0,150),n.throwInternal(u.WARNING,o.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t}(n,t),s,f;if(r.length!==h){for(s=0,f=r;void 0!==i[f];)s++,f=r.substring(0,147)+(e=void 0,(e="00"+s).substr(e.length-3));r=f}return r}function vt(n,t,i){var r;return void 0===i&&(i=1024),t&&(i=i||1024,(t=g(t)).toString().length>i&&(r=t.toString().substring(0,i),n.throwInternal(u.WARNING,o.StringValueTooLong,"string value is too long. It has been truncated to "+i+" characters.",{value:t},!0))),r||t}function pf(n,t){return oc(n,t,2048,o.UrlTooLong)}function ec(n,t){var i;return t&&t.length>32768&&(i=t.substring(0,32768),n.throwInternal(u.WARNING,o.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),i||t}function nr(n,t){if(t){var i={};y(t,function(t,r){if(gt(r)&&iu())try{r=ru().stringify(r)}catch(t){n.throwInternal(u.WARNING,o.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=vt(n,r,8192);t=fc(n,t,i);i[t]=r});t=i}return t}function tr(n,t){if(t){var i={};y(t,function(t,r){t=fc(n,t,i);i[t]=r});t=i}return t}function oc(n,t,i,r){var f;return t&&(t=g(t)).length>i&&(f=t.substring(0,i),n.throwInternal(u.WARNING,r,"input is too long, it has been truncated to "+i+" characters.",{data:t},!0)),f||t}function ou(n){var i=null,t;return v(Event)?i=new Event(n):(t=w(),t&&t.createEvent&&(i=t.createEvent("Event")).initEvent(n,!0,!0)),i}function dt(n,t){return void 0===t&&(t=!1),null==n?t:"true"===n.toString().toLowerCase()}function hi(n){(isNaN(n)||n<0)&&(n=0);var t=""+(n=Math.round(n))%1e3,i=""+Math.floor(n/1e3)%60,r=""+Math.floor(n/6e4)%60,u=""+Math.floor(n/36e5)%24,f=Math.floor(n/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,i=i.length<2?"0"+i:i,r=r.length<2?"0"+r:r,(f>0?f+".":"")+(u=u.length<2?"0"+u:u)+":"+r+":"+i+"."+t}function sc(n){var t,i,r;try{if(f(ui()))return null;if(t=new Date,i=it(n===su.LocalStorage?"localStorage":"sessionStorage"),i.setItem(t.toString(),t.toString()),r=i.getItem(t.toString())!==t.toString(),i.removeItem(t.toString()),!r)return i}catch(n){}return null}function so(){return ho()?sc(su.SessionStorage):null}function ho(){return void 0===ci&&(ci=!!sc(su.SessionStorage)),ci}function hc(n,t){var i=so();if(null!==i)try{return i.getItem(t)}catch(t){ci=!1;n.throwInternal(u.WARNING,o.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+tt(t),{exception:h(t)})}return null}function co(n){var t=lc,i=av,r=i[t];return cc.createElement?i[t]||(r=i[t]=cc.createElement("a")):r={host:vv(n,!0)},r.href=n,++t>=i.length&&(t=0),lc=t,r}function vv(n,t){var r=ac(n,t)||"",i;return r&&(i=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i),null!=i&&i.length>3&&d(i[2])&&i[2].length>0)?i[2]+(i[3]||""):r}function ac(n,t){var u=null,i,f,r;return n&&(i=n.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i),null!=i&&i.length>2&&d(i[2])&&i[2].length>0&&(u=i[2]||"",t&&i.length>2)&&(f=(i[1]||"").toLowerCase(),r=i[3]||"",("http"===f&&":80"===r||"https"===f&&":443"===r)&&(r=""),u+=r)),u}function wf(){var n=pt(),t;return n&&n.now&&n.timing&&(t=n.now()+n.timing.navigationStart,t>0)?t:yt()}function ct(n,t){var i=null;return 0===n||0===t||f(n)||f(t)||(i=t-n),i}function vo(n,t){var i=n;return i&&!d(i)&&(JSON&&JSON.stringify?(i=JSON.stringify(n),!t||i&&"{}"!==i||(i=v(n.toString)?n.toString():""+n)):i=n+" - (Missing JSON.stringify)"),i||""}function yc(n,t){var i=n;return n&&(i&&!d(i)&&(i=n.message||n.description||i),i&&!d(i)&&(i=vo(i,!0)),n.filename&&(i=i+" @"+(n.filename||"")+":"+(n.lineno||"?")+":"+(n.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(i||"").indexOf(t)&&(i=t+": "+i),i||""}function pc(n){return n&&n.src&&d(n.src)&&n.obj&&st(n.obj)}function cr(n){var t=n||"",i;return d(t)||(t=d(t.stack)?t.stack:""+t),i=t.split("\n"),{src:t,obj:i}}function wc(n){var t=null,i;if(n)try{n.stack?t=cr(n.stack):n.error&&n.error.stack?t=cr(n.error.stack):n.exception&&n.exception.stack?t=cr(n.exception.stack):pc(n)?t=n:pc(n.stackDetails)?t=n.stackDetails:window.opera&&n.message?t=function(n){for(var r,u=[],i=n.split("\n"),t=0;t<i.length;t++)r=i[t],i[t+1]&&(r+="@"+i[t+1],t++),u.push(r);return{src:n,obj:u}}(n.message):d(n)?t=cr(n):(i=n.message||n.description||"",d(n.errorSrc)&&(i&&(i+="\n"),i+=" from "+n.errorSrc),i&&(t=cr(i)))}catch(n){t=cr(n)}return t||{src:"",obj:null}}function bf(n){var i="",t;if(n&&!(i=n.typeName||n.name||""))try{t=/function (.{1,200})\(/.exec(n.constructor.toString());i=t&&t.length>1?t[1]:""}catch(n){}return i}function yo(n){if(n)try{if(!d(n)){var i=bf(n),t=vo(n,!1);return t&&"{}"!==t||(n.error&&(i=bf(n=n.error)),t=vo(n,!0)),0!==t.indexOf(i)&&"String"!==i?i+":"+t:t}}catch(n){}return""+(n||"")}function hu(n,t){n&&n.dispatchEvent&&t&&n.dispatchEvent(t)}function go(n){y(n,function(t,r){i(r)&&("{}"!==JSON.stringify(r)||"callback"===t)||delete n[t]})}function df(n,t,i){var r=n;if(r){for(r=r;!t(r,i);)if(!(r=r=r.parentNode)||!r.getAttribute)return null;return r}}function dv(n){return"A"===n.nodeName}function gv(n,t){var r,i,u,f,e,o,s,h,c,l;return i=t,u=(r=(n=n).getBoundingClientRect()).left,f=r.top,e=r.right,o=r.bottom,s=i.left,h=i.top,c=i.right,l=i.bottom,Math.max(0,Math.min(e,c)-Math.max(u,s))*Math.max(0,Math.min(o,l)-Math.max(f,h))>0}function rl(n){return!!i(gf(n,"data-bi-dnt"))}function gf(n,t){return df(n,ny,t)}function ny(n,t){var r=n.getAttribute(t);return i(r)||""===r}function cu(n){return"["+n+"]"}function ul(n,t,i,r){var u;return function(){var f=arguments,e=function(){u=0;t&&t.apply(r,f)},o=!u;clearTimeout(u);u=setTimeout(e,i);o&&n&&n.apply(r,f)}}function fl(){var i={h:0,v:0},t=ut(),n=w();return n&&t&&(i={h:parseInt(n.body.scrollLeft||n.documentElement.scrollLeft||t.pageXOffset,10),v:parseInt(n.body.scrollTop||n.documentElement.scrollTop||t.pageYOffset,10)}),i}function ns(){var t={h:0,w:0},n=ut(),i=w(),r,u;return n&&i&&n.screen&&(r=i.body||{},u=i.documentElement||{},t.h=n.innerHeight||r.clientHeight||u.clientHeight,t.w=n.innerWidth||r.clientWidth||u.clientWidth),t}function ol(n){if(!n||!n.attributes)return!1;try{var t=n.getAttribute("data-dc");return!!i(t)&&"pii"===t.toLowerCase()}catch(n){return!1}}function sl(n,t){return n.coreData&&n.coreData.requestUri&&""!==n.coreData.requestUri?n.coreData.requestUri:ts(n,t)}function ts(n,t){var r,u,f,e;return t?(r=t.protocol+"//"+(t.hostname||t.host)+(i(t.port)?":"+t.port:"")+t.pathname,n.urlCollectQuery&&(u=t.search,u||(f=t.hash||"",e=f.indexOf("?"),-1!==e&&(u=f.slice(e))),r+=u),n.urlCollectHash&&(r+=t.hash||""),r):null}function hl(n){return n.callback&&"function"==typeof n.callback.signedinStatus?n.callback.signedinStatus():n.isLoggedIn}function cl(n,t){var r,f="",o={},i=[],s=n.cookiesToCollect;!1===n.shareAuthStatus?i=s:e(s,function(n){"ANON"!==n&&i.push(n)});try{try{lf&&window.varCustomerCookies&&window.varCustomerCookies.length>0&&(i=i.concat(window.varCustomerCookies))}catch(n){t.throwInternal(u.CRITICAL,p.FailedToGetCookies,"Failed to get cookies ")}e(i,function(n){o.hasOwnProperty(n)||(o[n]="",si&&""!==(r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(f+=n+"="+r+";"))})}catch(n){t.throwInternal(u.CRITICAL,p.FailedToGetCookies,"Failed to get cookies ")}return f}function ll(n){!function n(t){var i=w()||{};/in/.test(i.readyState)?setTimeout(function(){n(t)},100):t.call()}(function(){if(si&&"complete"===document.readyState)n();else{var t=ut();t&&(t.addEventListener?t.addEventListener("load",function(){n()}):t.attachEvent&&t.attachEvent("onload",function(){n()}))}})}function is(n,t,i){var r="";return t&&t[i]?r=t[i]:n&&(r=n[i]),r}function vl(n,t){var r,u,i;if(void 0===t&&(t=rs),r=null,n)for(u=n.split(","),i=0;i<u.length;i++)wy(u[i],t)&&(r?r+=","+u[i]:r=u[i]);return r}function wy(n,t){if(void 0===t&&(t=rs),!n||n.length<4)return!1;for(var r=!1,u=n.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===u&&n.length<=256){r=!0;break}return r}function yl(n,t){return t.indexOf(n)>-1}function gy(n,t){for(var i=0;i<t.length;i++)if(n==t[i].brand)return t[i].version;return null}function bl(n,t){var i=n.match(new RegExp(t+" ([\\d,.]+)"));return i?pl[i[1]]?pl[i[1]]:i[1]:"Unknown"}function kl(n){return n.indexOf(".")>-1?".":n.indexOf("_")>-1?"_":null}function ta(){return void 0===vu&&(vu=!!ra(yu.LocalStorage)),vu}function ia(){return ta()?ra(yu.LocalStorage):null}function ra(n){var u,i,t=null,r;try{if(r=ui(),!r)return null;i=new Date;(t=n===yu.LocalStorage?r.localStorage:r.sessionStorage)&&v(t.setItem)&&(t.setItem(i,i),u=t.getItem(i)!==i,t.removeItem(i),u&&(t=null))}catch(n){t=null}return t}function ua(n,t,i,r){var o,f,u,s,e,h;if(r&&n&&(o=function(n,t,i){var r=-1,u;return k(n)||((t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(n){return n>=0&&n<=9}(i))?(-1===r&&(r=0),r|=i):(u=cv[function n(t){var i=0,r;return null!=t&&(r=typeof t,"string"===r?i=1:"number"===r?i=2:"boolean"===r?i=3:"object"===r&&(i=4,st(t)?(i=4096,t.length>0&&(i|=n(t[0]))):ve(t,"value")&&(i=8192|n(t.value)))),i}(n)]||-1,-1!==r&&-1!==u?r|=u:6===u&&(r=u))),r}(r.value,r.kind,r.propertyType),o>-1)){if(f=n.metadata,f||(f=n.metadata={f:{}}),u=f.f,u||(u=f.f={}),t)for(s=0;s<t.length;s++)e=t[s],u[e]||(u[e]={f:{}}),h=u[e].f,h||(h=u[e].f={}),u=h;u=u[i]={};st(r.value)?u.a={t:o}:u.t=o}}function fa(n){try{return n.responseText}catch(n){}return""}function ea(n,t){var f=!1,i,e,r,u;if(n&&t&&(i=fr(n),i&&i.length>0))for(e=t.toLowerCase(),r=0;r<i.length;r++)if(u=i[r],u&&ve(t,u)&&u.toLowerCase()===e){f=!0;break}return f}function ha(n){y(n,function(t,r){i(r)&&("{}"!==JSON.stringify(r)||"callback"===t)||delete n[t]})}function ca(n,t,i){var r,u,f,e=(u=i,(r=n)&&r[u]&&(f=r[u],delete r[u]),f);return t[i]?t[i]:e}function la(n,t){var u,f={},e=w(),r,i;if(e)for(u=e.querySelectorAll("meta"),r=0;r<u.length;r++)i=u[r],i.name&&0===i.name.toLowerCase().indexOf(n)&&(f[t?i.name.replace(n,""):i.name]=i.content);return f}function aa(n,t,i){var r=0,u=n[t],f=n[i];return u&&f&&(r=ct(u,f)),r}function rr(n,t,i,r,u){var f=0,e=aa(i,r,u);return e&&(f=yi(n,t,hi(e))),f}function yi(n,t,i){var r=0;return n&&t&&i&&((n.ajaxPerf=n.ajaxPerf||{})[t]=i,r=1),r}function ie(n){var t="";try{f(n)||f(n.ajaxData)||f(n.ajaxData.requestUrl)||(t+="(url: '"+n.ajaxData.requestUrl+"')")}catch(n){}return t}function pu(n,t,i,r,f){n.diagLog().throwInternal(u.CRITICAL,t,i,r,f)}function pr(n,t,i,r,f){n.diagLog().throwInternal(u.WARNING,t,i,r,f)}function wu(n,t,i){return function(r){pu(n,t,i,{ajaxDiagnosticsMessage:ie(r.inst),exception:h(r.err)})}}function wr(n,t){return n&&t?n.indexOf(t):-1}function br(n){try{return n.responseText}catch(n){}return""}function r(n){console&&console.warn(n+": Method not available in 1DS")}var pi=Object,re=pi.prototype,ue=pi.assign,vs=pi.create,ga=pi.defineProperty,bu=re.hasOwnProperty,ot,oe,nh,rf,uf,lh,ki,ti,tc,io,fo,wt,su,ri,hr,ci,vc,ir,lo,ao,il,ko,lu,bt,el;(ui()||{}).Symbol;(ui()||{}).Reflect;ot=ue||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])re.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n};oe=function(n,t){return(oe=pi.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)};var u,ku=Object,kr=ku.getPrototypeOf,ps=0;
/*!
     * Microsoft Dynamic Proto Utility, 1.1.4
     * Copyright (c) Microsoft and contributors. All rights reserved.
     */
b._dfOpts={setInstFuncs:!0,useBaseInst:!0},function(n){n[n.CRITICAL=1]="CRITICAL";n[n.WARNING=2]="WARNING"}(u||(u={}));var o={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104},bs=ga,ks=pi.freeze;nh=!{toString:null}.propertyIsEnumerable("toString");rf=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var pe=null,rh=null,tu=null,we=null;uf=function(){function n(n,t,i,r){var u,f;void 0===i&&(i=!1);this.messageId=n;this.message=(i?"AI: ":"AI (Internal): ")+n;u="";iu()&&(u=ru().stringify(r));f=(t?" message:"+hh(t):"")+(r?" props:"+hh(u):"");this.message+=f}return n.dataType="MessageData",n}();var ch=function n(t){this.identifier="DiagnosticLogger";this.queue=[];var r=0,i={};b(n,this,function(n){function e(n,i){var r=t[n];return f(r)?i:r}f(t)&&(t={});n.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)};n.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)};n.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)};n.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)};n.throwInternal=function(t,r,f,e,o){var s,h,c;if(void 0===o&&(o=!1),s=new uf(r,f,o,e),n.enableDebugExceptions())throw s;k(s.message)||(h=n.consoleLoggingLevel(),o?(c=+s.messageId,!i[c]&&h>=u.WARNING&&(n.warnToConsole(s.message),i[c]=!0)):h>=u.WARNING&&n.warnToConsole(s.message),n.logInternalMessage(t,s))};n.warnToConsole=function(n){var t="undefined"!=typeof console?console:it("console"),i;t&&(i="log",t.warn&&(i="warn"),v(t[i])&&t[i](n))};n.resetInternalMessageCount=function(){r=0;i={}};n.logInternalMessage=function(t,u){var f,e,s,h;r>=n.maxInternalMessageLimit()||(f=!0,e="AITR_"+u.messageId,(i[e]?f=!1:i[e]=!0,f&&(t<=n.telemetryLoggingLevel()&&(n.queue.push(u),r++),r===n.maxInternalMessageLimit()))&&(s="Internal events throttle limit per PageView reached for this app.",h=new uf(o.MessageLimitPerPVExceeded,s,!1),n.queue.push(h),n.warnToConsole(s)))}})},ff=function(){function n(t,i,r){var f,u=this,e=!1;u.start=yt();u.name=t;u.isAsync=r;u.isChildEvt=function(){return!1};v(i)&&(e=kt(u,"payload",function(){return!f&&v(i)&&(f=i(),i=null),f}));u.getCtx=function(t){return t?t===n.ParentContextKey||t===n.ChildrenContextKey?u[t]:(u.ctx||{})[t]:null};u.setCtx=function(t,i){t&&(t===n.ParentContextKey?(u[t]||(u.isChildEvt=function(){return!0}),u[t]=i):t===n.ChildrenContextKey?u[t]=i:(u.ctx=u.ctx||{})[t]=i)};u.complete=function(){var o=0,r=u.getCtx(n.ChildrenContextKey),t,f;if(st(r))for(t=0;t<r.length;t++)f=r[t],f&&(o+=f.time);u.time=yt()-u.start;u.exTime=u.time-o;u.complete=function(){};!e&&v(i)&&(u.payload=i())}}return n.ParentContextKey="parent",n.ChildrenContextKey="childEvts",n}(),uv=function n(t){this.ctx={};b(n,this,function(n){n.create=function(n,t,i){return new ff(n,t,i)};n.fire=function(n){n&&(n.complete(),t&&v(t.perfEvent)&&t.perfEvent(n))};n.setCtx=function(t,i){t&&((n.ctx=n.ctx||{})[t]=i)};n.getCtx=function(t){return(n.ctx||{})[t]}})};lh=function(n,t){var r=this,i=null,f=v(n.processTelemetry),e=v(n.setNextPlugin);r._hasRun=!1;r.getPlugin=function(){return n};r.getNext=function(){return i};r.setNext=function(n){i=n};r.processTelemetry=function(s,c){c||(c=t);var l=n?n.identifier:"TelemetryPluginChain";ht(c?c.core():null,function(){return l+":processTelemetry"},function(){if(n&&f){r._hasRun=!0;try{c.setNext(i);e&&n.setNextPlugin(i);i&&(i._hasRun=!1);n.processTelemetry(s,c)}catch(r){var t=i&&i._hasRun;i&&t||c.diagLog().throwInternal(u.CRITICAL,o.PluginException,"Plugin ["+n.identifier+"] failed during processTelemetry - "+h(r));i&&!t&&i.processTelemetry(s,c)}}else i&&(r._hasRun=!0,i.processTelemetry(s,c))},function(){return{item:s}},!s.sync)}};ki=function n(t,i,r,u){var o=this,s=null;null!==u&&(t&&v(t.getPlugin)?s=function(n,t,i){var r=[],u=!i,f;if(n)for(;n;)f=n.getPlugin(),(u||f===i)&&(u=!0,r.push(f)),n=n.getNext();return u||r.push(i),ge(r,t)}(t,o,u||t.getPlugin()):u?s=function(n,t,i){var r=n,u=!1;return i&&n&&(r=[],e(n,function(n){(u||n===i)&&(u=!0,r.push(n))})),i&&!u&&(r||(r=[]),r.push(i)),ge(r,t)}(t,o,u):k(u)&&(s=ge(t,o)));o.core=function(){return r};o.diagLog=function(){return de(r,i)};o.getCfg=function(){return i};o.getExtCfg=function(n,t){var u,r;return(void 0===t&&(t={}),i)&&(r=i.extensionConfig,r&&n&&(u=r[n])),u||t};o.getConfig=function(n,t,r){var u,e;return void 0===r&&(r=!1),e=o.getExtCfg(n,null),e&&!f(e[t])?u=e[t]:i&&!f(i[t])&&(u=i[t]),f(u)?r:u};o.hasNext=function(){return null!=s};o.getNext=function(){return s};o.setNext=function(n){s=n};o.processNext=function(n){var t=s;t&&(s=t.getNext(),t.processTelemetry(n,o))};o.createNew=function(t,u){return void 0===t&&(t=null),new n(t||s,i,r,u)}};ti=function(){function n(){var t=this,i=!1,r=null,n=null;t.core=null;t.diagLog=function(n){return t._getTelCtx(n).diagLog()};t.isInitialized=function(){return i};t.setInitialized=function(n){i=n};t.setNextPlugin=function(t){n=t};t.processNext=function(t,i){i?i.processNext(t):n&&v(n.processTelemetry)&&n.processTelemetry(t,null)};t._getTelCtx=function(i){var u,f;return void 0===i&&(i=null),u=i,u||(f=r||new ki(null,{},t.core),u=n&&n.getPlugin?f.createNew(null,n.getPlugin):f.createNew(null,n)),u};t._baseTelInit=function(u,e,o,h){u&&s(u,"extensionConfig",[],null,f);!h&&e&&(h=e.getProcessTelContext().getNext());var c=n;n&&n.getPlugin&&(c=n.getPlugin());t.core=e;r=new ki(h,u,e,c);i=!0}}return n.prototype.initialize=function(n,t,i,r){this._baseTelInit(n,t,i,r)},n}();var fv=function(n){function t(){function u(n){n&&n.length>0&&(function(n){e(n,function(n){n.priority<500&&bi("Channel has invalid priority"+n.identifier)})}(n=n.sort(function(n,t){return n.priority-t.priority})),i.push(n))}var i,r=n.call(this)||this;return r.identifier="ChannelControllerPlugin",r.priority=500,b(t,r,function(n,t){n.setNextPlugin=function(){};n.processTelemetry=function(n,t){i&&e(i,function(i){i.length>0&&r._getTelCtx(t).createNew(i).processNext(n)})};n.getChannelControls=function(){return i};n.initialize=function(r,f,o){n.isInitialized()||(t.initialize(r,f,o),function(n,t){if(i=[],n&&e(n,function(n){return u(n)}),t){var r=[];e(t,function(n){n.priority>500&&r.push(n)});u(r)}}((r||{}).channels,o),e(i,function(n){return no(new ki(n,r,f),o)}))}}),r}var i;return a(t,n),t._staticInit=(kt(i=t.prototype,"ChannelControls",i.getChannelControls),void kt(i,"channelQueue",i.getChannelControls)),t}(ti),ef=null,to=null,vh=null,fu=w(),yh={},of={};var sv=function n(t){this.listeners=[];var i=!!(t||{}).perfEvtsSendAll;b(n,this,function(n){n.addNotificationListener=function(t){n.listeners.push(t)};n.removeNotificationListener=function(t){for(var i=ye(n.listeners,t);i>-1;)n.listeners.splice(i,1),i=ye(n.listeners,t)};n.eventsSent=function(t){e(n.listeners,function(n){n&&n.eventsSent&&setTimeout(function(){return n.eventsSent(t)},0)})};n.eventsDiscarded=function(t,i){e(n.listeners,function(n){n&&n.eventsDiscarded&&setTimeout(function(){return n.eventsDiscarded(t,i)},0)})};n.eventsSendRequest=function(t,i){e(n.listeners,function(n){if(n&&n.eventsSendRequest)if(i)setTimeout(function(){return n.eventsSendRequest(t,i)},0);else try{n.eventsSendRequest(t,i)}catch(n){}})};n.perfEvent=function(t){t&&(!i&&t.isChildEvt()||e(n.listeners,function(n){if(n&&n.perfEvent)if(t.isAsync)setTimeout(function(){return n.perfEvent(t)},0);else try{n.perfEvent(t)}catch(n){}}))}})},hv=function(n){function t(){var i=n.call(this)||this;return b(t,i,function(n,t){function i(t){var i=n.getNotifyMgr();i&&i.eventsDiscarded([t],2)}n.initialize=function(n,i,r,u){t.initialize(n,i,r||new ch(n),u||new sv(n))};n.track=function(r){ht(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===r&&(i(r),bi("Invalid telemetry item")),function(n){if(f(n.name))throw i(n),Error("telemetry name required");}(r);t.track(r)},function(){return{item:r}},!r.sync)};n.addNotificationListener=function(t){var i=n.getNotifyMgr();i&&i.addNotificationListener(t)};n.removeNotificationListener=function(t){var i=n.getNotifyMgr();i&&i.removeNotificationListener(t)};n.pollInternalLogs=function(t){var i=n.config.diagnosticLogInterval;return i&&i>0||(i=1e4),setInterval(function(){var i=n.logger?n.logger.queue:[];e(i,function(i){var r={name:t||"InternalMessageId: "+i.messageId,iKey:n.config.instrumentationKey,time:gr(new Date),baseType:uf.dataType,baseData:{message:i.message}};n.track(r)});i.length=0},i)}}),i}return a(t,n),t}(function n(){var i,t,r,u,o,h=!1;b(n,this,function(n){n._extensions=[];t=new fv;n.logger=ee({throwInternal:function(){},warnToConsole:function(){},resetInternalMessageCount:function(){}});i=[];n.isInitialized=function(){return h};n.initialize=function(i,u,o,c){var w,b,y,a,l,v,p;n.isInitialized()&&bi("Core should not be initialized more than once");i&&!f(i.instrumentationKey)||bi("Please provide instrumentation key");r=c;n._notificationManager=c;n.config=i||{};n.config.enablePerfMgr&&s(n.config,"createPerfMgr",ov);i.extensions=f(i.extensions)?[]:i.extensions;(b="extensionConfig",(w=i)?!(a=w[b])&&f(a)&&(a=k(y)?{}:y,w[b]=a):a=k(y)?{}:y,a).NotificationManager=c;o&&(n.logger=o);l=[];l.push.apply(l,ys(ys([],u),i.extensions));l=ah(l);v=[];p={};e(l,function(n){(f(n)||f(n.initialize))&&bi("Extensions must provide callback to initialize");var i=n.priority,r=n.identifier;n&&i&&(f(p[i])?p[i]=r:o.warnToConsole("Two extensions have same priority #"+i+" - "+p[i]+", "+r));(!i||i<t.priority)&&v.push(n)});l.push(t);v.push(t);l=ah(l);n._extensions=l;no(new ki([t],i,n),l);no(new ki(v,i,n),l);n._extensions=v;0===n.getTransmissionControls().length&&bi("No channels available");h=!0;n.releaseQueue()};n.getTransmissionControls=function(){return t.getChannelControls()};n.track=function(t){s(t,"iKey",n.config.instrumentationKey,null,th);s(t,"time",gr(new Date),null,th);s(t,"ver","4.0",null,f);n.isInitialized()?n.getProcessTelContext().processNext(t):i.push(t)};n.getProcessTelContext=function(){var i=n._extensions,r=i;return i&&0!==i.length||(r=[t]),new ki(r,n.config,n)};n.getNotifyMgr=function(){return r||(r=ee({addNotificationListener:function(){},removeNotificationListener:function(){},eventsSent:function(){},eventsDiscarded:function(){},eventsSendRequest:function(){}}),n._notificationManager=r),r};n.getCookieMgr=function(){return o||(o=eu(n.config,n.logger)),o};n.setCookieMgr=function(n){o=n};n.getPerfMgr=function(){return u||n.config&&n.config.enablePerfMgr&&v(n.config.createPerfMgr)&&(u=n.config.createPerfMgr(n,n.getNotifyMgr())),u||null};n.setPerfMgr=function(n){u=n};n.eventCnt=function(){return i.length};n.releaseQueue=function(){i.length>0&&(e(i,function(t){n.getProcessTelContext().processNext(t)}),i=[])}})}),dh=!1,hf=123456789,cf=987654321;tc=/[xy]/g;io=["req","rsp","hkErr","fnErr"];fo=Object.getPrototypeOf;var oi,p=ot(ot({},o),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),cv=((oi={})[0]=0,oi[2]=6,oi[1]=1,oi[3]=7,oi[4098]=6,oi[4097]=1,oi[4099]=7,oi),si=Boolean(w()),lf=Boolean(ut());wt=function(){var n=pt();return n&&n.now?n.now():yt()};var lv=function(n){function t(){var i=n.call(this)||this;return i.pluginVersionStringArr=[],i.pluginVersionString="",b(t,i,function(n,t){n.initialize=function(i,r,f,o){ht(n,function(){return"AppInsightsCore.initialize"},function(){if(i){i.endpointUrl||(i.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var s=i.propertyStorageOverride;if(s&&(!s.getProperty||!s.setProperty))throw new Error("Invalid property storage override passed.");i.channels&&e(i.channels,function(t){t&&e(t,function(t){if(t.identifier&&t.version){var i=t.identifier+"="+t.version;n.pluginVersionStringArr.push(i)}})})}n.getWParam=function(){return"undefined"!=typeof document?0:-1};r&&e(r,function(t){if(t&&t.identifier&&t.version){var i=t.identifier+"="+t.version;n.pluginVersionStringArr.push(i)}});n.pluginVersionString=n.pluginVersionStringArr.join(";");try{t.initialize(i,r,f,o)}catch(t){n.logger.throwInternal(u.CRITICAL,p.ErrorProvidedChannels,"Channels must be provided through config.channels only")}n.pollInternalLogs("InternalLog")},function(){return{config:i,extensions:r,logger:f,notificationManager:o}})};n.track=function(i){ht(n,function(){return"AppInsightsCore.track"},function(){var u,r=i,f,e,o;r&&(r.timings=r.timings||{},r.timings.trackStart=wt(),(u=r.latency)&&nf(u)&&u>=1&&u<=4||(r.latency=1),f=r.ext=r.ext||{},f.sdk=f.sdk||{},f.sdk.ver="1DS-Web-JS-3.1.7",e=r.baseData=r.baseData||{},e.properties||(e.properties={}),o=e.properties,o.version||(o.version=""),""!==n.pluginVersionString&&(o.version=n.pluginVersionString));t.track(r)},function(){return{item:i}},!i.sync)}}),i}return a(t,n),t}(hv),sr="Request-Context",af="appId=cid-v1:",vf="Request-Id",yf="traceparent";hr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";!function(n){n[n.LocalStorage=0]="LocalStorage";n[n.SessionStorage=1]="SessionStorage"}(su||(su={})),function(n){n[n.AI=0]="AI";n[n.AI_AND_W3C=1]="AI_AND_W3C";n[n.W3C=2]="W3C"}(ri||(ri={}));ci=void 0;var cc=w()||{},lc=0,av=[null,null,null,null,null];vc=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];ir={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(n,t,i){var u,r,o,s,f;if(!t||n&&n.disableCorrelationHeaders)return!1;if(n&&n.correlationHeaderExcludePatterns)for(u=0;u<n.correlationHeaderExcludePatterns.length;u++)if(n.correlationHeaderExcludePatterns[u].test(t))return!1;if((r=co(t).host.toLowerCase(),!r||-1===r.indexOf(":443")&&-1===r.indexOf(":80")||(r=(ac(t,!0)||"").toLowerCase()),(!n||!n.enableCorsCorrelation)&&r&&r!==i)||(s=n&&n.correlationHeaderDomains,s&&(e(s,function(n){var t=new RegExp(n.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||t.test(r)}),!o)))return!1;if(f=n&&n.correlationHeaderExcludedDomains,!f||0===f.length)return!0;for(u=0;u<f.length;u++)if(new RegExp(f[u].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(r))return!1;return r&&r.length>0},getCorrelationContext:function(n){if(n){var t=ir.getCorrelationContextValue(n,"appId");if(t&&t!==ir.correlationIdPrefix)return t}},getCorrelationContextValue:function(n,t){var u,i,r;if(n)for(u=n.split(","),i=0;i<u.length;++i)if(r=u[i].split("="),2===r.length&&r[0]===t)return r[1]}};lo=function(){this.ver=2;this.properties={};this.measurements={}};ao=function(n){function t(t,i,r,u){var f=n.call(this)||this;return f.aiDataContract={ver:1,name:1,properties:0,measurements:0},f.name=vt(t,i)||"not_specified",f.properties=nr(t,r),f.measurements=tr(t,u),f}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(lo);var po,li=function(n){function t(t,i,r,u,e,o){var s=n.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(n){try{if(gt(n))return"ver"in n&&"exceptions"in n&&"properties"in n}catch(n){}return!1}(i)?(s.exceptions=i.exceptions,s.properties=i.properties,s.measurements=i.measurements,i.severityLevel&&(s.severityLevel=i.severityLevel),i.id&&(s.id=i.id),i.problemGroup&&(s.problemGroup=i.problemGroup),s.ver=2,f(i.isManual)||(s.isManual=i.isManual)):(r||(r={}),s.exceptions=[new bc(t,i,r)],s.properties=nr(t,r),s.measurements=tr(t,u),e&&(s.severityLevel=e),o&&(s.id=o)),s}return a(t,n),t.CreateAutoException=function(n,t,i,r,u,f,e,o){var s=bf(u||f||n);return{message:yc(n,s),url:t,lineNumber:i,columnNumber:r,error:yo(u||f||n),evt:yo(f||n),typeName:s,stackDetails:wc(e||u||f),errorSrc:o}},t.CreateFromInterface=function(n,i,r,u){var f=i.exceptions&&tf(i.exceptions,function(t){return bc.CreateFromInterface(n,t)});return new t(n,ot(ot({},i),{exceptions:f}),r,u)},t.prototype.toInterface=function(){var n=this,t=n.exceptions,i=n.properties,r=n.measurements,u=n.severityLevel;n.ver;var f=n.problemGroup,e=n.id,o=n.isManual;return{ver:"4.0",exceptions:t instanceof Array&&tf(t,function(n){return n.toInterface()})||void 0,severityLevel:u,properties:i,measurements:r,problemGroup:f,id:e,isManual:o}},t.CreateSimpleException=function(n,t,i,r,u){return{exceptions:[{hasFullStack:!0,message:n,stack:u,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=yo,t}(function(){this.ver=2;this.exceptions=[];this.properties={};this.measurements={}}),bc=function(n){function t(t,i,r){var f=n.call(this)||this,s,c,h;return(f.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(n){try{if(gt(n))return"hasFullStack"in n&&"typeName"in n}catch(n){}return!1}(i))?(f.typeName=i.typeName,f.message=i.message,f.stack=i.stack,f.parsedStack=i.parsedStack,f.hasFullStack=i.hasFullStack):(s=i,c=s&&s.evt,ds(s)||(s=s.error||c||s),f.typeName=vt(t,bf(s))||"not_specified",f.message=ec(t,yc(i||s,f.typeName))||"not_specified",h=i.stackDetails||wc(i),f.parsedStack=function(n){var t,u=n.obj,s,f,c;if(u&&u.length>0&&(t=[],s=0,f=0,e(u,function(n){var r=n.toString(),i;wo.regex.test(r)&&(i=new wo(r,s++),f+=i.sizeInBytes,t.push(i))}),f>32768))for(var i=0,r=t.length-1,l=0,o=i,h=r;i<r;){if((l+=t[i].sizeInBytes+t[r].sizeInBytes)>32768){c=h-o+1;t.splice(o,c);break}o=i;h=r;i++;r--}return t}(h),f.stack=function(n,t){var r,i;return t&&(i=""+t,i.length>32768&&(r=i.substring(0,32768),n.throwInternal(u.WARNING,o.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))),r||t}(t,function(n){var t="";return n&&(n.obj?e(n.obj,function(n){t+=n+"\n"}):t=n.src||""),t}(h)),f.hasFullStack=st(f.parsedStack)&&f.parsedStack.length>0,r&&(r.typeName=r.typeName||f.typeName)),f}return a(t,n),t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&tf(this.parsedStack,function(n){return n.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:n||void 0}},t.CreateFromInterface=function(n,i){var r=i.parsedStack instanceof Array&&tf(i.parsedStack,function(n){return wo.CreateFromInterface(n)})||i.parsedStack;return new t(n,ot(ot({},i),{parsedStack:r}))},t}(function(){this.hasFullStack=!0;this.parsedStack=[]}),wo=function(n){function t(i,r){var u=n.call(this)||this,e,f;return(u.sizeInBytes=0,u.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof i)?(e=i,u.level=r,u.method="<no_method>",u.assembly=g(e),u.fileName="",u.line=0,f=e.match(t.regex),f&&f.length>=5&&(u.method=g(f[2])||u.method,u.fileName=g(f[4]),u.line=parseInt(f[5])||0)):(u.level=i.level,u.method=i.method,u.assembly=i.assembly,u.fileName=i.fileName,u.line=i.line,u.sizeInBytes=0),u.sizeInBytes+=u.method.length,u.sizeInBytes+=u.fileName.length,u.sizeInBytes+=u.assembly.length,u.sizeInBytes+=t.baseSize,u.sizeInBytes+=u.level.toString().length,u.sizeInBytes+=u.line.toString().length,u}return a(t,n),t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(function(){});!function(n){n[n.Measurement=0]="Measurement";n[n.Aggregation=1]="Aggregation"}(po||(po={}));var bo,yv=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return a(t,n),t}(function(){this.kind=po.Measurement}),kc=function(n){function t(t,i,r,u,f,e,o,s){var c=n.call(this)||this,h;return c.aiDataContract={ver:1,metrics:1,properties:0},h=new yv,h.count=u>0?u:void 0,h.max=isNaN(e)||null===e?void 0:e,h.min=isNaN(f)||null===f?void 0:f,h.name=vt(t,i)||"not_specified",h.value=r,c.metrics=[h],c.properties=nr(t,o),c.measurements=tr(t,s),c}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(function(){this.ver=2;this.metrics=[];this.properties={};this.measurements={}}),dc=function(n){function t(){var t=n.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return a(t,n),t}(lo),gc=function(n){function t(t,i,r,u,f,e,s){var h=n.call(this)||this;return h.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},h.id=function(n,t){return t?oc(n,t,128,o.IdTooLong).toString():t}(t,s),h.url=pf(t,r),h.name=vt(t,i)||"not_specified",isNaN(u)||(h.duration=hi(u)),h.properties=nr(t,f),h.measurements=tr(t,e),h}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(dc),kf=function(n){function t(t,i,r,u,f,e,o,s,h,c,l,a){var v,y;return void 0===h&&(h="Ajax"),v=n.call(this)||this,v.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},v.id=i,v.duration=hi(f),v.success=e,v.resultCode=o+"",v.type=vt(t,h),y=function(n,t,i,r){var o,e=r,s=r,u,f;return t&&t.length>0?(u=co(t),(o=u.host,e)||(null!=u.pathname?(f=0===u.pathname.length?"/":u.pathname,"/"!==f.charAt(0)&&(f="/"+f),s=u.pathname,e=vt(n,i?i+" "+f:f)):e=vt(n,t))):(o=r,e=r),{target:o,name:e,data:s}}(t,r,s,u),v.data=pf(t,u)||y.data,v.target=vt(t,y.target),c&&(v.target=v.target+" | "+c),v.name=vt(t,y.name),v.properties=nr(t,l),v.measurements=tr(t,a),v}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(function(){this.ver=2;this.success=!0;this.properties={};this.measurements={}}),nl=function(n){function t(t,i,r,u,f){var e=n.call(this)||this;return e.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},i=i||"not_specified",e.message=ec(t,i),e.properties=nr(t,u),e.measurements=tr(t,f),r&&(e.severityLevel=r),e}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(function(){this.ver=2;this.properties={};this.measurements={}}),tl=function(n){function t(t,i,r,u,f,e,o){var s=n.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=pf(t,r),s.name=vt(t,i)||"not_specified",s.properties=nr(t,f),s.measurements=tr(t,e),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}return a(t,n),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(n){function t(){var t=n.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return a(t,n),t}(dc));!function(n){n[n.Verbose=0]="Verbose";n[n.Information=1]="Information";n[n.Warning=2]="Warning";n[n.Error=3]="Error";n[n.Critical=4]="Critical"}(bo||(bo={}));var ai=function(){function n(){}return n.create=function(n,t,i,r,u,e){var o,s;if(i=vt(r,i)||"not_specified",f(n)||f(t)||f(i))throw Error("Input doesn't contain all required fields");return o="",n.iKey&&(o=n.iKey,delete n.iKey),s={name:i,time:gr(new Date),iKey:o,ext:e||{},tags:[],data:{},baseType:t,baseData:n},f(u)||y(u,function(n,t){s.data[n]=t}),s},n}(),pv=function n(t,i,r,s){b(n,this,function(n){function v(){r&&e(r.getTransmissionControls(),function(n){e(n,function(n){return n.flush(!0)})})}var a,l=null,c=[],y=!1;r&&(a=r.logger);n.trackPageView=function(n,r){var g=n.name,nt,p,it,b,rt,ut,k,d;if((f(g)||"string"!=typeof g)&&(nt=w(),g=n.name=nt&&nt.title||""),p=n.uri,(f(p)||"string"!=typeof p)&&(it=ft(),p=n.uri=it&&it.href||""),!s.isPerformanceTimingSupported())return t.sendPageViewInternal(n,r),v(),void a.throwInternal(u.WARNING,o.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");k=!1;d=s.getPerformanceTiming().navigationStart;d>0&&(b=ct(d,+new Date),s.shouldCollectDuration(b)||(b=void 0));f(r)||f(r.duration)||(rt=r.duration);!i&&isNaN(rt)||(isNaN(rt)&&(r||(r={}),r.duration=b),t.sendPageViewInternal(n,r),v(),k=!0);r||(r={});ut=function(){var f=!1,i;try{s.isPerformanceTimingDataReady()?(f=!0,i={name:g,uri:p},s.populatePageViewPerformanceEvent(i),i.isValid||k?(k||(r.duration=i.durationMs,t.sendPageViewInternal(n,r)),y||(t.sendPageViewPerformanceInternal(i,r),y=!0)):(r.duration=b,t.sendPageViewInternal(n,r))):d>0&&ct(d,+new Date)>6e4&&(f=!0,k||(r.duration=6e4,t.sendPageViewInternal(n,r)))}catch(n){a.throwInternal(u.CRITICAL,o.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+tt(n),{exception:h(n)})}return f};c.push(ut);l||(l=setInterval(function(){var t=c.slice(0),n=!1;c=[];e(t,function(t){t()?n=!0:c.push(t)});0===c.length&&(clearInterval(l),l=null);n&&v()},100))}})},wv=function(){function n(n,t){this.prevPageVisitDataKeyName="prevPageVisitData";this.pageVisitTimeTrackingHandler=t;this._logger=n}return n.prototype.trackPreviousPageVisit=function(n,t){try{var i=this.restartPageVisitTimer(n,t);i&&this.pageVisitTimeTrackingHandler(i.pageName,i.pageUrl,i.pageVisitTime)}catch(n){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+h(n))}},n.prototype.restartPageVisitTimer=function(n,t){try{var i=this.stopPageVisitTimer();return this.startPageVisitTimer(n,t),i}catch(n){return this._logger.warnToConsole("Call to restart failed: "+h(n)),null}},n.prototype.startPageVisitTimer=function(n,t){try{if(ho()){null!=hc(this._logger,this.prevPageVisitDataKeyName)&&bi("Cannot call startPageVisit consecutively without first calling stopPageVisit");var i=new bv(n,t),r=ru().stringify(i);!function(n,t,i){var r=so();if(null!==r)try{r.setItem(t,i)}catch(t){ci=!1;n.throwInternal(u.WARNING,o.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+tt(t),{exception:h(t)})}}(this._logger,this.prevPageVisitDataKeyName,r)}}catch(n){this._logger.warnToConsole("Call to start failed: "+h(n))}},n.prototype.stopPageVisitTimer=function(){var t,i,n;try{return ho()?(t=yt(),i=hc(this._logger,this.prevPageVisitDataKeyName),i&&iu())?(n=ru().parse(i),n.pageVisitTime=t-n.pageVisitStartTime,function(n,t){var i=so();if(null!==i)try{i.removeItem(t)}catch(t){ci=!1;n.throwInternal(u.WARNING,o.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+tt(t),{exception:h(t)})}}(this._logger,this.prevPageVisitDataKeyName),n):null:null}catch(t){return this._logger.warnToConsole("Stop page visit timer failed: "+h(t)),null}},n}(),bv=function(n,t){this.pageVisitStartTime=yt();this.pageName=n;this.pageUrl=t},kv=function(){function n(n){this.MAX_DURATION_ALLOWED=36e5;n&&(this._logger=n.logger)}return n.prototype.populatePageViewPerformanceEvent=function(n){n.isValid=!1;var t=this.getPerformanceNavigationTiming(),i=this.getPerformanceTiming(),r=0,f=0,e=0,s=0,h=0;(t||i)&&(t?(r=t.duration,f=0===t.startTime?t.connectEnd:ct(t.startTime,t.connectEnd),e=ct(t.requestStart,t.responseStart),s=ct(t.responseStart,t.responseEnd),h=ct(t.responseEnd,t.loadEventEnd)):(r=ct(i.navigationStart,i.loadEventEnd),f=ct(i.navigationStart,i.connectEnd),e=ct(i.requestStart,i.responseStart),s=ct(i.responseStart,i.responseEnd),h=ct(i.responseEnd,i.loadEventEnd)),0===r?this._logger.throwInternal(u.WARNING,o.ErrorPVCalc,"error calculating page view performance.",{total:r,network:f,request:e,response:s,dom:h}):this.shouldCollectDuration(r,f,e,s,h)?r<Math.floor(f)+Math.floor(e)+Math.floor(s)+Math.floor(h)?this._logger.throwInternal(u.WARNING,o.ClientPerformanceMathError,"client performance math error.",{total:r,network:f,request:e,response:s,dom:h}):(n.durationMs=r,n.perfTotal=n.duration=hi(r),n.networkConnect=hi(f),n.sentRequest=hi(e),n.receivedResponse=hi(s),n.domProcessing=hi(h),n.isValid=!0):this._logger.throwInternal(u.WARNING,o.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:f,request:e,response:s,dom:h}))},n.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?pt().timing:null},n.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?pt().getEntriesByType("navigation")[0]:null},n.prototype.isPerformanceNavigationTimingSupported=function(){var n=pt();return n&&n.getEntriesByType&&n.getEntriesByType("navigation").length>0},n.prototype.isPerformanceTimingSupported=function(){var n=pt();return n&&n.timing},n.prototype.isPerformanceTimingDataReady=function(){var t=pt(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},n.prototype.shouldCollectDuration=function(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=ni()||{},u=["googlebot","adsbot-google","apis-google","mediapartners-google"],f=e.userAgent,r=!1;if(f)for(n=0;n<u.length;n++)r=r||-1!==f.toLowerCase().indexOf(u[n]);if(r)return!1;for(n=0;n<t.length;n++)if(t[n]<0||t[n]>=this.MAX_DURATION_ALLOWED)return!1;return!0},n}();il=function(n){function t(){var c,l,r,a,s,i=n.call(this)||this;return i.identifier="ApplicationInsightsAnalytics",i.priority=180,i.autoRoutePVDelay=500,b(t,i,function(n,p){var b=ft();a=b&&b.href||"";n.getCookieMgr=function(){return et(n.core)};n.processTelemetry=function(t,i){ht(n.core,function(){return n.identifier+":processTelemetry"},function(){var e=!1,s=n._telemetryInitializers.length,r,f;for(i=n._getTelCtx(i),r=0;r<s;++r)if(f=n._telemetryInitializers[r],f)try{if(!1===f.apply(null,[t])){e=!0;break}}catch(n){i.diagLog().throwInternal(u.CRITICAL,o.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+tt(n),{exception:h(n)},!0)}e||n.processNext(t,i)},function(){return{item:t}},!t.sync)};n.trackEvent=function(t,i){try{var r=ai.create(t,ao.dataType,ao.envelopeType,n.diagLog(),i);n.core.track(r)}catch(t){n.diagLog().throwInternal(u.WARNING,o.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+tt(t),{exception:h(t)})}};n.startTrackEvent=function(t){try{c.start(t)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+tt(t),{exception:h(t)})}};n.stopTrackEvent=function(t,i){try{c.stop(t,void 0,i)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+tt(t),{exception:h(t)})}};n.trackTrace=function(t,i){try{var r=ai.create(t,nl.dataType,nl.envelopeType,n.diagLog(),i);n.core.track(r)}catch(t){n.diagLog().throwInternal(u.WARNING,o.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+tt(t),{exception:h(t)})}};n.trackMetric=function(t,i){try{var r=ai.create(t,kc.dataType,kc.envelopeType,n.diagLog(),i);n.core.track(r)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+tt(t),{exception:h(t)})}};n.trackPageView=function(t,i){try{var r=t||{};n._pageViewManager.trackPageView(r,ot(ot(ot({},r.properties),r.measurements),i));n.config.autoTrackPageVisitTime&&n._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.TrackPVFailed,"trackPageView failed, page view will not be collected: "+tt(t),{exception:h(t)})}};n.sendPageViewInternal=function(t,i,r){var u=w(),f;u&&(t.refUri=void 0===t.refUri?u.referrer:t.refUri);f=ai.create(t,gc.dataType,gc.envelopeType,n.diagLog(),i,r);n.core.track(f)};n.sendPageViewPerformanceInternal=function(t,i,r){var u=ai.create(t,tl.dataType,tl.envelopeType,n.diagLog(),i,r);n.core.track(u)};n.trackPageViewPerformance=function(t,i){try{n._pageViewPerformanceManager.populatePageViewPerformanceEvent(t);n.sendPageViewPerformanceInternal(t,i)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+tt(t),{exception:h(t)})}};n.startTrackPage=function(t){try{if("string"!=typeof t){var i=w();t=i&&i.title||""}l.start(t)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+tt(t),{exception:h(t)})}};n.stopTrackPage=function(t,i,r,f){var e,s;try{"string"!=typeof t&&(e=w(),t=e&&e.title||"");"string"!=typeof i&&(s=ft(),i=s&&s.href||"");l.stop(t,i,r,f);n.config.autoTrackPageVisitTime&&n._pageVisitTimeManager.trackPreviousPageVisit(t,i)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+tt(t),{exception:h(t)})}};n.sendExceptionInternal=function(t,i,r){var u=t.exception||t.error||new Error("not_specified"),f=new li(n.diagLog(),u,t.properties||i,t.measurements,t.severityLevel,t.id).toInterface(),e=ai.create(f,li.dataType,li.envelopeType,n.diagLog(),i,r);n.core.track(e)};n.trackException=function(t,i){try{n.sendExceptionInternal(t,i)}catch(t){n.diagLog().throwInternal(u.CRITICAL,o.TrackExceptionFailed,"trackException failed, exception will not be collected: "+tt(t),{exception:h(t)})}};n._onerror=function(t){var i=t&&t.error,r=t&&t.evt,f,l;try{r||(f=ut(),f&&(r=f.event));var e=t&&t.url||(w()||{}).URL,s=t.errorSrc||"window.onerror@"+e+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),c={errorSrc:s,url:e,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};(function(n,t,i,r,u){return!u&&d(n)&&("Script error."===n||"Script error"===n)})(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,i){var r=ai.create(t,li.dataType,li.envelopeType,n.diagLog(),i);n.core.track(r)}(li.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",e,t.lineNumber||0,t.columnNumber||0,i,r,null,s),c):(t.errorSrc||(t.errorSrc=s),n.trackException({exception:t,severityLevel:bo.Error},c))}catch(t){l=i?i.name+", "+i.message:"null";n.diagLog().throwInternal(u.CRITICAL,o.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+tt(t),{exception:h(t),errorString:l})}};n.addTelemetryInitializer=function(t){n._telemetryInitializers.push(t)};n.initialize=function(u,o,w,b){var rt,et,ot,ct,st,ht,nt;if(!n.isInitialized()){if(f(o))throw Error("Error initializing");p.initialize(u,o,w,b);n.setInitialized(!1);rt=n._getTelCtx();et=n.identifier;n.config=rt.getExtCfg(et);ot=t.getDefaultConfig(u);void 0!==ot&&y(ot,function(t,i){n.config[t]=rt.getConfig(et,t,i);void 0===n.config[t]&&(n.config[t]=i)});n.config.isStorageUseDisabled&&(ci=!1);ct={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return n.config.accountId||u.accountId},sessionRenewalMs:function(){return n.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return n.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return n.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return n.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return n.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return n.config.appId||u.appId}};n._pageViewPerformanceManager=new kv(n.core);n._pageViewManager=new pv(i,n.config.overridePageViewDuration,n.core,n._pageViewPerformanceManager);n._pageVisitTimeManager=new wv(n.diagLog(),function(t,i,r){return function(t,i,r){var u={PageName:t,PageUrl:i};n.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},u)}(t,i,r)});n._telemetryInitializers=n._telemetryInitializers||[],function(t){var i,r;t.isBrowserLinkTrackingEnabled()||(i=["/browserLinkSignalR/","/__browserLink/"],r=function(n){var t,r;if(n.baseType===kf.dataType&&(t=n.baseData,t))for(r=0;r<i.length;r++)if(t.target&&t.target.indexOf(i[r])>=0)return!1;return!0},n._telemetryInitializers.push(r))}(ct);(c=new ko(n.diagLog(),"trackEvent")).action=function(t,i,r,u){u||(u={});u.duration=r.toString();n.trackEvent({name:t,properties:u})};(l=new ko(n.diagLog(),"trackPageView")).action=function(t,i,r,u,e){f(u)&&(u={});u.duration=r.toString();var o={name:t,uri:i,properties:u,measurements:e};n.sendPageViewInternal(o,u)};var k=ut(),tt=Boolean("object"==typeof history&&history)?history:it("history"),g=ft(),lt=i;!1===n.config.disableExceptionTracking&&!n.config.autoExceptionInstrumented&&k&&(st=k.onerror,k.onerror=function(n,t,i,r,u){var e=k.event,f=st&&st(n,t,i,r,u);return!0!==f&&lt._onerror(li.CreateAutoException(n,t,i,r,u,e)),f},n.config.autoExceptionInstrumented=!0);!1===n.config.disableExceptionTracking&&!0===n.config.enableUnhandledPromiseRejectionTracking&&!n.config.autoUnhandledPromiseInstrumented&&k&&(ht=k.onunhandledrejection,k.onunhandledrejection=function(n){var i=k.event,t=ht&&ht.call(k,n);return!0!==t&&lt._onerror(li.CreateAutoException(function(n){if(n&&n.reason){var t=n.reason;return!d(t)&&v(t.toString)?t.toString():h(t)}return n||""}(n),g?g.href:"",0,0,n,i)),t},n.config.autoUnhandledPromiseInstrumented=!0);!0===n.config.enableAutoRouteTracking&&tt&&v(tt.pushState)&&v(tt.replaceState)&&k&&"undefined"!=typeof Event&&(nt=i,e(w,function(n){"AppInsightsPropertiesPlugin"===n.identifier&&(r=n)}),tt.pushState=function(n){return function(){var t=n.apply(this,arguments);return hu(k,ou(nt.config.namePrefix+"pushState")),hu(k,ou(nt.config.namePrefix+"locationchange")),t}}(tt.pushState),tt.replaceState=function(n){return function(){var t=n.apply(this,arguments);return hu(k,ou(nt.config.namePrefix+"replaceState")),hu(k,ou(nt.config.namePrefix+"locationchange")),t}}(tt.replaceState),k.addEventListener&&(k.addEventListener(nt.config.namePrefix+"popstate",function(){hu(k,ou(nt.config.namePrefix+"locationchange"))}),k.addEventListener(nt.config.namePrefix+"locationchange",function(){if(r&&r.context&&r.context.telemetryTrace){r.context.telemetryTrace.traceID=ei();var n="_unknown_";g&&g.pathname&&(n=g.pathname+(g.hash||""));r.context.telemetryTrace.name=n}s?(a=s,s=g&&g.href||""):s=g&&g.href||"";setTimeout(function(n){nt.trackPageView({refUri:n,properties:{duration:0}})}.bind(i,a),nt.autoRoutePVDelay)})));n.setInitialized(!0)}}}),i}return a(t,n),t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=18e5,n.sessionExpirationMs=864e5,n.disableExceptionTracking=dt(n.disableExceptionTracking),n.autoTrackPageVisitTime=dt(n.autoTrackPageVisitTime),n.overridePageViewDuration=dt(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=dt(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=dt(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=dt(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=dt(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=dt(n.enableDebug),n.disableFlushOnBeforeUnload=dt(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=dt(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.7.0",t}(ti);ko=function(n){var i=this,t={};i.start=function(i){void 0!==t[i]&&n.throwInternal(u.WARNING,o.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:i,key:i},!0);t[i]=+new Date};i.stop=function(r,f,e,s){var h=t[r],c;isNaN(h)?n.throwInternal(u.WARNING,o.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:r,key:r},!0):(c=ct(h,+new Date),i.action(r,f,c,e,s));delete t[r];t[r]=void 0}};bt={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};!function(n){n[n.PAGE_ACTION=0]="PAGE_ACTION";n[n.CONTENT_UPDATE=1]="CONTENT_UPDATE"}(lu||(lu={}));el={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};var lr,al={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},ty="parentId",iy="parentName",ry="pI",uy="pN",fy=function(){function n(n,t){this._config=n;this._traceLogger=t;this._contentBlobFieldNames=null;this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?al.shortNames:al.longNames}return n.prototype.getMetadata=function(){var n={},t={};return si&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(n=this._getMetaDataFromDOM("ms.",!1))),nt(!0,t,n)},n.prototype.getVisibleContent=function(){var f,e={top:0,bottom:(f=ns()).h,left:0,right:f.w},n=null,r,t,i,u;if(si&&(n=document.querySelectorAll(cu(this._contentBlobFieldNames.areaName)+","+cu(this._contentBlobFieldNames.slotNumber)+","+cu(this._config.biBlobAttributeTag))),r=[],n)for(t=0;t<n.length;t++)i=n[t],!rl(i)&&gv(i,e)&&(u=this.getElementContent(i,lu.CONTENT_UPDATE),u&&r.push(u));return r},n.prototype.getElementContent=function(n,t){if(!n)return{};var e,r,f,i={};if(this._isTracked(n))if(this._isTrackedWithDataM(n)){r=(e=n).getAttribute(this._config.biBlobAttributeTag);try{i=JSON.parse(r)}catch(n){this._traceLogger.throwInternal(u.CRITICAL,p.CannotParseBiBlobValue,"Can not parse "+r)}}else this._isTrackedWithDataBi(n)&&(f=n,i=nt(i,this._populateElementContentwithDataBi(f,n)));else if((e=gf(n,this._config.biBlobAttributeTag))&&(r=e.getAttribute(this._config.biBlobAttributeTag)),r)try{i=JSON.parse(r)}catch(n){this._traceLogger.throwInternal(u.CRITICAL,p.CannotParseBiBlobValue,"Can not parse "+r)}else f=df(n,this._isTrackedWithDataBi),i=nt(i,this._populateElementContentwithDataBi(f,n));return go(i),this._config.autoCapture.lineage&&t===lu.PAGE_ACTION&&(i=nt(i,this.getLineageDetails(n))),this._config.autoPopulateParentIdAndParentName&&(i=nt(i,this._getParentDetails(e||f,i))),i},n.prototype.getLineageDetails=function(n){for(var f,h,r,e,t,i,o=[],s=[],c=this._config.biBlobAttributeTag;n;){if(f=n.getAttribute(c)||n[c],h=n.getAttribute("data-module-id")||n["data-module-id"],f){try{r=JSON.parse(f)}catch(n){this._traceLogger.throwInternal(u.CRITICAL,p.CannotParseDataAttribute,"Can not parse "+f)}r&&(t=r.cN||r.cT,i=r.id||void 0,(t||i)&&(o.push(t),h&&(e=t),s.push(i)))}else t=n.getAttribute(this._contentBlobFieldNames.contentName)||n.getAttribute(this._contentBlobFieldNames.contentType),i=n.getAttribute(this._contentBlobFieldNames.id)||void 0,(t||i)&&(o.push(t),h&&(e=t),s.push(i));n=n.parentElement}return{lineage:o.join(">"),lineageById:s.join(">"),lineageContainerName:e}},n.prototype._populateElementContentwithDataBi=function(n,t){var i={},r,e;if(!n){if(!this._config.useDefaultContentName)return i;n=t}var o=gf(n,this._contentBlobFieldNames.areaName),f=nt({},this._getAreaContent(o)),s=this._config.callback.contentName?this._config.callback.contentName(n,this._config.useDefaultContentName):"",h=this._getDefaultContentName(t,this._config.useDefaultContentName);for((i={id:n.getAttribute(this._contentBlobFieldNames.id)||n.id||"",aN:f.areaName,sN:n.getAttribute(this._contentBlobFieldNames.slotNumber),cN:s||n.getAttribute(this._contentBlobFieldNames.contentName)||h||n.getAttribute("alt")||"",cS:n.getAttribute(this._contentBlobFieldNames.contentSource)||f.contentSource,tN:f.templateName,pid:n.getAttribute(this._contentBlobFieldNames.productId),cT:n.getAttribute(this._contentBlobFieldNames.contentType)||f.type,pI:n.getAttribute(this._contentBlobFieldNames.parentId),pN:n.getAttribute(this._contentBlobFieldNames.parentName)}).id&&i.aN&&i.sN&&i.cN||this._traceLogger.throwInternal(u.WARNING,p.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(i={contentId:i.id,areaName:i.aN,slotNumber:i.sN,contentName:i.cN,contentSource:i.cS,templateName:i.tN,productId:i.pid,contentType:i.cT,parentId:i.pI,parentName:i.pN}),e=0;e<n.attributes.length;e++)(r=n.attributes[e]).name!==this._contentBlobFieldNames.id&&r.name!==this._contentBlobFieldNames.areaName&&r.name!==this._contentBlobFieldNames.slotNumber&&r.name!==this._contentBlobFieldNames.contentName&&r.name!==this._contentBlobFieldNames.contentSource&&r.name!==this._contentBlobFieldNames.templateName&&r.name!==this._contentBlobFieldNames.productId&&r.name!==this._contentBlobFieldNames.contentType&&r.name!==this._contentBlobFieldNames.parentId&&r.name!==this._contentBlobFieldNames.parentName&&-1!==r.name.indexOf("data-bi-")&&(i[r.name.replace("data-bi-","")]=r.value);return i},n.prototype._getMetaDataFromDOM=function(n,t){var u,f={},r,i;if(si)for(u=document.querySelectorAll("meta"),r=0;r<u.length;r++)i=u[r],i.name&&0===i.name.toLowerCase().indexOf(n)&&(f[t?i.name.replace(n,""):i.name]=i.content);return f},n.prototype._getAreaContent=function(n){if(n=n)return{areaName:n.getAttribute(this._contentBlobFieldNames.areaName),templateName:n.getAttribute(this._contentBlobFieldNames.templateName),contentSource:n.getAttribute(this._contentBlobFieldNames.contentSource),product:n.getAttribute(this._contentBlobFieldNames.productId),type:n.getAttribute(this._contentBlobFieldNames.contentType)}},n.prototype._getDefaultContentName=function(n,t){if(!1===t||ol(n)||!n.tagName)return"";var i,r=w()||{};switch(n.tagName){case"A":i=r.all?n.innerText||n.innerHTML:n.text||n.innerHTML;break;case"IMG":case"AREA":i=n.alt;break;default:i=n.value||n.name||n.alt||n.innerText||n.id}return i.substring(0,200)},n.prototype._getParentDetails=function(n,t){var i=this._contentBlobFieldNames.isShortNames?ry:ty,r=this._contentBlobFieldNames.isShortNames?uy:iy,u=t[i],f=t[r];return u||f||!n?{}:this._populateParentInfo(n,i,r)},n.prototype._isTrackedWithDataM=function(n){for(var i=n.attributes,t=0;t<i.length;t++)if("data-m"===i[t].name)return!0;return!1},n.prototype._isTrackedWithDataBi=function(n){for(var i=n.attributes,t=0;t<i.length;t++)if(i[t].name.indexOf("data-bi-")>=0)return!0;return!1},n.prototype._isTracked=function(n){for(var i=n.attributes,t=0;t<i.length;t++)if("data-m"===i[t].name||i[t].name.indexOf("data-bi-")>=0)return!0;return!1},n.prototype._populateParentInfo=function(n,t,i){var r,f,h={},c=this._config.biBlobAttributeTag,e=df(n.parentElement,this._isTracked),o,s;if(e){if(o=e.getAttribute(c)||n[c],o){try{s=JSON.parse(o)}catch(n){this._traceLogger.throwInternal(u.CRITICAL,p.CannotParseDataAttribute,"Can not parse "+o)}s&&(r=s.id,f=s.cN)}else r=e.getAttribute(this._contentBlobFieldNames.id),f=e.getAttribute(this._contentBlobFieldNames.contentName);r&&(h[t]=r);f&&(h[i]=f)}return h},n}(),ey={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},oy=function(){function n(n,t){this._analyticsPlugin=n;this._traceLogger=t}return n.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},n.prototype.onLoad=function(){var n=this;ll(function(){n._analyticsPlugin.capturePageViewPerformance({isAuto:!0});n._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},n.prototype.click=function(){var n=this,t=ut(),i=w(),r;t&&t.addEventListener?(r=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown",t.addEventListener(r,function(t){n._processClick(t)},!1),t.addEventListener("keyup",function(t){n._processClick(t)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(t){n._processClick(t)}),i.attachEvent("keyup",function(t){n._processClick(t)}))},n.prototype.scroll=function(n){var r=this,i=ul(null,function(){r._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:bt.SCROLL})},n.scroll,this),t=ut();t&&(t.addEventListener?t.addEventListener("scroll",i):window.attachEvent&&window.attachEvent("onscroll",i))},n.prototype.maxScroll=function(n){var i=function(){var t=fl();n.v=n.v>t.v?n.v:t.v},t=ut();t&&(t.addEventListener?t.addEventListener("scroll",i):t.attachEvent&&t.attachEvent("onscroll",i))},n.prototype.resize=function(n){var r=this,i=ul(function(){r._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:bt.RESIZE})},null,n.resize,this),t=ut();t&&(t.addEventListener?t.addEventListener("resize",i):t.attachEvent&&t.attachEvent("onresize",i))},n.prototype.onUnload=function(){var n=this;oo(function(){n._analyticsPlugin.capturePageUnload({isAuto:!0})})},n.prototype._processClick=function(n){var r,u={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},e=ut(),t=(n=n||e.event).srcElement||n.target,i={isAuto:!0,clickCoordinateX:n.pageX,clickCoordinateY:n.pageY},f="which"in(r=n)?3===r.which:"button"in r?2===r.button:void 0;if(f)i.actionType=bt.CLICKRIGHT;else if(function(n){return"which"in n?1===n.which:"button"in n?1===n.button:void 0}(n))i.actionType=bt.CLICKLEFT;else if(function(n){if("keyCode"in n)return 13===n.keyCode}(n))i.actionType=bt.KEYBOARDENTER;else if(function(n){if("keyCode"in n)return 32===n.keyCode}(n))i.actionType=bt.KEYBOARDSPACE;else{if(!function(n){return"which"in n?2===n.which:"button"in n?4===n.button:void 0}(n))return;i.actionType=bt.CLICKMIDDLE}for(;t&&t.tagName;){if(t.control&&u[t.control.tagName.toUpperCase()]&&(t=t.control),u[t.tagName.toUpperCase()]){("INPUT"!==t.tagName.toUpperCase()||ey[t.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(t,i,{},f);break}t=t.parentElement||t.parentNode}},n}();!function(n){n[n.UNDEFINED=0]="UNDEFINED";n[n.NAVIGATIONBACK=1]="NAVIGATIONBACK";n[n.NAVIGATION=2]="NAVIGATION";n[n.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD";n[n.APPLY=4]="APPLY";n[n.REMOVE=5]="REMOVE";n[n.SORT=6]="SORT";n[n.EXPAND=7]="EXPAND";n[n.REDUCE=8]="REDUCE";n[n.CONTEXTMENU=9]="CONTEXTMENU";n[n.TAB=10]="TAB";n[n.COPY=11]="COPY";n[n.EXPERIMENTATION=12]="EXPERIMENTATION";n[n.PRINT=13]="PRINT";n[n.SHOW=14]="SHOW";n[n.HIDE=15]="HIDE";n[n.MAXIMIZE=16]="MAXIMIZE";n[n.MINIMIZE=17]="MINIMIZE";n[n.BACKBUTTON=18]="BACKBUTTON";n[n.STARTPROCESS=20]="STARTPROCESS";n[n.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT";n[n.COMPLETEPROCESS=22]="COMPLETEPROCESS";n[n.SCENARIOCANCEL=23]="SCENARIOCANCEL";n[n.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT";n[n.DOWNLOAD=41]="DOWNLOAD";n[n.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE";n[n.SEARCH=61]="SEARCH";n[n.SEARCHINITIATE=62]="SEARCHINITIATE";n[n.TEXTBOXINPUT=63]="TEXTBOXINPUT";n[n.PURCHASE=80]="PURCHASE";n[n.ADDTOCART=81]="ADDTOCART";n[n.VIEWCART=82]="VIEWCART";n[n.ADDWISHLIST=83]="ADDWISHLIST";n[n.FINDSTORE=84]="FINDSTORE";n[n.CHECKOUT=85]="CHECKOUT";n[n.REMOVEFROMCART=86]="REMOVEFROMCART";n[n.PURCHASECOMPLETE=87]="PURCHASECOMPLETE";n[n.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE";n[n.VIEWCARTPAGE=89]="VIEWCARTPAGE";n[n.VIEWPDP=90]="VIEWPDP";n[n.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY";n[n.INTENTTOBUY=92]="INTENTTOBUY";n[n.PUSHTOINSTALL=93]="PUSHTOINSTALL";n[n.SIGNIN=100]="SIGNIN";n[n.SIGNOUT=101]="SIGNOUT";n[n.SOCIALSHARE=120]="SOCIALSHARE";n[n.SOCIALLIKE=121]="SOCIALLIKE";n[n.SOCIALREPLY=122]="SOCIALREPLY";n[n.CALL=123]="CALL";n[n.EMAIL=124]="EMAIL";n[n.COMMUNITY=125]="COMMUNITY";n[n.SOCIALFOLLOW=126]="SOCIALFOLLOW";n[n.VOTE=140]="VOTE";n[n.SURVEYINITIATE=141]="SURVEYINITIATE";n[n.SURVEYCOMPLETE=142]="SURVEYCOMPLETE";n[n.REPORTAPPLICATION=143]="REPORTAPPLICATION";n[n.REPORTREVIEW=144]="REPORTREVIEW";n[n.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT";n[n.CONTACT=160]="CONTACT";n[n.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE";n[n.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE";n[n.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION";n[n.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION";n[n.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION";n[n.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT";n[n.CHATINITIATE=180]="CHATINITIATE";n[n.CHATEND=181]="CHATEND";n[n.TRIALSIGNUP=200]="TRIALSIGNUP";n[n.TRIALINITIATE=201]="TRIALINITIATE";n[n.SIGNUP=210]="SIGNUP";n[n.FREESIGNUP=211]="FREESIGNUP";n[n.PARTNERREFERRAL=220]="PARTNERREFERRAL";n[n.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL";n[n.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL";n[n.SHOPPINGINTENT=232]="SHOPPINGINTENT";n[n.VIDEOSTART=240]="VIDEOSTART";n[n.VIDEOPAUSE=241]="VIDEOPAUSE";n[n.VIDEOCONTINUE=242]="VIDEOCONTINUE";n[n.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT";n[n.VIDEOJUMP=244]="VIDEOJUMP";n[n.VIDEOCOMPLETE=245]="VIDEOCOMPLETE";n[n.VIDEOBUFFERING=246]="VIDEOBUFFERING";n[n.VIDEOERROR=247]="VIDEOERROR";n[n.VIDEOMUTE=248]="VIDEOMUTE";n[n.VIDEOUNMUTE=249]="VIDEOUNMUTE";n[n.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN";n[n.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN";n[n.VIDEOREPLAY=252]="VIDEOREPLAY";n[n.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD";n[n.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK";n[n.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL";n[n.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL";n[n.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL";n[n.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE";n[n.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL";n[n.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN";n[n.VIRTUALEVENTEND=261]="VIRTUALEVENTEND";n[n.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT";n[n.IMPRESSION=280]="IMPRESSION";n[n.CLICK=281]="CLICK";n[n.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE";n[n.ADBUFFERING=283]="ADBUFFERING";n[n.ADERROR=284]="ADERROR";n[n.ADSTART=285]="ADSTART";n[n.ADCOMPLETE=286]="ADCOMPLETE";n[n.ADSKIP=287]="ADSKIP";n[n.ADTIMEOUT=288]="ADTIMEOUT";n[n.OTHER=300]="OTHER"}(lr||(lr={}));var au=function(){function n(n,t,i,r,u,f,e){this._webAnalyticsPlugin=n;this._config=t;this._contentHandler=i;this._id=r;this._pageTagsCallback=u;this.metaTags=f;this._traceLogger=e;this._pageTags={}}return n.prototype._setBasicProperties=function(n,t){n.ver="1.0";n.id=this._id.getLastPageViewId();i(n.name)||(n.name=function(n,t){if(t&&t.pageName)return t.pageName;if(n.callback&&"function"==typeof n.callback.pageName)return n.callback.pageName();if(n.coreData&&n.coreData.pageName)return n.coreData.pageName;var r=(ft()||{}).pathname||"",i=r.split("/");return i&&""!==i[i.length-1]?i[i.length-1]:"Undefined"}(this._config,t));!i(n.uri)&&lf&&(n.uri=sl(this._config,ft()))},n.prototype._setCommonProperties=function(n,t,r){this._setBasicProperties(n,r);this._setPageTags(n,r);this._pageTypeMetaTag=is(this.metaTags,this._config.coreData,"pageType");this._marketMetaTag=is(this.metaTags,this._config.coreData,"market");this._behaviorMetaTag=is(this.metaTags,this._config.coreData,"behavior");i(r.pageType)&&(n.pageType=r.pageType);i(this._pageTypeMetaTag)&&!i(n.pageType)&&(n.pageType=this._pageTypeMetaTag);i(this._marketMetaTag)&&(n.market=this._marketMetaTag);n.isLoggedIn=hl(this._config);t.cookieEnabled=er()},n.prototype._setPageTags=function(n,t){var r=this;r._pageTags={};r.metaTags&&(r._pageTags.metaTags=r._pageTags.metaTags||{},y(r.metaTags,function(n,t){"behavior"!==n&&"market"!==n&&"pageType"!==n&&(r._pageTags.metaTags[n]=t)}));r._config.coreData&&r._config.coreData.pageTags&&(r._pageTags=nt(!0,r._pageTags,r._config.coreData.pageTags));r._pageTagsCallback&&(r._pageTags=nt(!0,r._pageTags,r._pageTagsCallback()));i(t.pageTags)&&(r._pageTags=nt(!0,r._pageTags,t.pageTags));n.properties=n.properties||{};n.properties.pageTags=r._pageTags},n.prototype._getBehavior=function(n){var t;return n&&i(n.behavior)?t=n.behavior:i(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},n.prototype._getValidBehavior=function(n){if(i(n)){var t,r=parseInt(n);if((t=isNaN(r)?lr[n]:r)in lr)return t}return 0},n}(),sy=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.capturePageView=function(n,t){var r,u,f;n=i(n)?n:{};r={};u=i(t)?t:{};this._setCommonProperties(r,u,n);r.refUri=i(n.referrerUri)?n.referrerUri:this._config.coreData.referrerUri;r.isManual=!n.isAuto;f=cl(this._config,this._traceLogger);f&&(u.cookies=f);u.behavior=this._getBehavior(n);this._webAnalyticsPlugin.trackPageView(r,u)},t}(au),hy=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.trackPageAction=function(n,t){var r={web:{}},i;r.web.isManual=n.isManual;i={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:r,data:{},baseData:{},latency:1};k(n.sync)||(i.sync=n.sync);i.baseData.name=n.name;i.baseData.uri=n.uri;i.baseData.market=n.market;i.baseData.pageType=n.pageType;i.baseData.isLoggedIn=n.isLoggedIn;i.baseData.id=n.id;i.baseData.properties=n.properties;i.baseData.ver=n.ver;i.baseData.actionType=n.actionType;i.baseData.behavior=n.behavior;i.baseData.clickCoordinates=n.clickCoordinates;i.baseData.content=n.content;i.baseData.contentVer=n.contentVer;i.baseData.targetUri=n.targetUri;y(t,function(n,t){i.data[n]||(i.data[n]=t)});this._webAnalyticsPlugin.core.track(i)},t.prototype.capturePageAction=function(n,t,r,u){var f,e,h,c,y,o,l,s,p,a,v;t=i(t)?t:{};f={};e=i(r)?r:{};this._setCommonProperties(f,e,t);f.isManual=!t.isAuto;f.behavior=this._getBehavior(t);o={};(n=n,u)?f.behavior=9:(l=this._config||{},(n&&k(l.syncPageActionNavClick)||l.syncPageActionNavClick)&&(t.actionType===bt.CLICKLEFT||t.actionType===bt.KEYBOARDENTER)&&"a"===n.tagName.toLowerCase()&&(s=(n.getAttribute("href")||"").toLowerCase(),s&&(ur(s,"https:")||ur(s,"http:")||ur(s,".")||ur(s,"/"))&&(f.sync=3)));n&&(f.targetUri=function(n){var t="",i,r;switch(n.tagName){case"A":case"AREA":t=n.href||"";break;case"IMG":t=function(n){if(n){var t=function(n){return df(n,dv)}(n);if(t&&1===t.length){if(t[0].href)return t[0].href;if(t[0].src)return t[0].src}}return""}(n);break;case"INPUT":i=n.type;i&&el[i.toUpperCase()]&&(r=ft()||{},t=n.form?n.form.action||r.pathname||"":r.pathname||"")}return t}(n),(o=nt(o=this._contentHandler.getElementContent(n,lu.PAGE_ACTION),this._getCustomTags(n)))&&o.bhvr&&!i(t.behavior))&&(p=(c="bhvr",(h=o)&&h[c]&&(y=h[c],delete h[c]),y),f.behavior=this._getValidBehavior(p));i(t.actionType)&&(f.actionType=t.actionType);i(t.clickCoordinateX)&&i(t.clickCoordinateY)&&(f.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY);i(t.targetUri)&&(f.targetUri=t.targetUri);f.contentVer="2.0";a=this._config.callback.pageActionContentTags;f.content=cu(JSON.stringify(nt(t.content||o,"function"==typeof a?a(n):{},t&&t.contentTags?t.contentTags:{})));e.timeToAction=this._getTimeToClick();e.refUri=i(t.refUri)?t.refUri:this._config.coreData.referrerUri;v=cl(this._config,this._traceLogger);v&&(e.cookies=v);this.trackPageAction(f,e)},t.prototype._getCustomTags=function(n){for(var t,i,r={};n;){if(!ol(n))for(t in n.attributes)t&&n.attributes[t]&&(i=n.attributes[t].name,i&&0===i.toLowerCase().indexOf("ms.")&&(r[i]=n.attributes[t].value));n=n.parentElement||n.parentNode}return r},t.prototype._getTimeToClick=function(){var t=pt(),n;return t&&t.timing&&(n=t.timing.navigationStart,n&&0!==n)?(new Date).getTime()-n:-1},t}(au),cy=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.trackContentUpdate=function(n,t){var r={web:{}},i;r.web.isManual=n.isManual;i={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:r,data:{},baseData:{},latency:3};e(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(t){i.baseData[t]=n[t]});y(t,function(n,t){i.data[n]||(i.data[n]=t)});this._webAnalyticsPlugin.core.track(i)},t.prototype.captureContentUpdate=function(n,t){var r,u,f,e,o;n=i(n)?n:{};r={};u=i(t)?t:{};this._setCommonProperties(r,u,n);r.behavior=this._getBehavior(n);i(n.actionType)&&(r.actionType=n.actionType);f=ns();e=fl();r.pageHeight=si?document.body.scrollHeight:null;r.vpHeight=f.h;r.vpWidth=f.w;r.vScrollOffset=e.v;r.hScrollOffset=e.h;r.contentVer="2.0";r.isManual=!n.isAuto;o=this._getContentFormatted(n.content)||JSON.stringify(this._contentHandler.getVisibleContent());o&&(r.content=o);u.isDomComplete=i(n.isDomComplete)?n.isDomComplete:!1;this.trackContentUpdate(r,u)},t.prototype._getContentFormatted=function(n){if(i(n))return"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(n):cu(JSON.stringify(n))},t}(au),ly=function(n){function t(t,i,r,u,f,e){var o=n.call(this,t,i,null,r,{},{},u)||this;return o._webAnalyticsPlugin=t,o._config=i,o._id=r,o._traceLogger=u,o._timestamp=f,o._maxScroll=e,o}return a(t,n),t.prototype.trackPageUnload=function(n,t){var u={web:{}},i,r;u.web.isManual=n.isManual;i={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:u,data:{},baseData:{},latency:3};r=this._config||{};(k(r.syncUnloadAction)||r.syncUnloadAction)&&(i.sync=3);i.baseData.name=n.name;i.baseData.uri=n.uri;i.baseData.id=n.id;i.baseData.properties=n.properties;i.baseData.ver=n.ver;i.baseData.market=n.market;i.baseData.pageType=n.pageType;i.baseData.isLoggedIn=n.isLoggedIn;y(t,function(n,t){i.data[n]||(i.data[n]=t)});this._webAnalyticsPlugin.core.track(i)},t.prototype.capturePageUnload=function(n,t){var e,r;n=i(n)?n:{};var f={},u=i(t)?t:{},o=si?document.body.scrollHeight:0;(this._setBasicProperties(f,n),f.isManual=!n.isAuto,u.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),u.scrollDepth=n.scrollDepth||this._maxScroll.v.toString()+"/"+o.toString(),u.vpHeight=ns().h,u.vScrollOffset=n.vScrollOffset||this._maxScroll.v,lf)&&(e=pt(),r=e?e.timing:null,r&&r.loadEventStart&&r.navigationStart&&r.loadEventStart>0&&(u.pageLoadTime=r.loadEventStart-r.navigationStart));this.trackPageUnload(f,u)},t}(au),ay=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return a(t,n),t.prototype.capturePageViewPerformance=function(n,t){n=i(n)?n:{};var u={},r=i(t)?t:{};this._setBasicProperties(u,n);this._setPageTags(u,n);u.isManual=!n.isAuto;r.behavior=this._getBehavior(n);r.vpHeight=n.vpHeight;r.vpWidth=n.vpWidth;r.framework=n.framework;r.systemTiming=n.systemTiming;r.customTiming=n.customTiming;this._webAnalyticsPlugin._populatePageViewPerformance(u);this._webAnalyticsPlugin.trackPageViewPerformance(u,r)},t}(au),vy=function(){function n(n){this.core=n;this.appUserId=null;this.firstPageView=!1;this._cookieMgr=et(n);this.lastPageViewId=ii();this.traceId=this.createTraceId()}return n.visitorId=function(){return at(et(null),"MUID")},n.prototype.createTraceId=function(){return ii().replace(/-/g,"")},n.prototype.getTraceId=function(){return this.traceId},n.prototype.getLastPageViewId=function(){return this.lastPageViewId},n.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=ii()):this.firstPageView=!0},n.prototype.getMuidUserId=function(){var n=at(this._cookieMgr,"MUID");return n&&n.length?"t:"+n:n},n.prototype.setAppUserId=function(t){if(this.appUserId=null,t){for(var i=0;i<n.userIdPrefixes.length;i++)if(n.userIdPrefixes[i]===t.substring(0,2)){this.appUserId=t;break}this.appUserId}},n.prototype.setDeviceClass=function(n){n&&(this.deviceClass=n)},n.prototype.getDeviceClass=function(){return this.deviceClass},n.prototype.getAppUserId=function(){return this.appUserId},n.prototype.syncMuid=function(n){var r=ft(),u,i,t;return r&&n?(u=(r.protocol||"http:")+"//"+n+"/c.gif?DI=4050&did=1&t=",i=w(),i&&(t=i.createElement("IMG"),t.style.display="none",t.src=u,t.hidden="",t["aria-hidden"]="true",t.role="presentation"),!0):!1},n.prototype.getMuidHost=function(n){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[n]},n.userIdPrefixes=["c:","i:","w:"],n}(),yy=function(){function n(){this._timers=[]}return n.prototype._recordTimeSpan=function(n,t){var i=(new Date).getTime();if(t)return i-this._timers[n];this._timers[n]=i},n}(),py=function(n){function t(){var w,l,a,k,d,c,r,o=n.call(this)||this,g,s,f,v,h;return o.identifier="WebAnalyticsPlugin",o.version="3.1.7",v={h:0,v:0},h=!1,b(t,o,function(n,t){function b(n){var t={};return void 0!==n.isManual&&(t.web={},t.web.isManual=void 0===n.isManual||n.isManual,delete n.isManual),t}n._telemetryInitializers=n._telemetryInitializers||[];n.updateCoreDataConfig=function(n){r.coreData=nt(!0,r.coreData,n)};n.refreshMetadata=function(){var n=s.getMetadata();w.metaTags=n;a.metaTags=n;l.metaTags=n;d.metaTags=n};n.initialize=function(i,h,b){var ut=h,tt,ft,it,rt;if(i.extensionConfig=i.extensionConfig||[],i.extensionConfig[n.identifier]=i.extensionConfig[n.identifier]||{},n._config=r=function(n){var t={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:si?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},i=[];if(y(t,function(n,t){gt(t)&&i.push(n)}),n)return function(n,t){go(n);e(t,function(t){gt(n[t])?go(n[t]):delete n[t]})}(n,i),nt(!0,t,n)}(i.extensionConfig[n.identifier]),tt=r.autoCapture,ft=ut.getWParam,ut.getWParam=function(){var n=0;return r.mscomCookies&&(n|=1),n|ft()},i.extensionConfig[n.identifier].disableExceptionTracking=!tt.jsError,t.initialize(i,h,b),s=s||new fy(r,n.diagLog()),f=f||new oy(n,n.diagLog()),r.manageCv){for(it=0;it<b.length;it++)if("CorrelationVectorPlugin"===b[it].identifier){r.manageCv=!0;c=b[it];break}c||(n.diagLog().throwInternal(u.WARNING,p.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),r.manageCv=!1)}n.id=new vy(h);g=new yy;rt=s.getMetadata();w=new sy(o,r,s,n.id,r.callback.pageViewPageTags,rt,n.diagLog());l=new hy(o,r,s,n.id,r.callback.pageActionPageTags,rt,n.diagLog());a=new cy(o,r,s,n.id,r.callback.contentUpdatePageTags,rt,n.diagLog());k=new ly(o,r,n.id,n.diagLog(),g,v);d=new ay(o,r,s,n.id,r.callback.pageViewPageTags,rt,n.diagLog());r.syncMuid&&ll(function(){var t=n.id.getMuidHost(r.muidDomain);n.id.syncMuid(t)});tt.pageView&&f.pageView();tt.onLoad&&f.onLoad();tt.click&&f.click();tt.scroll&&f.scroll(r.debounceMs);tt.resize&&f.resize(r.debounceMs);(tt.onUnload||r.manualPageUnload)&&f.maxScroll(v);tt.onUnload&&f.onUnload()};n.processTelemetry=function(t,i){var u,f,o;gi(t,n.identifier);u=t;"PageviewData"===u.baseType?(u.name="Ms.Web.PageView",u.latency=3):"ExceptionData"===u.baseType?(u.name="Ms.Web.ClientError",u.latency=1,delete u.baseData.aiDataContract):"PageviewPerformanceData"===u.baseType&&(u.name="Ms.Web.PageViewPerformance",u.latency=1,delete u.baseData.isValid,delete u.baseData.durationMs);f=null;"PageviewData"!==u.baseType?r.manageCv&&(f=c.getCv())&&f.increment():r.manageCv&&((f=c.getCv())?f.seed():f=c.getCv());for(var s=!1,h=n._telemetryInitializers.length,e=0;e<h;++e)if(o=n._telemetryInitializers[e],o&&!1===o.apply(null,[u])){s=!0;break}s||n.processNext(u,i)};n.addTelemetryInitializer=function(t){n._telemetryInitializers.push(t)};n.trackEvent=function(t,r){t.latency=t.latency||1;t.baseData=t.baseData||{};t.data=t.data||{};i(r)&&y(r,function(n,i){t.data[n]=i});n.core.track(t)};n.trackPageView=function(i,r){g._recordTimeSpan("dwellTime",!1);v.v=0;h=!1;n.id.initializeIds();i.id=n.id.getLastPageViewId();t.sendPageViewInternal(i,r,b(i))};n.capturePageView=function(n,t){w.capturePageView(n,t)};n.trackPageViewPerformance=function(n,i){t.sendPageViewPerformanceInternal(n,i,b(n))};n.capturePageViewPerformance=function(n,t){d.capturePageViewPerformance(n,t)};n.trackException=function(n,i){n.id=n.id||ii();t.sendExceptionInternal(n,i,b(n))};n.trackPageAction=function(n,t){l.trackPageAction(n,t)};n.capturePageAction=function(n,t,r,u){(function(n,t){return!(t&&t.isAuto&&i(gf(n,"data-bi-mto"))||rl(n))})(n,t)&&l.capturePageAction(n,t,r,u)};n.trackContentUpdate=function(n,t){a.trackContentUpdate(n,t)};n.captureContentUpdate=function(n,t){a.captureContentUpdate(n,t)};n.trackPageUnload=function(n,t){h||(h=!0,k.trackPageUnload(n,t))};n.capturePageUnload=function(n,t){h||(h=!0,k.capturePageUnload(n,t))};n._populatePageViewPerformance=function(t){n._pageViewPerformanceManager.populatePageViewPerformanceEvent(t)};n.setContentHandler=function(n){s=n};n.setAutoCaptureHandler=function(n){f=n}}),o}return a(t,n),t}(il),rs=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];var by=function(){function n(n,t){var i,r;this.core=t;this.appExpId=null;this.flightIdNameSpaces=rs.slice(0);this.expIdCookieName="Treatments";this._cookieMgr=et(t);this._propertiesConfig=n;i=w();i&&(r=i.documentElement,i&&(this.locale=r.lang));this.env=n.env?n.env:this._getMetaDataFromDOM("awa-").env}return n.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},n.prototype._getMetaDataFromDOM=function(n){var r,f={},u=w(),i,t;if(u)for(r=u&&u.querySelectorAll("meta"),i=0;i<r.length;i++)t=r[i],t.name&&0===t.name.toLowerCase().indexOf(n)&&(f[t.name.replace(n,"")]=t.content);return f},n.prototype._setAppExpId=function(n){n!==this.appExpId&&(this.appExpId=vl(n,this.flightIdNameSpaces))},n.prototype._getAppExpId=function(){return this.appExpId},n.prototype._readExpIdFromCookie=function(){var n=at(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(n),this._getAppExpId()},n.prototype._readExpIdFromCoreData=function(n){return this._setAppExpId(n),this._getAppExpId()},n.validateAppExpId=vl,n._staticInit=void kt(n.prototype,"expId",n.prototype.getExpId),n}(),ky=function(){},dy=function(){function n(t,i,r){var u,f,e,o,s,c,l,h;this.core=r;this._propertiesConfig=i;u=this._cookieMgr=et(r,t);u&&u.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(f=at(u,"MUID"),f&&this.setLocalId("t:"+f)),this._propertiesConfig.enableApplicationInsightsUser&&(e=at(u,n.userCookieName),e&&(o=e.split(n.cookieSeparator),o.length>0&&(this.id=o[0])),this.id||(this.id=nc(t&&!k(t.idLength)?t.idLength:22),s=gr(new Date),this.accountAcquisitionDate=s,c=[this.id,s],l=this._propertiesConfig.cookieDomain?this._propertiesConfig.cookieDomain:void 0,u.set(n.userCookieName,c.join(n.cookieSeparator),31536e3,l))));"undefined"!=typeof navigator&&(h=navigator,this.locale=h.userLanguage||h.language)}return n.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;if(!this._propertiesConfig.hashIdentifiers&&!this._propertiesConfig.dropIdentifiers){var n=at(this._cookieMgr,"MUID");n&&this.setLocalId("t:"+n)}},n.prototype.setLocalId=function(n){this._customLocalId=n},n.cookieSeparator="|",n.userCookieName="ai_user",n._staticInit=void kt(n.prototype,"localId",n.prototype.getLocalId,n.prototype.setLocalId),n}(),us=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],fs=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];var np=function(){function n(t,i){var u=et(i),r=t||{};b(n,this,function(n){var t=ft(),i,s;if(t&&(i=t.hostname,i&&(n.domain="file:"===t.protocol?"local":i)),r.populateBrowserInfo){var f=r.userAgent,e=(r.userAgentData||{}).brands,o=ni();o&&(f=f||o.userAgent||"",e=e||(o.userAgentData||{}).brands),function(t,i){var r,u,f;if(st(i))try{for(r=0;r<fs.length;r++)if(u=gy(fs[r].br,i),u)return n.browser=fs[r].b,void(n.browserVer=u)}catch(n){}t&&(f=function(n){if(n)for(var t=0;t<us.length;t++)if(yl(us[t].ua,n))return us[t].b;return"Unknown"}(t),n.browser=f,n.browserVer=function(n,t){return"MSIE"===t?function(n){var i=n.match(new RegExp("MSIE ([\\d,.]+)")),t;return i?i[1]:(t=n.match(new RegExp("rv:([\\d,.]+)")),t?t[1]:void 0)}(n):function(n,t){"Safari"===n?n="Version":"Edge"===n&&yl("Edg/",t)&&(n="Edg");var i=t.match(new RegExp(n+"/([\\d,.]+)"));return i||"Opera"===n&&(i=t.match(new RegExp("OPR/([\\d,.]+)")))?i[1]:"Unknown"}(t,n)}(t,f))}(f,e);s=function(){var n={h:0,w:0},t=ut();return t&&t.screen&&(n.h=screen.height,n.w=screen.width),n}();n.screenRes=s.w+"X"+s.h}n.getUserConsent=function(){return r.userConsented||!!at(u,r.userConsentCookieName||"MSCC")};n.getUserConsentDetails=function(){var t,n;try{if(t=r.callback,t&&t.userConsentDetails&&(n=t.userConsentDetails(),n))return JSON.stringify({Required:n.Required||!1,Analytics:n.Analytics||!1,SocialMedia:n.SocialMedia||!1,Advertising:n.Advertising||!1})}catch(t){}return null};kt(n,"userConsent",n.getUserConsent)})}return n._staticInit=void kt(n.prototype,"userConsent",n.prototype.getUserConsent),n}(),vi={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},pl={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},wl=[{r:vi.WINPHONE,os:"Windows Phone"},{r:vi.WINRT,os:"Windows RT"},{r:vi.WIN,os:"Windows"},{r:vi.IOS,os:"iOS"},{r:vi.ANDROID,os:"Android"},{r:vi.LINUX,os:"Linux"},{r:vi.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:vi.OSX,os:"Mac OS X"}];var vu,yu,tp=function(n){var i;if(n.populateOperatingSystemInfo){var r=ni()||{},t=n.userAgent||r.userAgent||"",u=n.userAgentData||r.userAgentData||{};t&&(i=function(n){for(var t,i=0;i<wl.length;i++)if((t=wl[i],t.r&&n.match(t.r))||t.s&&-1!==n.indexOf(t.s))return t.os;return"Unknown"}(t.toLowerCase()),this.name=i,this.ver=function(n,t){return"Windows"===t?bl(n,"Windows NT"):"Android"===t?bl(n,t):"Mac OS X"===t?function(n){var r=n.match(new RegExp("Mac OS X ([\\d,_,.]+)")),t,i;return r&&(t=r[1].replace(/_/g,"."),t)?(i=kl(t),i?t.split(i)[0]:t):"Unknown"}(n):"iOS"===t?function(n){var r=n.match(new RegExp("OS ([\\d,_,.]+)")),t,i;return r&&(t=r[1].replace(/_/g,"."),t)?(i=kl(t),i?t.split(i)[0]:t):"Unknown"}(n):"Unknown"}(t,i));this.name&&"Unknown"!==this.name||!d(u.platform)||(this.name=u.platform)}},ip=function(){function n(n,t){this.core=t;n.serviceName&&(this.serviceName=n.serviceName);this._cookieMgr=et(t)}return n.prototype.getMsfpc=function(){return at(this._cookieMgr,"MSFPC")},n.prototype.getAnid=function(){return at(this._cookieMgr,"ANON").slice(0,34)},n._staticInit=(kt(n.prototype,"msfpc",n.prototype.getMsfpc),void kt(n.prototype,"anid",n.prototype.getAnid)),n}(),rp=function(n){this.popSample=100;this.eventFlags=0;n.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags);n.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},up=function(){var i=(new Date).getTimezoneOffset(),n=i%60,t=(i-n)/60,r="+";t>0&&(r="-");t=Math.abs(t);n=Math.abs(n);this.tz=r+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},fp=function(){},dl=function(){function n(){}return n.prototype.setId=function(n){this.customId=n},n.prototype.getId=function(){return d(this.customId)?this.customId:this.automaticId},n._staticInit=void kt(n.prototype,"id",n.prototype.getId,n.prototype.setId),n}(),ep=function(n,t,i,r){if(n.enableApplicationInsightsTrace){this.traceId=t||ei();this.parentId=i;this.name=r;var u=ft();u&&u.pathname&&(this.name=u.pathname)}},ar=lt({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),vr=lt({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),es=lt({locale:"locale",localId:"localId",id:"id"}),gl=lt({osName:"name",ver:"ver"}),os=lt({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),ss=lt({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),na=lt({popSample:"popSample",eventFlags:"eventFlags"}),op=lt({tz:"tz"}),sp=lt({sessionId:"sesId"}),ne=lt({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),hs=lt({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),cs=lt({traceId:"traceID",traceName:"name",parentId:"parentID"}),c=lt({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),ls="MicrosoftApplicationsTelemetryDeviceId",hp=function(){function n(n,t){var u,i,r;this._sequenceId=0;u=n.propertyStorageOverride;this.seq=this._sequenceId;this.epoch=or(!1).toString();i=et(t,n);i.isEnabled()||u?(r=function(n,t,i){return t?t.getProperty(i)||"":at(n,i)}(i,u,ls),r||(r=gh()),function(n,t,i,r){t?t.setProperty(i,r):n.set(i,r,31536e3)}(i,u,ls,r),this.installId=r):i.purge(ls)}return n.prototype.getSequenceId=function(){return++this._sequenceId},n}();!function(n){n[n.LocalStorage=0]="LocalStorage";n[n.SessionStorage=1]="SessionStorage"}(yu||(yu={}));var cp=function(){function n(t,i){var e,r,f=de(t),o=et(t);b(n,this,function(t){function c(n){var i=t.automaticSession,r=n.split("|"),e,o;r.length>0&&i.setId(r[0]);try{r.length>1&&(e=+r[1],i.acquisitionDate=+new Date(e),i.acquisitionDate=i.acquisitionDate>0?i.acquisitionDate:0);r.length>2&&(o=+r[2],i.renewalDate=+new Date(o),i.renewalDate=i.renewalDate>0?i.renewalDate:0)}catch(n){f.throwInternal(u.CRITICAL,p.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+n)}0===i.renewalDate&&f.throwInternal(u.WARNING,p.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function l(){var n=t.automaticSession,r=(new Date).getTime(),i=t.config.sessionAsGuid();!k(i)&&i?gs(i)?n.setId(ii()):n.setId(ii(i)):n.setId(nc(h&&h.idLength?h.idLength():22));n.acquisitionDate=r;n.renewalDate=r;a(n.getId(),n.acquisitionDate,n.renewalDate);ta()||f.throwInternal(u.WARNING,p.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function a(n,i,u){var s=i+t.config.sessionExpirationMs(),h=u+t.config.sessionRenewalMs(),f=new Date,l=[n,i,u],c;s<h?f.setTime(s):f.setTime(h);c=t.config.cookieDomain?t.config.cookieDomain():null;o.set(r(),l.join("|")+";expires="+f.toUTCString(),null,c);e=(new Date).getTime()}var s,h={sessionRenewalMs:(s=i).sessionRenewalMs&&function(){return s.sessionRenewalMs},sessionExpirationMs:s.sessionExpirationMs&&function(){return s.sessionExpirationMs},cookieDomain:s.cookieDomain&&function(){return s.cookieDomain},namePrefix:s.namePrefix&&function(){return s.namePrefix},sessionAsGuid:function(){return s.sessionAsGuid},idLength:function(){return s.idLength?s.idLength:22}};v(i.sessionExpirationMs)||(h.sessionExpirationMs=function(){return n.acquisitionSpan});v(i.sessionRenewalMs)||(h.sessionRenewalMs=function(){return n.renewalSpan});t.config=h;r=function(){return t.config.namePrefix&&t.config.namePrefix()?n.cookieNameConst+t.config.namePrefix():n.cookieNameConst};t.automaticSession=new dl;t.update=function(){t.automaticSession.getId()||function(){var n=ic(r()),i;n&&v(n.split)?c(n):(i=function(n,t){var i=ia();if(null!==i)try{return i.getItem(t)}catch(t){vu=!1;n.throwInternal(u.CRITICAL,p.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}(f,r()),i&&c(i));t.automaticSession.getId()||l()}();var i=t.automaticSession,s=t.config,o=(new Date).getTime(),h=o-i.acquisitionDate>s.sessionExpirationMs(),y=o-i.renewalDate>s.sessionRenewalMs();h||y?l():(!e||o-e>n.cookieUpdateInterval)&&(i.renewalDate=o,a(i.getId(),i.acquisitionDate,i.renewalDate))};t.backup=function(){var i,e,o,n=t.automaticSession;i=n.getId();e=n.acquisitionDate;o=n.renewalDate,function(n,t,i){var r=ia();if(null!==r)try{r.setItem(t,i)}catch(t){vu=!1;n.throwInternal(u.CRITICAL,p.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}(f,r(),[i,e,o].join("|"))}})}return n.acquisitionSpan=864e5,n.renewalSpan=18e5,n.cookieUpdateInterval=6e4,n.cookieNameConst="ai_session",n}(),l=d,lp=function(){function n(n,t,i){this.app=new by(t,i);this.cloud=new ky;this.user=new dy(n,t,i);this.os=new tp(t);this.web=new np(t,i);this.sdk=new hp(n,i);this.intWeb=new ip(t,i);this.utc=new rp(t);this.loc=new up;this.device=new fp;this.telemetryTrace=new ep(t);this.sessionManager=new cp(i,t);this.session=new dl}return n.prototype.getSessionId=function(){var n=this.session,i,r,t;return n&&l(n.customId)?n.customId:(i=this.sessionManager,i.update(),r=i.automaticSession,r&&(t=r.getId(),t&&l(t)&&(n.automaticId=t)),n.automaticId)},n.prototype.applyApplicationContext=function(n){var t=this.app,i=n.ext[c.AppExt];s(i,ar.id,t.id,l);s(i,ar.ver,t.ver,l);s(i,ar.appName,t.name,l);s(i,ar.locale,t.locale,l);s(i,ar.expId,t.getExpId(),l);s(i,ar.env,t.env,l)},n.prototype.applyUserContext=function(n){var t=this.user,i=n.ext[c.UserExt];s(i,es.localId,t.getLocalId(),l);s(i,es.locale,t.locale,l);s(i,es.id,t.id,l)},n.prototype.applyWebContext=function(n){var t=this.web,i=n.ext[c.WebExt];s(i,vr.domain,t.domain,l);s(i,vr.browser,t.browser,l);s(i,vr.browserVer,t.browserVer,l);s(i,vr.screenRes,t.screenRes,l);i[vr.userConsent]=t.getUserConsent();i[vr.consentDetails]=t.getUserConsentDetails()},n.prototype.applyOsContext=function(n){var t=this.os,i=n.ext[c.OSExt];s(i,gl.osName,t.name,l);s(i,gl.ver,t.ver,l)},n.prototype.applySdkContext=function(n){var t=this.sdk,i=n.ext[c.SdkExt];i[os.seq]=t.getSequenceId();i[os.epoch]=t.epoch;s(i,os.installId,t.installId,l)},n.prototype.applyIntWebContext=function(n){var t=this.intWeb,i=n.ext[c.IntWebExt];s(i,ss.msfpc,t.getMsfpc(),l);s(i,ss.anid,t.getAnid(),l);s(i,ss.serviceName,t.serviceName,l)},n.prototype.applyUtcContext=function(n){var t=this.utc,i=n.ext[c.UtcExt];i[na.popSample]=t.popSample;t.eventFlags>0&&(i[na.eventFlags]=t.eventFlags)},n.prototype.applyLocContext=function(n){n.ext[c.LocExt][op.tz]=this.loc.tz},n.prototype.applySessionContext=function(n){n.ext[c.AppExt][sp.sessionId]=this.getSessionId()},n.prototype.applyDeviceContext=function(n){var t=this.device,i=n.ext[c.DeviceExt];s(i,ne.localId,t.localId,l);s(i,ne.make,t.make,l);s(i,ne.model,t.model,l);s(i,ne.deviceClass,t.deviceClass,l)},n.prototype.applyCloudContext=function(n){var t=this.cloud,i=n.ext[c.CloudExt];s(i,hs.role,t.role,l);s(i,hs.roleInstance,t.roleInstance,l);s(i,hs.roleVer,t.roleVer,l)},n.prototype.applyAITraceContext=function(n){var t=this.telemetryTrace,i=n.ext[c.TraceExt];s(i,cs.traceId,t.traceId,l);s(i,cs.traceName,t.name,l);s(i,cs.parentId,t.parentId,l)},n}(),ap=function(n){function t(){var i,r=n.call(this)||this,u;return r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.1.7",u={},b(t,r,function(t){t.initialize=function(u,f,e){n.prototype.initialize.call(r,u,f,e);i=new lp(u,t._getTelCtx().getExtCfg(t.identifier),f)};t.processTelemetry=function(n,r){gi(n,t.identifier);r=t._getTelCtx(r);var o,s,f=n.ext=n.ext?n.ext:{};n.data=n.data?n.data:{};f[c.AppExt]=f[c.AppExt]||{};f[c.UserExt]=f[c.UserExt]||{};f[c.WebExt]=f[c.WebExt]||{};f[c.OSExt]=f[c.OSExt]||{};f[c.SdkExt]=f[c.SdkExt]||{};f[c.IntWebExt]=f[c.IntWebExt]||{};f[c.UtcExt]=f[c.UtcExt]||{};f[c.LocExt]=f[c.LocExt]||{};f[c.DeviceExt]=f[c.DeviceExt]||{};f[c.TraceExt]=f[c.TraceExt]||{};f[c.CloudExt]=f[c.CloudExt]||{};i.applyApplicationContext(n);i.applyUserContext(n);i.applyWebContext(n);i.applyOsContext(n);i.applySdkContext(n);i.applyIntWebContext(n);i.applyUtcContext(n);i.applyLocContext(n);i.applySessionContext(n);i.applyDeviceContext(n);i.applyAITraceContext(n);i.applyCloudContext(n);e(fr(f),function(n){0===fr(f[n]).length&&delete f[n]});o=u;s=n.data;o&&y(o,function(n,t){s[n]||(s[n]=t)});t.processNext(n,r)};t.getPropertiesContext=function(){return i};t.setProperty=function(n,t){u[n]=t}}),r}return a(t,n),t}(ti),te=function(){function n(t,i){var r=i?[].concat(i):[];this.iKey=function(){return t};this.count=function(){return r.length};this.events=function(){return r};this.addEvents=function(n,t){return void 0===t&&(t=!0),n&&n.length>0?(r=t?r.concat(n):n.concat(r),n.length):0};this.split=function(i,u){var o=new n(t),e;return i<r.length&&(e=r.length-i,f(u)||(e=u<e?u:e),o.addEvents(r.splice(i,e),!0)),o}}return n.create=function(t,i){return new n(t,i)},n}(),vp=Math.min(2e6,65e3),yp=/\./,pp=function n(t,r,u,e){var h=!!e,o=r,s={};b(n,this,function(n){function r(n,t,e,c,l,a,v){y(n,function(n,y){var ft=null,it,rt,ut,k,g,nt;if(y||i(y)){var b=e,p=n,w=l,tt=t;if(h&&!c&&yp.test(n)&&(it=n.split("."),rt=it.length,rt>1)){for(w&&(w=w.slice()),ut=0;ut<rt-1;ut++)k=it[ut],tt=tt[k]=tt[k]||{},b+="."+k,w&&w.push(k);p=it[rt-1]}(ft=c&&function(n){var t=s[n];return void 0===t&&(n.length>=7&&(t=ur(n,"ext.metadata")||ur(n,"ext.web")),s[n]=t),t}(b)||!o||!o.handleField(b,p)?function(n,t,r){if(!t&&!i(t)||"string"!=typeof n)return null;var u=typeof t;if("string"===u||"number"===u||"boolean"===u||st(t))t={value:t};else if("object"!==u||t.hasOwnProperty("value")){if(f(t.value)||""===t.value||!d(t.value)&&!nf(t.value)&&!gs(t.value)&&!st(t.value))return null}else t={value:r?JSON.stringify(t):t};if(st(t.value)&&!(t.value.length>0))return null;if(!f(t.kind)){if(st(t.value)||!function(n){return 0===n||n>0&&n<=13||32===n}(t.kind))return null;t.value=t.value.toString()}return t}(p,y,u):o.value(b,p,y,u))&&(g=ft.value,(tt[p]=g,a&&a(w,p,ft),v&&"object"==typeof g&&!st(g))&&(nt=w,nt&&(nt=nt.slice()).push(p),r(y,g,b+"."+p,c,nt,a,v)))}})}n.createPayload=function(n,t,i,r,u,f){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:n,isTeardown:t,isSync:i,isBeacon:r,sendType:f,sendReason:u}};n.appendPayload=function(i,r,u){var f=i&&r&&!i.overflow;return f&&ht(t,function(){return"Serializer:appendPayload"},function(){for(var o,e,w,a,c=r.events(),f=i.payloadBlob,l=i.numEvents,v=!1,s=[],h=[],y=i.isBeacon,b=y?65e3:3984588,k=y?vp:2e6,t=0,p=0;t<c.length;){if(o=c[t],o){if(l>=u){i.overflow=r.split(t);break}if(e=n.getEventBlob(o),e&&e.length<=k){if(w=e.length,f.length+w>b){i.overflow=r.split(t);break}f&&(f+="\n");f+=e;++p>20&&(f.substr(0,1),p=0);v=!0;l++}else e?s.push(o):h.push(o),c.splice(t,1),t--}t++}(s&&s.length>0&&i.sizeExceed.push(te.create(r.iKey(),s)),h&&h.length>0&&i.failedEvts.push(te.create(r.iKey(),h)),v)&&(i.batches.push(r),i.payloadBlob=f,i.numEvents=l,a=r.iKey(),-1===ye(i.apiKeys,a)&&i.apiKeys.push(a))},function(){return{payload:i,theBatch:{iKey:r.iKey(),evts:r.events()},max:u}}),f};n.getEventBlob=function(n){try{return ht(t,function(){return"Serializer.getEventBlob"},function(){var t={},i,f,u,e;return t.name=n.name,t.time=n.time,t.ver=n.ver,t.iKey="o:"+function(n){if(n){var t=n.indexOf("-");if(t>-1)return n.substring(0,t)}return""}(n.iKey),i={},f=n.ext,f&&(t.ext=i,y(f,function(n,t){r(t,i[n]={},"ext."+n,!0,null,null,!0)})),u=t.data={},u.baseType=n.baseType,e=u.baseData={},r(n.baseData,e,"baseData",!1,["baseData"],function(n,t,r){ua(i,n,t,r)},!0),r(n.data,u,"data",!1,[],function(n,t,r){ua(i,n,t,r)},!0),JSON.stringify(t)},function(){return{item:n}})}catch(n){return null}}})};var yr,as=function(){function n(){}return n.shouldRetryForStatus=function(n){return!(n>=300&&n<500&&408!=n&&429!=n||501==n||505==n)},n.getMillisToBackoffForRetry=function(n){var t,i=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,n)*i,Math.min(t,6e5)},n}(),wp=function n(){var t={};b(n,this,function(n){n.setKillSwitchTenants=function(n,i){var r,s,u,f,o;if(n&&i)try{if(r=(f=n.split(","),o=[],f&&e(f,function(n){o.push(g(n))}),o),"this-request-only"===i)return r;for(s=1e3*parseInt(i,10),u=0;u<r.length;++u)t[r[u]]=yt()+s}catch(n){return[]}return[]};n.isTenantKilled=function(n){var i=t,r=g(n);return void 0!==i[r]&&i[r]>yt()||(delete i[r],!1)}})},bp=function n(){var t=!0,i=!0,u=!0,f="use-collector-delta",r=!1;b(n,this,function(n){n.allowRequestSending=function(){return t};n.firstRequestSent=function(){u&&(u=!1,r||(t=!1))};n.shouldAddClockSkewHeaders=function(){return i};n.getClockSkewHeaderValue=function(){return f};n.setClockSkew=function(n){r||(n?(f=n,i=!0,r=!0):i=!1,t=!0)}})},kp=((yr={})[1]="requeue",yr[100]="requeue",yr[200]="sent",yr[8004]="drop",yr[8003]="drop",yr);var dp=function n(t,r,o,s){this._responseHandlers=[];var c,a,l,pt,lt="?cors=true&"+"content-type".toLowerCase()+"=application/x-json-stream&client-id=NO_AUTH&client-version=1DS-Web-JS-3.1.7",ot=new wp,rt=!1,w=new bp,at=!1,et=0,vt=!0,tt=[],bt={},v=[],ut=null,ct=!1,it=!1;b(n,this,function(n){function dt(n,t){for(var r=0,i=null,u=0;null==i&&u<n.length;)1===(r=n[u])?sh()?i=ai:uu()&&(i=yi):2===r&&rv(t)?i=vi:at&&3===r&&oh()&&(i=pi),u++;return i?{_transport:r,_isSync:t,sendPOST:i}:null}function ai(n,t,i){var r=new XDomainRequest;r.open("POST",n.urlString);r.onload=function(){var n=fa(r);b(t,200,{},n);ei(n)};r.onerror=function(){b(t,400,{})};r.ontimeout=function(){b(t,500,{})};r.onprogress=function(){};i?r.send(n.data):c._setTimeoutOverride(function(){r.send(n.data)},0)}function vi(n,t,i){var u,r=((u={body:n.data,method:"POST"}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,u);i&&(r.keepalive=!0);ri&&(r.credentials="include");n.headers&&fr(n.headers).length>0&&(r.headers=n.headers);fetch(n.urlString,r).then(function(n){var r={},i="";n.headers&&n.headers.forEach(function(n,t){r[t]=n});n.body&&n.text().then(function(n){i=n});b(t,n.status,r,i);ei(i)}).catch(function(){b(t,0,{})})}function yi(n,t,i){function u(n,t,i){if(!n[i]&&t&&t.getResponseHeader){var r=t.getResponseHeader(i);r&&(n[i]=g(r))}return n}function f(n,i){b(t,n.status,function(n){var r,i,t={};return n.getAllResponseHeaders?(r=n.getAllResponseHeaders(),i={},d(r)&&e(g(r).split(/[\r\n]+/),function(n){var t,r,u;n&&(t=n.indexOf(": "),-1!==t?(r=g(n.substring(0,t)).toLowerCase(),u=g(n.substring(t+1)),i[r]=u):i[g(n)]=1)}),t=i):(t=u(t,n,"time-delta-millis"),t=u(t,n,"kill-duration"),t=u(t,n,"kill-duration-seconds")),t}(n),i)}var r=uc("POST",n.urlString,ri,!0,i);y(n.headers,function(n,t){r.setRequestHeader(n,t)});r.onload=function(){var n=fa(r);f(r,n);ei(n)};r.onerror=function(){f(r)};r.ontimeout=function(){f(r)};r.send(n.data)}function b(n,t,i,r){try{n(t,i,r)}catch(n){c.diagLog().throwInternal(u.WARNING,p.SendPostOnCompleteFailure,h(n))}}function pi(n,t){var r=200,u=n._thePayload,f,i;try{f=ni();f.sendBeacon(n.urlString,n.data)||(u?(i=[],e(u.batches,function(t){if(i&&t&&t.count()>0){for(var u=t.events(),r=0;r<u.length;r++)if(!f.sendBeacon(n.urlString,ut.getEventBlob(u[r]))){i.push(t.split(r));break}}else i.push(t.split(0))}),kt(i,8003,u.sendType,!0)):r=0)}catch(n){c.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+n);r=0}finally{b(t,r,{},"")}}function gt(n){return 2===n||3===n}function ui(n){return it&&gt(n)&&(n=2),n}function oi(){return!rt&&et<r}function si(){var n=v;return v=[],n}function hi(n,t,i){var r=!1;return n&&n.length>0&&!rt&&a[t]&&ut&&(r=0!==t||oi()&&(i>0||w.allowRequestSending())),r}function ci(n){var t={};return n&&e(n,function(n,i){t[i]={iKey:n.iKey(),evts:n.events()}}),t}function ti(n,i,r,f,e){if(n&&0!==n.length)if(rt)kt(n,1,f);else{f=ui(f);try{var s=n,o=0!==f;ht(l,function(){return"HttpManager:_sendBatches"},function(u){var h;u&&(n=n.slice(0));for(var l=[],s=null,c=wt(),y=a[f]||(o?a[1]:a[0]),p=(it||gt(f)||y&&3===y._transport)&&!vt&&at&&oh();hi(n,f,i);)h=n.shift(),h&&h.count()>0&&(ot.isTenantKilled(h.iKey())?l.push(h):(s=s||ut.createPayload(i,r,o,p,e,f),ut.appendPayload(s,h,t)?null!==s.overflow&&(n=[s.overflow].concat(n),s.overflow=null,fi(s,c,wt(),e),c=wt(),s=null):(fi(s,c,wt(),e),c=wt(),n=[h].concat(n),s=null)));s&&fi(s,c,wt(),e);n.length>0&&(v=n.concat(v));kt(l,8004,f)},function(){return{batches:ci(s),retryCount:i,isTeardown:r,isSynchronous:o,sendReason:e,useSendBeacon:gt(f),sendType:f}},!o)}catch(n){c.diagLog().throwInternal(u.WARNING,p.CannotSerializeObject,"Unexpected Exception sending batch: "+h(n))}}}function wi(n){var t=lt,r="",f,o,u;for(e(n.apiKeys,function(n){r.length>0&&(r+=",");r+=n}),r.length>0&&(t+="&apikey="+r),t+="&upload-time="+yt().toString(),f=function(n){for(var u,r,f,t=0;t<n.batches.length;t++)for(u=n.batches[t].events(),r=0;r<u.length;r++)if(f=(u[r].ext||{}).intweb||{},i(f.msfpc))return encodeURIComponent(f.msfpc);return""}(n),(i(f)&&(t=t+"&ext.intweb.msfpc="+f),w.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+w.getClockSkewHeaderValue()),l.getWParam)&&(o=l.getWParam(),o>=0&&(t+="&w="+o)),u=0;u<tt.length;u++)t+="&"+tt[u].name+"="+tt[u].value;return t}function ii(n,t,i){n[t]=n[t]||{};n[t][c.identifier]=i}function fi(t,i,r,u){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var f=wi(t),s=wt();ht(l,function(){return"HttpManager:_doPayloadSend"},function(){for(var rt,g,y,tt,v,d=0;d<t.batches.length;d++)for(rt=t.batches[d].events(),g=0;g<rt.length;g++)y=rt[g],ct&&(tt=y.timings=y.timings||{},ii(tt,"sendEventStart",s),ii(tt,"serializationStart",i),ii(tt,"serializationCompleted",r)),y.sendAttempt>0?y.sendAttempt++:y.sendAttempt=1;kt(t.batches,1e3+(u||0),t.sendType,!0);v={data:t.payloadBlob,urlString:f,headers:nt({},bt),_thePayload:t,_sendReason:u};ea(v.headers,"cache-control")||(v.headers["cache-control"]="no-cache, no-store");ea(v.headers,"content-type")||(v.headers["content-type"]="application/x-json-stream");var p=null,ut=!!n.sendHook,k=a[t.sendType];!gt(t.sendType)&&t.isBeacon&&2===t.sendReason&&(k=a[2]||a[3]||k);k&&(p=function(i){w.firstRequestSent();var r=function(i,r){!function(t,i,r,u){var f=9e3,s=null,a=!1,v=!1,l,y,h;try{if(l=!0,void 0!==t){if(i&&(w.setClockSkew(i["time-delta-millis"]),y=i["kill-duration"]||i["kill-duration-seconds"],e(ot.setKillSwitchTenants(i["kill-tokens"],y),function(n){e(r.batches,function(t){if(t.iKey()===n){s=s||[];var i=t.split(0);r.numEvents-=i.count();s.push(i)}})})),200==t)return void(f=200);(!as.shouldRetryForStatus(t)||r.numEvents<=0)&&(l=!1);f=9e3+t%1e3}l&&(f=100,h=r.retryCnt,0===r.sendType&&(h<o?(a=!0,li(function(){0===r.sendType&&et--;ti(r.batches,h+1,r.isTeardown,it?2:r.sendType,5)},it,as.getMillisToBackoffForRetry(h))):v=!0))}finally{a||(w.setClockSkew(),function(t,i,r,u){try{u&&c._backOffTransmission();200===i&&(u||t.isSync||c._clearBackOff(),function(n){if(ct){var t=wt();e(n,function(n){var i,r;n&&n.count()>0&&(i=n.events(),r=t,ct&&e(i,function(n){ii(n.timings=n.timings||{},"sendEventCompleted",r)}))})}}(t.batches));kt(t.batches,i,t.sendType,!0)}finally{0===t.sendType&&(et--,5!==r&&n.sendQueuedRequests(t.sendType,r))}}(r,f,u,v));kt(s,8004,r.sendType)}}(i,r,t,u)},f=t.isTeardown||t.isSync;try{k.sendPOST(i,r,f);n.sendListener&&n.sendListener(v,i,f,t.isBeacon)}catch(n){c.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+h(n));b(r,0,{})}});ht(l,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(p)if(0===t.sendType&&et++,ut&&!t.isBeacon&&3!==k._transport){var r={data:v.data,urlString:v.urlString,headers:nt({},v.headers)},i=!1;ht(l,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{n.sendHook(r,function(n){i=!0;vt||n._thePayload||(n._thePayload=n._thePayload||v._thePayload,n._sendReason=n._sendReason||v._sendReason);p(n)},t.isSync||t.isTeardown)}catch(n){i||p(v)}})}else p(v)})},function(){return{thePayload:t,serializationStart:i,serializationCompleted:r,sendReason:u}},t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&kt(t.sizeExceed,8003,t.sendType);t.failedEvts&&t.failedEvts.length>0&&kt(t.failedEvts,8002,t.sendType)}function li(n,t,i){t?n():c._setTimeoutOverride(n,i)}function ei(t){var e=n._responseHandlers,r,f;try{for(r=0;r<e.length;r++)try{e[r](t)}catch(n){c.diagLog().throwInternal(u.CRITICAL,p.PostResponseHandler,"Response handler failed: "+n)}t&&(f=JSON.parse(t),i(f.webResult)&&i(f.webResult.msfpc)&&pt.set("MSFPC",f.webResult.msfpc,31536e3))}catch(n){}}function kt(n,t,r,f){var a,h,e,o;n&&n.length>0&&s&&(a=s[(e=t,o=kp[e],i(o)||(o="oth",e>=9e3&&e<=9999?o="rspFail":e>=8e3&&e<=8999?o="drop":e>=1e3&&e<=1999&&(o="send")),o)],a&&(h=0!==r,ht(l,function(){return"HttpManager:_sendBatchesNotification"},function(){li(function(){try{a.call(s,n,t,h,r)}catch(n){c.diagLog().throwInternal(u.CRITICAL,p.NotificationException,"send request notification failed: "+n)}},f||h,0)},function(){return{batches:ci(n),reason:t,isSync:h,sendSync:f,sendType:r}},!h)))}var ri=!0;n.initialize=function(n,t,i,r,u){var o,v,y,p,s,h,f,e;u||(u={});lt=n+lt;l=t;pt=t.getCookieMgr();ct=!l.config.disableEventTimings;v=!!l.config.enableCompoundKey;c=i;y=u.valueSanitizer;p=u.stringifyObjects;k(u.enableCompoundKey)||(v=!!u.enableCompoundKey);at=!be();ut=new pp(l,y,p,v);s=r;r||(vt=!1,h=ft(),h&&h.protocol&&"file:"===h.protocol.toLowerCase()&&(ri=!1),f=[],f=be()?[2,1]:[1,2,3],e=u.transports,e&&(nf(e)?f=[e].concat(f):st(e)&&(f=e.concat(f))),r=dt(f,!1),s=dt(f,!0),r||c.diagLog().warnToConsole("No available transport to send events"));(o={})[0]=r;o[1]=s||dt([1,2,3],!0);o[2]=dt([3,2,1],!0)||s;o[3]=dt([2,3,1],!0)||s;a=o};n._getDbgPlgTargets=function(){return[a[0],ot,ut,a]};n.addQueryStringParameter=function(n,t){for(var i=0;i<tt.length;i++)if(tt[i].name===n)return void(tt[i].value=t);tt.push({name:n,value:t})};n.addHeader=function(n,t){bt[n]=t};n.canSendRequest=function(){return oi()&&w.allowRequestSending()};n.sendQueuedRequests=function(n,t){k(n)&&(n=0);it&&(n=ui(n),t=2);hi(v,n,0)&&ti(si(),0,!1,n,t||0)};n.isCompletelyIdle=function(){return!rt&&0===et&&0===v.length};n.setUnloading=function(n){it=n};n.addBatch=function(n){if(n&&n.count()>0){if(ot.isTenantKilled(n.iKey()))return!1;v.push(n)}return!0};n.teardown=function(){v.length>0&&ti(si(),0,!0,2,2)};n.pause=function(){rt=!0};n.resume=function(){rt=!1;n.sendQueuedRequests(0,4)};n.sendSynchronousBatch=function(n,t,i){n&&n.count()>0&&(f(t)&&(t=1),it&&(t=ui(t),i=2),ti([n],0,!1,t,i||0))}})},oa=lf?window:void 0,gp=function(n){function t(){var r,nt=n.call(this)||this;nt.identifier="PostChannel";nt.priority=1011;nt.version="3.1.7";var vt,f,ot,tt,rt,yt=!1,lt=[],o=null,l=!1,k=0,pt=500,c=0,st=1e4,a={},ft="REAL_TIME",d=null,at=null,s=0,et=0,h={},v=-1,ct=!0,g=!1;return b(t,nt,function(n,t){function ui(n,t){var i,r,u;if(n.sendAttempt||(n.sendAttempt=0),n.latency||(n.latency=1),n.ext&&n.ext.trace&&delete n.ext.trace,n.ext&&n.ext.user&&n.ext.user.id&&delete n.ext.user.id,ct&&(n.ext=nu(n.ext),n.baseData&&(n.baseData=nu(n.baseData)),n.data&&(n.data=nu(n.data))),n.sync)if(s||l)n.latency=3,n.sync=!1;else if(f)return ct&&(n=nu(n)),void f.sendSynchronousBatch(te.create(n.iKey,[n]),!0===n.sync?1:n.sync,3);var e=n.latency,o=c,h=st;4===e&&(o=k,h=pt);i=!1;o<h?i=!oi(n,t):(r=1,u=20,4===e&&(r=4,u=1),i=!0,function(n,t,i,r){for(var u,e,f;i<=t;){if(u=fi(n,t,!0),u&&u.count()>0&&(e=u.split(0,r),f=e.count(),f>0))return 4===i?k-=f:c-=f,kt("eventsDiscarded",[e],5),!0;i++}return si(),!1}(n.iKey,n.latency,r,u)&&(i=!oi(n,t)));i&&ii("eventsDiscarded",[n],5)}function wt(n,t,i){var r=ni(n,t,i);return f.sendQueuedRequests(t,i),r}function gt(){return c>0}function b(){var n,t;(v>=0&&ni(v,0,rt)&&f.sendQueuedRequests(0,rt),k>0&&!at&&!l)&&(n=a[ft][2],n>=0&&(at=bt(function(){at=null;wt(4,0,1);b()},n)));t=a[ft][1];!d&&!o&&t>=0&&!l&&(gt()?d=bt(function(){d=null;wt(0===et?3:1,0,1);et++;et%=2;b()},t):et=0)}function bt(t,i){0===i&&s&&(i=1);var r=1e3;return s&&(r=as.getMillisToBackoffForRetry(s-1)),n._setTimeoutOverride(t,i*r)}function nt(){null!==d&&(n._clearTimeoutOverride(d),d=null,et=0)}function dt(t,i){nt();o&&(n._clearTimeoutOverride(o),o=null);l||wt(1,t,i)}function fi(n,t,i){var u=h[t],r;return u||(u=h[t=1]),r=u.iKeyMap[n],!r&&i&&(r=te.create(n),u.batches.push(r),u.iKeyMap[n]=r),r}function ei(t,i){f.canSendRequest()&&!s&&(ot>0&&c>ot&&(i=!0),i&&null==o&&n.flush(t,null,20))}function oi(n,t){ct&&(n=nu(n));var i=n.latency,r=fi(n.iKey,i,!0);return!!r.addEvents([n],t)&&(4!==i?(c++,t&&0===n.sendAttempt&&ei(!n.sync,tt>0&&r.count()>=tt)):k++,!0)}function si(){for(var t=0,i=0,r=function(n){var r=h[n];r&&r.batches&&e(r.batches,function(r){4===n?t+=r.count():i+=r.count()})},n=1;n<=4;n++)r(n);c=i;k=t}function ni(t,i,r){var u=!1,o=0===i;return!o||f.canSendRequest()?ht(n.core,function(){return"PostChannel._queueBatches"},function(){for(var n,i=[],r=4;r>=t;)n=h[r],n&&n.batches&&n.batches.length>0&&(e(n.batches,function(n){f.addBatch(n)?u=u||n&&n.count()>0:i=i.concat(n.events());4===r?k-=n.count():c-=n.count()}),n.batches=[],n.iKeyMap={}),r--;i.length>0&&ii("eventsDiscarded",i,4);u&&v>=t&&(v=-1,rt=0)},function(){return{latency:t,sendType:i,sendReason:r}},!o):(v=v>=0?Math.min(v,t):t,rt=Math.max(rt,r)),u}function hi(){(a={}).REAL_TIME=[2,1,0];a.NEAR_REAL_TIME=[6,3,0];a.BEST_EFFORT=[18,9,0]}function ti(t,i){var r=n._notificationManager||{},f=r[t];if(f)try{f.apply(r,i)}catch(i){n.diagLog().throwInternal(u.CRITICAL,p.NotificationException,t+" notification failed: "+i)}}function ii(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t&&t.length>0&&ti(n,[t].concat(r))}function kt(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t&&t.length>0&&e(t,function(t){t&&t.count()>0&&ti(n,[t.events()].concat(r))})}function ri(){tt=r&&r.disableAutoBatchFlushLimit?0:Math.max(1500,st/6)}hi();h[4]={batches:[],iKeyMap:{}};h[3]={batches:[],iKeyMap:{}};h[2]={batches:[],iKeyMap:{}};h[1]={batches:[],iKeyMap:{}};ri();f=new dp(500,2,1,{requeue:function(t){var i=[];e(t,function(t){t&&t.count()>0&&e(t.events(),function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<6?(gi(t,n.identifier),ui(t,!1)):i.push(t))})});i.length>0&&ii("eventsDiscarded",i,1);g&&dt(2,2)},send:function(n,t,i){n&&n.length>0&&ti("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==i])},sent:function(n,t){kt("eventsSent",n,t);b()},drop:function(n,t){kt("eventsDiscarded",n,t>=8e3&&t<=8999?t-8e3:0)},rspFail:function(n){kt("eventsDiscarded",n,1);b()},oth:function(n){kt("eventsDiscarded",n,0);b()}});n._getDbgPlgTargets=function(){return[f]};n.initialize=function(u,e,o){ht(e,function(){return"PostChannel:initialize"},function(){function v(n){"beforeunload"!==(n||ut().event).type&&(g=!0,f.setUnloading(g));dt(2,2)}var h=e,c,l,s,a;t.initialize(u,e,o);n.setInitialized(!1);c=n._getTelCtx();u.extensionConfig[n.identifier]=u.extensionConfig[n.identifier]||{};r=c.getExtCfg(n.identifier);n._setTimeoutOverride=r.setTimeoutOverride?r.setTimeoutOverride:setTimeout.bind(oa);n._clearTimeoutOverride=r.clearTimeoutOverride?r.clearTimeoutOverride:clearTimeout.bind(oa);ct=!r.disableOptimizeObj&&!!it("chrome");l=h.getWParam;h.getWParam=function(){var n=0;return r.ignoreMc1Ms0CookieProcessing&&(n|=2),n|l()};r.eventsLimitInMem>0&&(st=r.eventsLimitInMem);r.immediateEventLimit>0&&(pt=r.immediateEventLimit);r.autoFlushEventsLimit>0&&(ot=r.autoFlushEventsLimit);ri();r.httpXHROverride&&r.httpXHROverride.sendPOST&&(vt=r.httpXHROverride);i(u.anonCookieName)&&f.addQueryStringParameter("anoncknm",u.anonCookieName);f.sendHook=r.payloadPreprocessor;f.sendListener=r.payloadListener;a=r.overrideEndpointUrl?r.overrideEndpointUrl:u.endpointUrl;n._notificationManager=u.extensionConfig.NotificationManager;f.initialize(a,n.core,n,vt,r);oo(v);rc(v);di("pageshow",s=function(){g=!1;f.setUnloading(g)});di("visibilitychange",function(){var n=w();s&&n&&"visible"===n.visibilityState&&s()});n.setInitialized(!0)},function(){return{coreConfig:u,core:e,extensions:o}})};n.processTelemetry=function(t,i){var u,e,f;gi(t,n.identifier);u=(i=n._getTelCtx(i)).getExtCfg(n.identifier);e=!!r.disableTelemetry;u&&(e=e||!!u.disableTelemetry);f=t;e||yt||(r.overrideInstrumentationKey&&(f.iKey=r.overrideInstrumentationKey),u&&u.overrideInstrumentationKey&&(f.iKey=u.overrideInstrumentationKey),ui(f,!0),g?dt(2,2):b());n.processNext(f,i)};n.setEventQueueLimits=function(n,t){var i,r,u;if(st=n>0?n:1e4,ot=t>0?t:0,ri(),i=c>n,!i&&tt>0)for(r=1;!i&&r<=3;r++)u=h[r],u&&u.batches&&e(u.batches,function(n){n&&n.count()>=tt&&(i=!0)});ei(!0,i)};n.teardown=function(){dt(2,2);yt=!0;f.teardown()};n.pause=function(){nt();l=!0;f.pause()};n.resume=function(){l=!1;f.resume();b()};n.addResponseHandler=function(n){f._responseHandlers.push(n)};n._loadTransmitProfiles=function(n){nt();hi();ft="REAL_TIME";b();y(n,function(n,t){var r=t.length,i,u;r>=2&&(i=r>2?t[2]:0,(t.splice(0,r-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0)&&(u=t[0]/t[1],t[0]=Math.ceil(u)*t[1]),i>=0&&t[1]>=0&&i>t[1]&&(i=t[1]),t.push(i),a[n]=t)})};n.flush=function(n,t,i){void 0===n&&(n=!0);l||(nt(),i=i||1,n?(ni(1,0,i),si(),null==o?o=bt(function(){!function n(t,i){wt(1,0,i),function n(t){f.isCompletelyIdle()?t():o=bt(function(){n(t)},.25)}(function(){t&&t();lt.length>0?o=bt(function(){return n(lt.shift(),i)},0):(o=null,gt()&&b())})}(t,i)},0):lt.push(t)):(wt(1,1,i),null!=t&&t()))};n.setMsaAuthTicket=function(n){f.addHeader("AuthMsaDeviceTicket",n)};n.hasEvents=gt;n._setTransmitProfile=function(n){ft!==n&&void 0!==a[n]&&(nt(),ft=n,b())};n._backOffTransmission=function(){s<4&&(s++,nt(),b())};n._clearBackOff=function(){s&&(s=0,nt(),b())}}),nt}return a(t,n),t}(ti),sa=function(){function n(){}return n.prototype._setCommonProperties=function(n,t){i(t.cV)&&(n.ext=n.ext||{},n.ext.mscv=n.ext.mscv||{},n.ext.mscv.cV=t.cV);n.baseData.operationName=t.operationName;n.baseData.latencyMs=t.latencyMs;n.baseData.serviceErrorCode=t.serviceErrorCode||-1;n.baseData.succeeded=t.succeeded;n.baseData.requestStatus=t.requestStatus;n.baseData.requestMethod=t.requestMethod;i(t.target)&&(n.baseData.target=t.target);i(t.responseContentType)&&(n.baseData.responseContentType=t.responseContentType);i(t.protocol)&&(n.baseData.protocol=t.protocol);i(t.protocolStatusCode)&&(n.baseData.protocolStatusCode=t.protocolStatusCode)},n}(),nw=function(){function n(){this._qosEvent=new sa}return n.prototype._setQosProperties=function(n,t){this._qosEvent._setCommonProperties(n,t);n.baseData.dependencyOperationName=t.dependencyOperationName;n.baseData.dependencyName=t.dependencyName;n.baseData.dependencyType=t.dependencyType||"WebService";i(t.dependencyOperationVersion)&&(n.baseData.dependencyOperationVersion=t.dependencyOperationVersion);i(t.responseSizeBytes)&&(n.baseData.responseSizeBytes=t.responseSizeBytes)},n}(),tw=function(){function n(){this._qosEvent=new sa}return n.prototype._setQosProperties=function(n,t){this._qosEvent._setCommonProperties(n,t);i(t.callerIpAddress)&&(n.baseData.callerIpAddress=t.callerIpAddress);i(t.callerName)&&(n.baseData.callerName=t.callerName);i(t.requestSizeBytes)&&(n.baseData.requestSizeBytes=t.requestSizeBytes);i(t.operationVersion)&&(n.baseData.operationVersion=t.operationVersion)},n}();var iw=function(){this.openDone=!1;this.setRequestHeaderDone=!1;this.sendDone=!1;this.abortDone=!1;this.stateChangeAttached=!1},va=function n(t,i,r){var u=r;this.perfMark=null;this.completed=!1;this.requestHeadersSize=null;this.requestHeaders=null;this.responseReceivingDuration=null;this.callbackDuration=null;this.ajaxTotalDuration=null;this.aborted=0;this.pageUrl=null;this.requestUrl=null;this.requestSize=0;this.method=null;this.status=null;this.requestSentTime=null;this.responseStartedTime=null;this.responseFinishedTime=null;this.callbackFinishedTime=null;this.endTime=null;this.xhrMonitoringState=new iw;this.clientFailure=0;this.traceID=t;this.spanID=i;b(n,this,function(n){n.getAbsoluteUrl=function(){return n.requestUrl?((i=co(n.requestUrl))&&(t=i.href),t):null;var t,i};n.getPathName=function(){return n.requestUrl?pf(u,(t=n.method,i=n.requestUrl,t?t.toUpperCase()+" "+i:i)):null;var t,i};n.CreateTrackItem=function(t,i,r){var h,u,f,s,o;return(n.ajaxTotalDuration=Math.round(1e3*ct(n.requestSentTime,n.responseFinishedTime))/1e3,n.ajaxTotalDuration<0)?null:(u=((h={id:"|"+n.traceID+"."+n.spanID,target:n.getAbsoluteUrl(),name:n.getPathName(),type:t,startTime:null,duration:n.ajaxTotalDuration,success:+n.status>=200&&+n.status<400,responseCode:+n.status,method:n.method}).properties={HttpMethod:n.method},h),(n.requestSentTime&&(u.startTime=new Date,u.startTime.setTime(n.requestSentTime)),function(n,t){var u=n.perfTiming,i=t.properties||{},r=0,s="redirect",c=s+"Start",l=s="End",f,h,o;u?(r|=rr(i,s,u,c,l),r|=rr(i,"domainLookup",u,"domainLookupStart","domainLookupEnd"),r|=rr(i,"connect",u,"connectStart","connectEnd"),r|=rr(i,"request",u,"requestStart","requestEnd"),r|=rr(i,"response",u,"responseStart","responseEnd"),r|=rr(i,"networkConnect",u,"startTime","connectEnd"),r|=rr(i,"sentRequest",u,"requestStart","responseEnd"),f=u.duration,f||(f=aa(u,"startTime","responseEnd")||0),r|=yi(i,"duration",f),r|=yi(i,"perfTotal",f),h=u.serverTiming,h&&(o={},e(h,function(n,t){var r=function(n){var t=n,i=/([^\w\d_$])/g;return i.test(n)&&(t=n.replace(i,"_")),t}(n.name||""+t),i=o[r]||{};y(n,function(n,t){("name"!==n&&d(t)||nf(t))&&(i[n]&&(t=i[n]+";"+t),!t&&d(t)||(i[n]=t))});o[r]=i}),r|=yi(i,"serverTiming",o)),r|=yi(i,"transferSize",u.transferSize),r|=yi(i,"encodedBodySize",u.encodedBodySize),r|=yi(i,"decodedBodySize",u.decodedBodySize)):n.perfMark&&(r|=yi(i,"missing",n.perfAttempts));r&&(t.properties=i)}(n,u),i&&fr(n.requestHeaders).length>0&&(u.properties=u.properties||{},u.properties.requestHeaders=n.requestHeaders),r)&&(f=r(),f&&(s=f.correlationContext,(s&&(u.correlationContext=s),f.headerMap&&fr(f.headerMap).length>0&&(u.properties=u.properties||{},u.properties.responseHeaders=f.headerMap),n.errorStatusText&&n.status>=400)&&(o=f.type,u.properties=u.properties||{},""!==o&&"text"!==o||(u.properties.responseText=f.responseText?f.statusText+" - "+f.responseText:f.statusText),"json"===o&&(u.properties.responseText=f.response?f.statusText+" - "+JSON.stringify(f.response):f.statusText)))),u)}})},ya=function(){function n(t,i){this.traceFlag=n.DEFAULT_TRACE_FLAG;this.version=n.DEFAULT_VERSION;this.traceId=t&&n.isValidTraceId(t)?t:ei();this.spanId=i&&n.isValidSpanId(i)?i:ei().substr(0,16)}return n.isValidTraceId=function(n){return n.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==n},n.isValidSpanId=function(n){return n.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==n},n.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},n.DEFAULT_TRACE_FLAG="01",n.DEFAULT_VERSION="00",n}(),pa=0;var wa=function(n){function t(){var a=n.call(this)||this;a.identifier=t.identifier;a.priority=120;var r,w,k,nt,lt,s,tt=ft(),it=!1,c=!1,at=tt&&tt.host&&tt.host.toLowerCase(),i=t.getEmptyConfig(),u=!1,ut=!1,et=0,st=!1,p=0,ht=!1,l=[],ct={};return b(t,a,function(n,a){function tt(n){var t=!0;return(n||i.ignoreHeaders)&&e(i.ignoreHeaders,function(i){if(i.toLowerCase()===n.toLowerCase())return t=!1,-1}),t}function ft(n,t,i){l.push(function(n,t,i){return n?eo(n.prototype,t,i,!1):null}(n,t,i))}function vt(n,t,i){var r=!1,u=((d(t)?t:(t||{}).url||"")||"").toLowerCase(),h,o,s;return(e(lt,function(n){var t=n;d(n)&&(t=new RegExp(n));r||(r=t.test(u))}),r)?r:(o=wr(u,"?"),s=wr(u,"#"),(-1===o||-1!==s&&s<o)&&(o=s),-1!==o&&(u=u.substring(0,o)),f(n)?f(t)||(r="object"==typeof t&&!0===t[hr]||!!i&&!0===i[hr]):r=!0===n[hr]||!0===u[hr],!r&&u&&(h=u,-1!==vc.indexOf(h.toLowerCase()))&&(r=!0),r?ct[u]||(ct[u]=1):ct[u]&&(r=!0),r)}function b(n,t){var i=!0,r=c;return f(n)||(i=!0===t||!f(n.ajaxData)),r&&i}function dt(n){try{var t=n.responseType;if(""===t||"text"===t)return n.responseText}catch(n){}return null}function gt(t){var i,r;try{if(i=t.getAllResponseHeaders(),null!==i&&-1!==wr(i.toLowerCase(),"request-context"))return r=t.getResponseHeader(sr),ir.getCorrelationContext(r)}catch(i){pr(n,o.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ie(t),exception:h(i)})}}function yt(n,t){var i,u,r;t.requestUrl&&nt&&st&&(i=pt(),i&&v(i.mark)&&(pa++,u=nt+n+"#"+pa,i.mark(u),r=i.getEntriesByName(u),r&&1===r.length&&(t.perfMark=r[0])))}function wt(n,t,r,u){var f=t.perfMark,e=pt(),h=i.maxAjaxPerfLookupAttempts,c=i.ajaxPerfLookupDelay,s=t.requestUrl,o=0;!function l(){var i;try{if(e&&f){o++;for(var y=null,p=e.getEntries(),a=p.length-1;a>=0;a--)if(i=p[a],i){if("resource"===i.entryType)i.initiatorType!==n||-1===wr(i.name,s)&&-1===wr(s,i.name)||(y=i);else if("mark"===i.entryType&&i.name===f.name){t.perfTiming=y;break}if(i.startTime<f.startTime-1e3)break}}!f||t.perfTiming||o>=h||!1===t.async?(f&&v(e.clearMarks)&&e.clearMarks(f.name),t.perfAttempts=o,r()):setTimeout(l,c)}catch(n){u(n)}}()}function bt(t){var i="";try{f(t)||(i+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){pu(n,o.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:h(t)})}return i}function kt(t,i,r,f,e,c){function l(t,i,u){var f=u||{};f.fetchDiagnosticsMessage=bt(r);i&&(f.exception=h(i));pr(n,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",f)}e&&(e.responseFinishedTime=wf(),e.status=i,wt("fetch",e,function(){var h,t=e.CreateTrackItem("Fetch",u,c);try{s&&(h=s({status:i,request:r,response:f}))}catch(h){pr(n,o.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}t?(void 0!==h&&(t.properties=ot(ot({},t.properties),h)),n.trackDependencyDataInternal(t)):l(o.FailedMonitorAjaxDur,null,{requestSentTime:e.requestSentTime,responseFinishedTime:e.responseFinishedTime})},function(n){l(o.FailedMonitorAjaxGetCorrelationHeader,n,null)}))}function ti(t){if(t&&t.headers)try{var i=t.headers.get(sr);return ir.getCorrelationContext(i)}catch(i){pr(n,o.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:bt(t),exception:h(i)})}}n.initialize=function(v,d,et,ct){var fi,pt,bt,ii,at;if(!n.isInitialized()&&(a.initialize(v,d,et,ct),fi=n._getTelCtx(),y(t.getDefaultConfig(),function(n,r){i[n]=fi.getConfig(t.identifier,n,r)}),pt=i.distributedTracingMode,(u=i.enableRequestHeaderTracking,ut=i.enableAjaxErrorStatusText,st=i.enableAjaxPerfTracking,p=i.maxAjaxCallsPerView,ht=i.enableResponseHeaderTracking,lt=i.excludeRequestFromAutoTrackingPatterns,s=i.addRequestContext,k=pt===ri.AI||pt===ri.AI_AND_W3C,w=pt===ri.AI_AND_W3C||pt===ri.W3C,st)&&(bt=v.instrumentationKey||"unkwn",nt=bt.length>5?"ai.ajxmn."+bt.substring(bt.length-5)+".":"ai.ajxmn."+bt+"."),!1===i.disableAjaxTracking&&function(n){var i=!1,t,r,u;if(uu()&&(t=XMLHttpRequest.prototype,i=!(f(t)||f(t.open)||f(t.send)||f(t.abort))),r=function(n){var i,t,r;return((void 0===n&&(n=null),n)||(i=ni()||{},n=i?(i.userAgent||"").toLowerCase():""),t=(n||"").toLowerCase(),rt(t,"msie"))?parseInt(t.split("msie")[1]):rt(t,"trident/")&&(r=parseInt(t.split("trident/")[1]),r)?r+4:null}(),r&&r<9&&(i=!1),i)try{(new XMLHttpRequest).ajaxData={};u=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=u}catch(t){i=!1;pu(n,o.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:h(t)})}return i}(n)&&!c&&(ft(XMLHttpRequest,"open",{req:function(t,i,f,c){var l=t.inst,a=l.ajaxData;vt(l,f)||!b(l,!0)||a&&a.xhrMonitoringState.openDone||function(t,i,f,c){var a=r&&r.telemetryTrace&&r.telemetryTrace.traceID||ei(),v=ei().substr(0,16),l=new va(a,v,n.diagLog());l.method=i;l.requestUrl=f;l.xhrMonitoringState.openDone=!0;l.requestHeaders={};l.async=c;l.errorStatusText=ut;t.ajaxData=l,function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=dr(t,"readystatechange",function(){try{t&&4===t.readyState&&b(t)&&function(t){function r(i,r){var u=r||{};u.ajaxDiagnosticsMessage=ie(t);i&&(u.exception=h(i));pr(n,o.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",u)}var i=t.ajaxData;i.responseFinishedTime=wf();i.status=t.status;wt("xmlhttprequest",i,function(){try{var f=i.CreateTrackItem("Ajax",u,function(){var r={statusText:t.statusText,headerMap:null,correlationContext:gt(t),type:t.responseType,responseText:dt(t),response:t.response},n,u,i;return ht&&(n=t.getAllResponseHeaders(),n&&(u=g(n).split(/[\r\n]+/),i={},e(u,function(n){var t=n.split(": "),r=t.shift(),u=t.join(": ");tt(r)&&(i[r]=u)}),r.headerMap=i)),r}),h=void 0;try{s&&(h=s({status:t.status,xhr:t}))}catch(t){pr(n,o.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}f?(void 0!==h&&(f.properties=ot(ot({},f.properties),h)),n.trackDependencyDataInternal(f)):r(null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}finally{try{t.ajaxData=null}catch(n){}}},function(n){r(n,null)})}(t)}catch(r){var i=h(r);i&&-1!==wr(i.toLowerCase(),"c00c023f")||pu(n,o.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ie(t),exception:i})}})}(t)}(l,i,f,c)},hkErr:wu(n,o.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),ft(XMLHttpRequest,"send",{req:function(t){var r=t.inst,i=r.ajaxData;b(r)&&!i.xhrMonitoringState.sendDone&&(yt("xhr",i),i.requestSentTime=wf(),n.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:wu(n,o.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),ft(XMLHttpRequest,"abort",{req:function(n){var i=n.inst,t=i.ajaxData;b(i)&&!t.xhrMonitoringState.abortDone&&(t.aborted=1,t.xhrMonitoringState.abortDone=!0)},hkErr:wu(n,o.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&ft(XMLHttpRequest,"setRequestHeader",{req:function(n,t,i){var r=n.inst;b(r)&&tt(t)&&(r.ajaxData.requestHeaders[t]=i)},hkErr:wu(n,o.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),c=!0),function(){var t,h=!(t=ui())||f(t.Request)||f(t.Request.prototype)||f(t.fetch)?null:t.fetch,s,e;h&&(s=ui(),e=h.polyfill,!1===i.disableFetchTracking?(l.push(eo(s,"fetch",{req:function(t,i,f){var o,h,s;!it||vt(null,i,f)||e&&c||(h=t.ctx(),o=function(t,i){var s=r&&r.telemetryTrace&&r.telemetryTrace.traceID||ei(),h=ei().substr(0,16),f=new va(s,h,n.diagLog()),e,o;return f.requestSentTime=wf(),f.errorStatusText=ut,f.requestUrl=t instanceof Request?t?t.url:"":t,e="GET",i&&i.method?e=i.method:t&&t instanceof Request&&(e=t.method),f.method=e,o={},u&&new Headers((i?i.headers:0)||t instanceof Request&&t.headers||{}).forEach(function(n,t){tt(t)&&(o[t]=n)}),f.requestHeaders=o,yt("fetch",f),f}(i,f),s=n.includeCorrelationHeaders(o,i,f),s!==f&&t.set(1,s),h.data=o)},rsp:function(n,t){var i=n.ctx().data;i&&(n.rslt=n.rslt.then(function(n){return kt(0,(n||{}).status,t,n,i,function(){var i={statusText:n.statusText,headerMap:null,correlationContext:ti(n)},t;return ht&&(t={},n.headers.forEach(function(n,i){tt(i)&&(t[i]=n)}),i.headerMap=t),i}),n}).catch(function(n){throw kt(0,0,t,null,i,null,n.message),n;}))},hkErr:wu(n,o.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),it=!0):e&&l.push(eo(s,"fetch",{req:function(n,t,i){vt(null,t,i)}})),e&&(s.fetch.polyfill=e))}(),et.length>0&&et)){for(ii=void 0,at=0;!ii&&at<et.length;)et[at]&&"AppInsightsPropertiesPlugin"===et[at].identifier&&(ii=et[at]),at++;ii&&(r=ii.context)}};n.teardown=function(){e(l,function(n){n.rm()});l=[];it=!1;c=!1;n.setInitialized(!1)};n.trackDependencyData=function(t,i){n.trackDependencyDataInternal(t,i)};n.includeCorrelationHeaders=function(t,f,e,o){var s,l=n._currentWindowHost||at,h,c;return f?(ir.canIncludeCorrelationHeader(i,t.getAbsoluteUrl(),l)&&((e||(e={}),e.headers=new Headers(e.headers||f instanceof Request&&f.headers||{}),k)&&(h="|"+t.traceID+"."+t.spanID,e.headers.set(vf,h),u&&(t.requestHeaders[vf]=h)),((s=i.appId||r&&r.appId())&&(e.headers.set(sr,af+s),u&&(t.requestHeaders[sr]=af+s)),w)&&(c=new ya(t.traceID,t.spanID),e.headers.set(yf,c.toString()),u&&(t.requestHeaders[yf]=c.toString()))),e):o?(ir.canIncludeCorrelationHeader(i,t.getAbsoluteUrl(),l)&&(k&&(h="|"+t.traceID+"."+t.spanID,o.setRequestHeader(vf,h),u&&(t.requestHeaders[vf]=h)),(s=i.appId||r&&r.appId())&&(o.setRequestHeader(sr,af+s),u&&(t.requestHeaders[sr]=af+s)),w&&(c=new ya(t.traceID,t.spanID),o.setRequestHeader(yf,c.toString()),u&&(t.requestHeaders[yf]=c.toString()))),o):void 0};n.trackDependencyDataInternal=function(t,r,u){if(-1===p||et<p){i.distributedTracingMode!==ri.W3C&&i.distributedTracingMode!==ri.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+=".");f(t.startTime)&&(t.startTime=new Date);var e=ai.create(t,kf.dataType,kf.envelopeType,n.diagLog(),r,u);n.core.track(e)}else et===p&&pu(n,o.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++et}}),a}return a(t,n),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:ri.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return y(n,function(t){n[t]=void 0}),n},t.prototype.processTelemetry=function(n,t){this.processNext(n,t)},t.identifier="AjaxDependencyPlugin",t}(ti),rw=function(){function n(){this.lastPageViewId=ii();this.traceId=this.createTraceId()}return n.prototype.createTraceId=function(){return ii().replace(/-/g,"")},n.prototype.getTraceId=function(){return this.traceId},n.prototype.getLastPageViewId=function(){return this.lastPageViewId},n}(),uw=function(n){function t(){var s,h,c,o=n.call(this)||this,f,r;return o.identifier="QosPlugin",o.version="3.1.7",f={market:"",serverImpressionGuid:""},r={},h=new nw,c=new tw,b(t,o,function(n,t){function l(t,i){o(t,i);n.core.track(t)}function o(n,t){i(t)&&y(t,function(t,i){n.data[t]=i})}n.includeCorrelationHeaders=function(i,u,f,e){var o=t.includeCorrelationHeaders(i,u,f,e),s,h;return r.enableCvHeaders&&(s=n.getCv(),s&&(u||e)&&(s.increment(),h=s.getValue(),u?(o||(o=f||{}),o.headers&&v(o.headers.append)||(o.headers=new Headers(o.headers||u instanceof Request&&u.headers||{})),o.headers.append("MS-CV",h)):o.setRequestHeader("MS-CV",h))),o};n.initialize=function(i,o,h){var l=i.extensionConfig=i.extensionConfig||[],v,g,w,b;l[n.identifier]=l[n.identifier]||{};k((r=n._qosConfig=function(n){var t={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:void 0,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},i=[];return y(t,function(n,t){t&&gt(t)&&i.push(n)}),function(n,t){ha(n);e(t,function(t){gt(n[t])?ha(n[t]):delete n[t]})}(n,i),nt(!0,t,n)}(l[n.identifier])).distributedTracingMode)&&(r.distributedTracingMode=0);l[wa.identifier]=r;t.initialize(i,o,h);b=(v=n._qosConfig,w={},g=la("awa-",!0),v.autoCapture&&v.autoCapture.msTags&&(w=la("ms.",!1)),nt(!0,g,w));f.market=ca(b,r.coreData,"market");f.serverImpressionGuid=ca(b,r.coreData,"serverImpressionGuid");for(var d=null,a=null,c=0;c<h.length;c++)"CorrelationVectorPlugin"===h[c].identifier?d=h[c]:"WebAnalyticsPlugin"===h[c].identifier&&(a=h[c]);n.id=a&&a.id?a.id:new rw;r.enableCvHeaders&&(d?(r.enableCvHeaders=!0,s=d):(n.diagLog().throwInternal(u.WARNING,p.CVPluginNotAvailable,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),r.enableCvHeaders=!1))};n.processTelemetry=function(t,i){gi(t,n.identifier);var r=t;switch(r.baseType){case kf.dataType:"Ms.Qos.OutgoingServiceRequest"!==r.name&&(r.name="Ms.Web.OutgoingRequest",r.baseData=r.baseData||{},r.baseData.properties=r.baseData.properties||{},r.baseData.properties.parentId=r.baseData.properties.parentId||n.id.getLastPageViewId(),delete r.baseData.method);r.latency=1}n.processNext(r,i)};n.trackDependencyData=function(t,i){n.trackDependencyDataInternal(t,i)};n.trackDependencyDataInternal=function(u,e,o){var s,c,h=o||{};i(u.cV)&&(h.mscv={},h.mscv.cV=u.cV);u.id=r.callback&&r.callback.id?r.callback.id():ii();(e=e||{}).pageName=i(e.pageName)?e.pageName:function(n){if(n.callback&&"function"==typeof n.callback.pageName)return n.callback.pageName();if(n.coreData.pageName)return n.coreData.pageName;var i=(ft()||{}).pathname||"",t=i.split("/");return t.length>2&&""!==t[2]?t[2]:"Home"}(n._qosConfig);e.uri=i(e.uri)?e.uri:(s=n._qosConfig,c=ft()||{},s.coreData.requestUri?s.coreData.requestUri:c.href);e.market=i(e.market)?e.market:f.market;e.serverImpressionGuid=i(e.serverImpressionGuid)?e.serverImpressionGuid:f.serverImpressionGuid;t.trackDependencyDataInternal(u,e,h)};n.trackServiceOutgoingQos=function(n,t){var i={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:3};h._setQosProperties(i,n);o(i,t);l(i)};n.trackServiceIncomingQos=function(n,t){var i={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:3};c._setQosProperties(i,n);o(i,t);l(i)};n.getCv=function(){return s?s.getCv():null}}),o}return a(t,n),t}(wa),ba=function(){},ka=function(){function n(n,t){this._base="";this._currentElement=0;this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";this._cv1Constants=new ba;this._cv2Constants=new ba;this._cvVersionAtLatestValidityCheck=2;this._traceLogger=de(t);this._cv1Constants.maxCorrelationVectorLength=63;this._cv1Constants.baseLength=16;this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$");this._cv2Constants.maxCorrelationVectorLength=127;this._cv2Constants.baseLength=22;this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$");this._currentCvConstants=this._cv2Constants;this.init(n)}return n.prototype.isInit=function(){return this.isValid(this.storedCv())},n.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},n.prototype.getValue=function(){var n=this.storedCv();if(this.isValid(n))return n},n.prototype.getRelatedCv=function(){return this._relatedCv},n.prototype.incrementExternal=function(n){var t,i,r,u,f;if(this.isValid(n)){for(t=n.split("."),i=t.length,t[i-1]=(parseInt(t[i-1],10)+1).toString(),r="",u=0;u<i;u++)r+=t[u],u<i-1&&(r+=".");if(f=t[0].length===this._cv2Constants.baseLength?this._cv2Constants.maxCorrelationVectorLength:this._cv1Constants.maxCorrelationVectorLength,r.length<=f)return r}},n.prototype.canExtend=function(){var n=this.storedCv();return!!this.isValid(n)&&this._isLeqThanMaxCorrelationVectorLength(n.length+2)},n.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},n.prototype.setValue=function(n){if(this.isValid(n)){var t=n.lastIndexOf(".");return t>1?(this._base=n.substr(0,t),this._currentElement=parseInt(n.substr(t+1),10)):(this._base=n,this._currentElement=0),!0}return this._traceLogger.throwInternal(u.WARNING,p.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1},n.prototype.setValueLegacy=function(n){return this.setValue(n),this.getValue()},n.prototype.seed=function(){for(var n="",t=0;t<this._currentCvConstants.baseLength;t++)n+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length));return n},n.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},n.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},n.prototype.validateWithCv1=function(n){if(this._cv1Constants.validationPattern.test(n)&&n.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},n.prototype.validateWithCv2=function(n){if(this._cv2Constants.validationPattern.test(n)&&n.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},n.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},n.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},n.prototype.isValid=function(n){if(n){var t=n.split(".")[0];if(t){if(16===t.length)return this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(n);if(22===t.length)return this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(n)}}},n.prototype.init=function(n){return n?this.setValue(n):(this._base=this.seed(),this._currentElement=0),this.getValue()},n.prototype.initLegacy=function(n){return this.init(n)},n.prototype._isLeqThanMaxCorrelationVectorLength=function(n){return 1===this._cvVersionAtLatestValidityCheck?n<=this._cv1Constants.maxCorrelationVectorLength:n<=this._cv2Constants.maxCorrelationVectorLength},n}(),fw=function(n){function t(t){var i=n.call(this)||this;return i.identifier="CorrelationVectorPlugin",i.priority=159,i.version="3.1.7",i._cvInitialValue=t,i._cv=i._cvInitialValue?new ka(i._cvInitialValue):new ka,i}return a(t,n),t.prototype.initialize=function(t,i,r){n.prototype.initialize.call(this,t,i,r)},t.prototype.processTelemetry=function(n,t){gi(n,this.identifier);n.ext=n.ext||{};n.ext.mscv=n.ext.mscv||{};n.ext.mscv.cV||this._cv&&this._cv.isInit()&&(n.ext.mscv.cV=this._cv.getValue());this.processNext(n,t)},t.prototype.getCv=function(){return this._cv||this.diagLog().throwInternal(u.WARNING,p.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},t}(ti);var ew=function(){function n(){}return n.prototype.makeRequest=function(n,t,i,r){var e,o=this,f,u;sh()?(f=new XDomainRequest,f.open(i,n),f.onload=function(){r(200,br(f),{})},f.onerror=function(){r(400,br(f),{})},f.ontimeout=function(){r(500,br(f),{})},f.onprogress=function(){},setTimeout(function(){f.send(t)},0)):be()?fetch(n,(e={body:t,method:i,credentials:"include"},e[hr]=!0,e)).then(function(n){var t={};n.headers&&n.headers.forEach(function(n,i){t[i]=n});r(n.status,JSON.stringify(n.json()),t)}).catch(function(n){r(0,n,{})}):uu()&&(u=uc(i,n,!0,!0),u.onload=function(){r(u.status,br(u),o._convertAllHeadersToMap(u.getAllResponseHeaders()))},u.onerror=function(){r(u.status,br(u),o._convertAllHeadersToMap(u.getAllResponseHeaders()))},u.ontimeout=function(){r(u.status,br(u),o._convertAllHeadersToMap(u.getAllResponseHeaders()))},u.send(t))},n.prototype._convertAllHeadersToMap=function(n){var u={},i,t,r;if(n)for(i=n.split("\n"),t=0;t<i.length;++t)r=i[t].split(": "),u[r[0]]=r[1];return u},n}(),ow=function(){function n(n,t,i){this._endpointUrl="";this._logger=i;this._endpointUrl=n;this._requestHandler=new ew;this.setAuthType(t)}return n.prototype.setAuthType=function(n){var t="";switch(n){case 2:t="aad.js";break;case 1:t="msa.js"}this._getLoginUrlPath=this._endpointUrl+"auth/GetLoginUrl/"+t;this._signOutPath=this._endpointUrl+"auth/SignOut/"+t},n.prototype.startAuthHandshake=function(){var n=this;this._requestHandler.makeRequest(this._getLoginUrlPath,"","GET",function(t,i){var e,f,r,o;try{e=JSON.parse(i).webResult.authLoginUrl;f=w();f&&(r=f.createElement("iframe"),o=Math.floor(Math.random()*Math.floor(1e4)),r.id="telframe"+o,r.style.display="none",r.src=e,f.body.appendChild(r),n._loginIframeId=r.id)}catch(t){n._logger.throwInternal(u.CRITICAL,p.AuthHandShakeError,"Error with auth handshake process: "+t)}})},n.prototype.cleanAuthIFrame=function(){var n=w(),t;n&&(t=n.getElementById(this._loginIframeId),t&&n.body.removeChild(t))},n.prototype.signOutAndClearCookies=function(){this._requestHandler.makeRequest(this._signOutPath,"","POST",function(){})},n}(),sw=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.identifier="AuthPlugin",t.priority=190,t.version="3.1.7",t._eventQueue=[],t}return a(t,n),t.prototype.initialize=function(t,i,r){var u=this,f,e,o;this._core=i;n.prototype.initialize.call(this,t,i,r);this._getTelCtx();f=this.identifier;this._authConfig=t.extensionConfig[f]||{};t.extensionConfig[f]=this._authConfig;this._handshakeInProgress=!1;this._authHandhshakeTimeoutMs=this._authConfig.handShakeTimeoutMs?this._authConfig.handShakeTimeoutMs:5e3;e=this._authConfig.overrideAuthEndpointUrl?this._authConfig.overrideAuthEndpointUrl:t.endpointUrl;this._authHandler=new ow(e,this._authConfig.authType,this.diagLog());this._updateWParam();oo(function(){u._releaseEventQueue()});rc(function(){u._releaseEventQueue()});o=ut();o&&dr(o,"message",function(n){u._receiveMessage(n,e)})},t.prototype.processTelemetry=function(n,t){var r=this,i;(t=this._getTelCtx(t),gi(n,this.identifier),0!==this._authConfig.authType&&this._authConfig.loggedInStatusCallback&&!0===this._authConfig.loggedInStatusCallback())&&(i=et(this.core),at(i,"authBounced")||(i.set("authBounced",gr(new Date),1800),this._handshakeInProgress=!0,this._authHandhshakeTimeout=setTimeout(function(){r._completeAuthHandshake()},this._authHandhshakeTimeoutMs),this._authHandler.startAuthHandshake()));this._handshakeInProgress?this._eventQueue.push({ctx:t,item:n}):this.processNext(n,t)},t.prototype.signOut=function(){et(this.core).del("authBounced");this._authHandler.signOutAndClearCookies();this._completeAuthHandshake()},t.prototype.setAuthType=function(n){this._completeAuthHandshake();this._authConfig.authType=n;this._authHandler.setAuthType(n);this._updateWParam()},t.prototype._updateWParam=function(){var i=this,n,t;0!=this._authConfig.authType&&(n=this._core,t=n.getWParam,n.getWParam=function(){var n=0;return(n=1===i._authConfig.authType?8|n:16|n)|(t?t():0)})},t.prototype._receiveMessage=function(n,t){var r=w(),i,f;if(r&&(i=r.createElement("a"),i.href=t,f=i.protocol+"//"+i.hostname,(n.origin===f||"https://login.microsoftonline.com"===n.origin)&&n.data))try{this._completeAuthHandshake()}catch(n){this.diagLog().throwInternal(u.CRITICAL,p.AuthRedirectFail,"Error receiving auth redirect message: "+n)}},t.prototype._completeAuthHandshake=function(){this._authHandhshakeTimeout&&clearTimeout(this._authHandhshakeTimeout);this._authHandler&&this._authHandler.cleanAuthIFrame();this._handshakeInProgress=!1;this._releaseEventQueue()},t.prototype._releaseEventQueue=function(){e(this._eventQueue,function(n){n.ctx.processNext(n.item)});this._eventQueue=[]},t}(ti),hw=function(){function n(n,t){this._config=n;this.core=t;this.isEnabled=!1;this.isSyncDone=!1;this.isEnabled=this._config&&(!0===this._config.adobe||!0===this._config.google);this._cookieMgr=et(t)}return n.prototype.idSync=function(n){var t,f,r,u,o,e;try{this.isEnabled&&!this.isSyncDone&&n&&(t=JSON.parse(n),i(t.webResult)&&(!0===this._config.adobe&&(f=(o=this._cookieMgr,(e=t.webResult)&&i(e.anid)?e.anid:at(o,"ANON").slice(0,34)),(i(t.webResult.mc1)||i(f))&&(r=this._getAdobeUrl(t.webResult.mc1,f),uu()&&(u=new XMLHttpRequest,u.open("GET",r,!0),u.setRequestHeader("Accept","application/json; charset=utf-8"),u.send()))),!0===this._config.google&&i(t.webResult.mc1)&&(r=this._getGoogleUrl(t.webResult.mc1),(new Image).src=r),this.isSyncDone=!0))}catch(n){}},n.prototype._getAdobeUrl=function(n,t){var r="https://dpm.demdex.net/id?d_orgid=EA76ADE95776D2EC7F000101@AdobeOrg&d_cid=";return i(n)&&(r+="88170%01"+n+"%010"),i(t)&&(i(n)&&(r+="%01"),r+="88169%01"+t+"%010"),r+"&d_ver=2"},n.prototype._getGoogleUrl=function(n){return"https://ad.doubleclick.net/ddm/activity/src=6952136;type=store0;cat=oneds;u58="+n+";match_id="+n+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?"},n}(),cw=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.identifier="IdSyncPlugin",t.version="3.1.7",t}return a(t,n),t.prototype.initialize=function(n,t,i){var s=this,e=this.identifier,o=n.extensionConfig[e]||{},u,r,f;if(n.extensionConfig[e]=o,u=null,n.channels)for(r=0;r<n.channels.length;r++)if(n.channels[r])for(f=0;f<n.channels[r].length;f++)if("PostChannel"===n.channels[r][f].identifier){u=n.channels[r][f];break}if(!u)for(r=0;r<i.length;r++)if("PostChannel"===i[r].identifier){u=i[r];break}u&&(this._ix=new hw(o,t),u.addResponseHandler(function(n){s._ix.idSync(n)}))},t.prototype.processTelemetry=function(n,t){this.processNext(n,t)},t}(ti),lw=function(n){function t(){var t=n.call(this)||this;return t._postChannel=new gp,t._propertyManager=new ap,t._webAnalytics=new py,t._qosPlugin=new uw,t._cvPlugin=new fw,t._authPlugin=new sw,t._idSyncPlugin=new cw,t}return a(t,n),t.prototype.initialize=function(t,r){var f=this,o,e;if(f._config=t,t.extensions=t.extensions||[],t.extensions=t.extensions.concat([f._propertyManager,f._webAnalytics,f._qosPlugin,f._cvPlugin]),f._config.jsllConfiguration&&f._config.jsllConfiguration.shareAuthStatus&&(t.extensions=t.extensions.concat(f._authPlugin)),f._config.jsllConfiguration&&f._config.jsllConfiguration.ix&&(t.extensions=t.extensions.concat(f._idSyncPlugin)),r&&(t.extensions=t.extensions.concat(r)),t.channels&&t.channels.length>0){for(o=!1,e=0;e<t.channels[0].length;e++)if(t.channels[0][e].identifier===f._postChannel.identifier){o=!0;break}o||t.channels[0].push(f._postChannel)}else t.channels=[[f._postChannel]];f.initializeConfigurations();try{n.prototype.initialize.call(this,t,[]);f._config.jsllConfiguration&&(f._config.jsllConfiguration.coreData&&i(f._config.jsllConfiguration.coreData.appId)&&(f._propertyManager.getPropertiesContext().app.id=f._config.jsllConfiguration.coreData.appId),i(f._config.jsllConfiguration.logLevel)&&(f.logger.consoleLoggingLevel=function(){return f._config.jsllConfiguration.logLevel}))}catch(n){f.logger.throwInternal(u.CRITICAL,p.FailedToInitializeSDK,"Failed to initialize SDK."+n)}},t.prototype.getPropertyManager=function(){return this._propertyManager},t.prototype.getPropertyManagerConfig=function(){return(this._config.extensionConfig||[])[this._propertyManager.identifier]},t.prototype.getPostChannel=function(){return this._postChannel},t.prototype.getPostChannelConfig=function(){return(this._config.extensionConfig||[])[this._postChannel.identifier]},t.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},t.prototype.getWebAnalyticsExtensionConfig=function(){return(this._config.extensionConfig||[])[this._webAnalytics.identifier]},t.prototype.getQosExtension=function(){return this._qosPlugin},t.prototype.getQosExtensionConfig=function(){return(this._config.extensionConfig||[])[this._qosPlugin.identifier]},t.prototype.getAuthExtension=function(){return this._authPlugin},t.prototype.getAuthExtensionConfig=function(){return(this._config.extensionConfig||[])[this._authPlugin.identifier]},t.prototype.getCvExtension=function(){return this._cvPlugin},t.prototype.getIdSyncExtension=function(){return this._idSyncPlugin},t.prototype.getIdSyncExtensionConfig=function(){return(this._config.extensionConfig||[])[this._idSyncPlugin.identifier]},t.prototype.initializeConfigurations=function(){var r=this._config.extensionConfig=this._config.extensionConfig||[];r[this._qosPlugin.identifier]=this._config.qosConfiguration||{};r[this._postChannel.identifier]=this._config.channelConfiguration||{};var i=r[this._propertyManager.identifier]=this._config.propertyConfiguration||{},t=r[this._webAnalytics.identifier]=this._config.webAnalyticsConfiguration||{},u=r[this._qosPlugin.identifier]=this._config.qosConfiguration||{},f=r[this._idSyncPlugin.identifier]=this._config.idSyncConfiguration||{},e=r[this._authPlugin.identifier]=this._config.authConfiguration||{authType:0,loggedInStatusCallback:function(){return!1}},n=this._config.jsllConfiguration;n&&(this._config.endpointUrl=n.endpoint,u.disableAjaxTracking=!n.enableAjaxTracking,u.disableFetchTracking=!n.enableFetchTracking,n.autoCapture&&(t.autoCapture=t.autoCapture||{},t.autoCapture.click=n.autoCapture.click,t.autoCapture.jsError=n.autoCapture.jsError,t.autoCapture.lineage=n.autoCapture.lineage,t.autoCapture.onLoad=n.autoCapture.onLoad,t.autoCapture.onUnload=n.autoCapture.onUnload,t.autoCapture.pageView=n.autoCapture.pageView,t.autoCapture.resize=n.autoCapture.resize,t.autoCapture.scroll=n.autoCapture.scroll,t.autoCapture.msTags=n.autoCapture.msTags,u.autoCapture=u.autoCapture||{},u.autoCapture.msTags=n.autoCapture.msTags),n.ix&&(f.adobe=n.ix.a,f.google=n.ix.g),n.coreData&&(t.coreData=t.coreData||{},t.coreData.market=n.coreData.market,t.coreData.pageName=n.coreData.pageName,t.coreData.pageTags=n.coreData.pageTags,t.coreData.pageType=n.coreData.pageType,t.coreData.product=n.coreData.product,t.coreData.referrerUri=n.coreData.referrerUri,t.coreData.requestUri=n.coreData.requestUri,i.env=n.coreData.env,i.expId=n.coreData.expId,i.serviceName=n.coreData.serviceName),n.callback&&(t.callback=t.callback||{},t.callback.contentUpdatePageTags=n.callback.contentUpdatePageTags,t.callback.pageActionContentTags=n.callback.pageActionContentTags,t.callback.pageActionPageTags=n.callback.pageActionPageTags,t.callback.pageName=n.callback.pageName,t.callback.pageViewPageTags=n.callback.pageViewPageTags,t.callback.signedinStatus=n.callback.signedinStatus,e.loggedInStatusCallback=n.callback.signedinStatus,i.callback=i.callback||{},i.callback.userConsentDetails=n.callback.userConsentDetailsCallback),n.debounceMs&&(t.debounceMs=t.debounceMs||{},t.debounceMs.scroll=n.debounceMs.scroll,t.debounceMs.resize=n.debounceMs.resize),t.cookiesToCollect=n.cookiesToCollect,t.mscomCookies=n.mscomCookies,t.urlCollectHash=n.urlCollectHash,t.urlCollectQuery=n.urlCollectQuery,t.useDefaultContentName=n.useDefaultContentName,t.useShortNameForContentBlob=n.useShortNameForContentBlob,t.biBlobAttributeTag=n.biBlobAttributeTag,t.useShortNameForContentBlob=n.useShortNameForContentBlob,t.isLoggedIn=n.isLoggedIn,t.manualPageUnload=n.manualPageUnload,t.syncMuid=n.syncMuid,t.muidDomain=n.muidDomain,i.userConsentCookieName=n.userConsentCookieName,i.userConsented=n.userConsented,t.shareAuthStatus=n.shareAuthStatus,n.authMethod&&(e.authType=n.authMethod))},t}(lv);var aw=function(){function n(){}return n.prototype.stringifyField=function(){r("stringifyField")},n.prototype.getMuidHost=function(){return r("getMuidHost"),""},n.prototype.isOfCorrectType=function(){return r("isOfCorrectType"),!0},n.prototype.getOs=function(){return r("getOs"),""},n.prototype.getUserAgent=function(){return r("getUserAgent"),""},n.prototype.extractFieldFromObject=function(){return r("extractFieldFromObject"),""},n.prototype.extend=function(){r("extend")},n.prototype.isValueAssigned=function(){r("isValueAssigned")},n.prototype.removeNonObjectsAndInvalidElements=function(){r("removeNonObjectsAndInvalidElements")},n.prototype.dateToISOString=function(){return r("dateToISOString"),""},n.prototype.getAppIdWithPrefix=function(){return r("getAppIdWithPrefix"),""},n.prototype.removeInvalidElements=function(){r("removeInvalidElements")},n.prototype.findClosestByAttribute=function(){return r("findClosestByAttribute"),null},n.prototype.findClosestAnchor=function(){return r("findClosestAnchor"),null},n.prototype.returnDomObjectIfjQuery=function(){return r("returnDomObjectIfjQuery"),null},n.prototype.getPerformanceData=function(){r("getPerformanceData")},n.prototype.bracketIt=function(){return r("bracketIt"),""},n.prototype.getPageLoadTime=function(){return r("getPageLoadTime"),-1},n.prototype.isElementTrulyVisible=function(){return r("isElementTrulyVisible"),!1},n.prototype.addPageUnloadEventListener=function(){return r("addPageUnloadEventListener"),!1},n.prototype.addEventHandler=function(){return r("addEventHandler"),!1},n.prototype.attachEvent=function(){return r("attachEvent"),!1},n}(),vw=function(){function n(n){this.testHook={};this._sku=n}return n.prototype.capturePageView=function(n){var t=null;n&&(t={referrerUri:n.referrerUri,behavior:n.behavior,pageName:n.pageName,pageTags:n.pageTags,isAuto:n.isAuto});this._sku.getWebAnalyticsExtension().capturePageView(t)},n.prototype.captureContentUpdate=function(n){var t=null;n&&(t={content:n.content,isDomComplete:n.isDomComplete,actionType:n.actionType,behavior:n.behavior,pageName:n.pageName,pageTags:n.pageTags,isAuto:n.isAuto});this._sku.getWebAnalyticsExtension().captureContentUpdate(t)},n.prototype.capturePageAction=function(n,t){var i=null;t&&(i={refUri:t.referrerUri,actionType:t.actionType,targetUri:t.targetUri,content:t.content,contentTags:t.contentTags,behavior:t.behavior,pageName:t.pageName,pageTags:t.pageTags,isAuto:t.isAuto});this._sku.getWebAnalyticsExtension().capturePageAction(n,i)},n.prototype.captureContentPageAction=function(n){this.capturePageAction(null,n)},n.prototype.captureClientError=function(n){var t={};t.exception=n.errorInfo;this._sku.getWebAnalyticsExtension().trackException(t)},n.prototype.captureQos=function(n){if(n&&n.data&&n.data.baseData){var i={id:"",duration:n.data.baseData.latencyMs,success:n.data.baseData.succeeded,responseCode:Number(n.data.baseData.protocolStatusCode),type:n.data.baseData.dependencyType,target:n.data.baseData.targetUri},t={};y(n.data.baseData,function(n,i){"latencyMs"!==n&&"succeeded"!==n&&"protocolStatusCode"!==n&&"dependencyType"!==n&&"targetUri"!==n&&(t[n]=i)});y(n.data,function(n,i){"baseData"!==n&&"baseType"!==n&&(t[n]=i)});this._sku.getQosExtension().trackDependencyData(i,t)}},n.prototype.getUri=function(n){return sl(this._sku.getWebAnalyticsExtensionConfig(),n)},n.prototype.getPageContent=function(){return r("getPageContent"),""},n.prototype.getTimeToClick=function(){return r("getTimeToClick"),-1},n.prototype.initialize=function(){r("ClickstreamTracker initialize")},n.prototype.captureCorsDisallowed=function(){r("captureCorsDisallowed")},n.prototype.captureEventTooLong=function(){r("captureEventTooLong")},n.prototype.captureEventDrop=function(){r("captureEventDrop")},n.prototype.captureSwap=function(){r("captureSwap")},n.prototype.domReadyTasksWrapper=function(){r("domReadyTasksWrapper")},n.prototype.domReadyTasks=function(){r("domReadyTasks")},n.prototype.onDomReadyDo=function(){r("onDomReadyDo")},n}(),yw=function(){function n(){}return n.prototype.getCookie=function(n){return ic(n)},n.prototype.setCookie=function(n,t,i){!function(n,t,i){er(null)&&et(null).set(n,t,86400*i,null,"/")}(n,t,i)},n.prototype.deleteCookie=function(n){!function(n){er(null)&&et(null).del(n)}(n)},n.prototype.getCookieKeyValue=function(){r("getCookieKeyValue")},n.prototype.getAllCookies=function(){r("getAllCookies")},n}(),pw=function(){function n(){}return n.prototype.init=function(){r("ErrorHandler init")},n}(),ww=function(){function n(){}return n.prototype.recordTimeSpan=function(){return r("recordTimeSpan"),-1},n}(),bw=function(){function n(){}return n.prototype.get=function(){r("get")},n.prototype.post=function(){r("post")},n.prototype.put=function(){r("put")},n.prototype.delete=function(){r("delete")},n.prototype.patch=function(){r("patch")},n.prototype.alwaysAddCvToRequestHeader=function(){return r("alwaysAddCvToRequestHeader"),!0},n.prototype.doNotChangeSupportCors=function(){return r("doNotChangeSupportCors"),!0},n.prototype.setTargetUriOverride=function(){r("setTargetUriOverride")},n}(),kw=function(){function n(n){this._sku=n}return n.prototype.isInit=function(){return this._sku.getCvExtension().getCv().isInit()},n.prototype.canExtend=function(){return this._sku.getCvExtension().getCv().canExtend()},n.prototype.canIncrement=function(){return this._sku.getCvExtension().getCv().canIncrement()},n.prototype.isValid=function(n){return this._sku.getCvExtension().getCv().isValid(n)},n.prototype.getValue=function(){return this._sku.getCvExtension().getCv().getValue()},n.prototype.setValue=function(n){this._sku.getCvExtension().getCv().setValueLegacy(n)},n.prototype.init=function(n){return this._sku.getCvExtension().getCv().initLegacy(n)},n.prototype.extend=function(){return this._sku.getCvExtension().getCv().extend()},n.prototype.increment=function(){return this._sku.getCvExtension().getCv().increment()},n.prototype.incrementExternal=function(n){return this._sku.getCvExtension().getCv().incrementExternal(n)},n.prototype.useCv1=function(){this._sku.getCvExtension().getCv().useCv1()},n.prototype.useCv2=function(){this._sku.getCvExtension().getCv().useCv2()},n}(),dw=function(){function n(n){this._sku=n}return n.prototype.getVisitorId=function(){return this._sku.getPropertyManager().getPropertiesContext().user.localId},n.prototype.getMuidUserId=function(){var n=this._sku.getPropertyManager().getPropertiesContext().user.localId;return i(n)?"t:"+n:""},n.prototype.setDeviceClass=function(n){this._sku.getPropertyManager().getPropertiesContext().device.deviceClass=n},n.prototype.getDeviceClass=function(){return this._sku.getPropertyManager().getPropertiesContext().device.deviceClass},n.prototype.setAppUserId=function(){r("setAppUserId")},n.prototype.getAppUserId=function(){return r("getAppUserId"),""},n.prototype.readExpIdFromCookie=function(){return r("readExpIdFromCookie"),""},n.prototype.getImpressionGuid=function(){return r("getImpressionGuid"),""},n.prototype.getGroups=function(){return r("getGroups"),""},n.prototype.setExpIdCookieName=function(){return r("setExpIdCookieName"),""},n.prototype.readExpIdFromCoreData=function(){return r("readExpIdFromCoreData"),""},n.prototype.getPageViewImpressionGuid=function(){return r("getPageViewImpressionGuid"),""},n}(),gw=function(){function n(){this.testHook={}}return n.prototype.init=function(){r("Ix init")},n.prototype.set=function(){r("Ix set")},n}(),nb=function(){function n(n){this._sku=n}return n.prototype.logError=function(n){this._sku.logger.warnToConsole(n)},n.prototype.logWarning=function(n){this._sku.logger.warnToConsole(n)},n.prototype.logInformation=function(n){this._sku.logger.warnToConsole(n)},n}(),tb=function(){function n(){}return n.prototype.sendError=function(){r("sendError")},n.prototype.sendApiComplete=function(){r("sendApiComplete")},n.prototype.sendJsllEvent=function(){r("sendJsllEvent")},n.prototype.SendOrScheduleEvent=function(){r("SendOrScheduleEvent")},n.prototype.overrideQueueBehavior=function(){r("overrideQueueBehavior")},n.prototype.drainQueuedEvents=function(){r("drainQueuedEvents")},n.prototype.batchEventsByNumber=function(){r("batchEventsByNumber")},n.prototype.batchQueuedEvents=function(){r("batchQueuedEvents")},n.prototype.addEventToQueue=function(){r("addEventToQueue")},n}(),da=function(){function n(){var n=this;this.isAvailable=!0;this.requestBody="";this._schemas=[];this.testHook={};this.OnSuccessfulVortexRequest=function(){};this.sku=new lw;this.ct=new vw(this.sku);this.cv=new kw(this.sku);this.ids=new dw(this.sku);this.ix=new gw;this.logger=new nb(this.sku);this.timespanHandler=new ww;this.service=new bw;this.utils=new aw;this.cookie=new yw;this.errorHandler=new pw;this.vortexEvents=new tb;this.behavior=lr;this.behaviorKeys=[];y(lr,function(t){n.behaviorKeys.push(t)});this.actionType=bt}return n.prototype.init=function(n){null==n.useDefaultContentName&&(n.useDefaultContentName=!0);null==n.useShortNameForContentBlob&&(n.useShortNameForContentBlob=!1);this._awaConfig=n;var t=n.advancedConfig||{};t.instrumentationKey=this._awaConfig.instrumentationKey;t.jsllConfiguration=this._awaConfig;this.sku.initialize(t,[]);this.isInitialized=!0},n.prototype.writeEvent=function(n){var t=n,i;if(st(t))for(i=0;i<t.length;i++)this.sku.track(this.transformCustomEvent(t[i]));else this.sku.track(this.transformCustomEvent(t))},n.prototype.getConfig=function(){return this._awaConfig},n.prototype.extendCoreData=function(n){this.sku.getWebAnalyticsExtension().updateCoreDataConfig(n)},n.prototype.capabilitiesCheck=function(){JSON&&JSON.stringify||(this.logger.logError("Unable to write event: the global JSON.stringify method does not exist"),this.isAvailable=!1)},n.prototype.getSignedInStatus=function(){return hl(this.sku.getWebAnalyticsExtensionConfig())},n.prototype._validateAndTranslateEvent=function(n){return{event:n}},n.prototype.sanitizeUrl=function(n){var t=document.createElement("a");return t.href=n,document.body.appendChild(t),document.body.removeChild(t),t&&n?ts(this.sku.getWebAnalyticsExtensionConfig(),t):""},n.prototype.sanitizeCurrentUrl=function(){return window.location?ts(this.sku.getWebAnalyticsExtensionConfig(),window.location):""},n.prototype.getQueryStringParameters=function(){return r("getQueryStringParameters"),""},n.prototype._registerSchemas=function(){r("_registerSchemas")},n.prototype.sendEventThroughIframe=function(){r("sendEventThroughIframe")},n.prototype.isEventValid=function(){return r("isEventValid"),!0},n.prototype.translateEventFromIntermediateStructure=function(){r("translateEventFromIntermediateStructure")},n.prototype.firstEventDone=function(){r("firstEventDone")},n.prototype.firstEventDoneTasks=function(){r("firstEventDoneTasks")},n.prototype.resetFirstEvent=function(){r("resetFirstEvent")},n.prototype.transformCustomEvent=function(n){var t={name:n.name,baseType:n.data&&n.data.baseType?n.data.baseType:""};return t.baseData=t.baseData||{},n.data&&n.data.baseData&&y(n.data.baseData,function(n,i){t.baseData[n]=i}),t.data=t.data||{},n.data&&y(n.data,function(i){"baseData"!==i&&(t.data[i]=n.data[i])}),i(n.serviceName)&&(t.ext=t.ext||{},t.ext.intweb=t.ext.intweb||{},t.ext.intweb.serviceName=n.serviceName),i(n.cV)&&(t.ext=t.ext||{},t.ext.mscv=t.ext.mscv||{},t.ext.mscv.cV=n.cV),i(n.appId)&&(t.ext=t.ext||{},t.ext.app=t.ext.app||{},t.ext.app.id=n.appId),i(n.env)&&(t.ext=t.ext||{},t.ext.app=t.ext.app||{},t.ext.app.env=n.env),t},n}();ui().awa=new da;t.JavascriptLoggingLibrary=da,function(n,t,i){var r=Object.defineProperty;if(r)try{return r(n,"__esModule",i)}catch(n){}i&&void 0!==typeof i.value&&(n.__esModule=i.value)}(t,0,{value:!0})}(t)}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(n){var t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},1:function(n,t,i){n.exports=i("./node_modules/@microsoft/1ds-jsll/bundle/ms.jsll.js")}})});define("trackHelper",["jqReady!","window"],function(n,t){function e(t){for(var o=[],y=[],p=[],h=[],c=">",e,l,w,i,a,v,s;t;)l=t.getAttribute(u)||t[u],w=t.getAttribute(f)||t[f],l&&(i=JSON.parse(l),i&&(a=i.cN||i.cT||r,o.push(a),w&&!e&&(e=a),p.push(i.id||r),y.push(i.sN||-1),h.push(i.tags||{}))),t=t.parentElement;return typeof e!="string"&&(e=o.length>1?o[1]:r),v={lineage:o.join(c),lineageOrdinal:y.join(c),lineageById:p.join(c),containerName:e},s=!1,n.each(h,function(t,i){s=s||!n.isEmptyObject(i)}),s&&(v.lineageTags=h),v}function o(t){var i={},r;return t&&(r=e(t),n.extend(i,r)),i}function s(n){return function(){return{scripts:n.scripts}}}var i=t._pageBITags,u=i&&i.elementTag||"data-m",r=i&&i.defaultValue||"Unspecified",f="data-module-id";return{extendPageActionContentTags:o,extendPageViewPageTags:s}});window.rf=window.rf||{};window.rf.logger=function(n){function o(n){return n>=e}function s(n,t){r("Error",n,t,i())}function h(n,t){r("Warning",n,t,i())}function c(n,t){r("Information",n,t,i())}function l(n,t){r("Verbose",n,t,i())}function a(n,t){r("Always",n,t,i())}function r(t,i,r,e){var h=u[t]||u.Warning,c,s;o(h)&&(c={ActivityId:n._pageBITags&&n._pageBITags.pageTags.imprGuid,Url:n._pageBITags&&n._pageBITags.pageTags.uri,Verbosity:t,Category:i,Message:r,StackTrace:e},s={name:f,data:{}},s.data[f]=c,n.awa.writeEvent(s),n._pageBITags&&n._pageBITags.pageTags.traceLogConsole&&v(s,h))}function v(n,t){if(console){var i=console.log;switch(t){case 3:i=console.error||console.log;break;case 2:i=console.warn||console.log;case 1:case 0:default:i=console.log}i(n.data[f])}}function i(){if(n.Error){var t=new Error;if(!t.stack)try{throw Error();}catch(i){t=i}if(t.stack)return t.stack.split("\n").map(function(n){var t=n.match(/at\ [^\ ]*/)||n.match(/^[a-zA-Z0-9]*/);if(t&&t[0]&&t[0].indexOf("getStackTrace")===-1&&t[0].indexOf("Error")===-1)return encodeURIComponent(t[0].trim().replace("at ",""))}).filter(function(n){return n}).join("|").trim()}}var u={Info:0,Verbose:1,Warning:2,Error:3,Always:10},e=u[n._pageBITags&&n._pageBITags.pageTags.traceLogVerbosity]||u.Error,f="Microsoft.OneRenderFramework.Partner.CoreUi.Telemetry.JsllTraceEvent",t={};return t.traceError=s,t.traceWarning=h,t.traceInformation=c,t.traceVerbose=l,t.traceAlways=a,t.getStackTrace=i,t}(window);define("rawOneDsConfig",["trackHelper","window","jqReady!","OneRF_OneDsJsll"],function(n,t,i){var e={},r,f,u,o,s,h;return t._pageBITags&&t._pageBITags.pageTags&&(r=t._pageBITags.pageTags,t.awa.cv.setValue(r.cV),f={browserGroup:r.browserGroup,isTentedPage:r.isTented,tasId:r.tasId,tasMuid:r.tasMuid,pageVersion:r.pv,isCachedPage:r.isCached,enabledFeatures:r.enabledFeatures,expData:r.expData,siteIndex:r.siteIndex,subenv:r.subenv,pageSubType:r.pageSubType,canvasType:r.canvasType,deviceFamily:r.deviceFamily,isOneRf:r.isOneRf,isCorpNet:r.isCorpNet,dataVersion:r.dv},r.tags&&i.extend(f,r.tags),t._pageBITags.pageContracts&&i.extend(f,t._pageBITags.pageContracts),u=!1,o={pageView:u,onLoad:u,click:u,scroll:u,resize:u,context:u,jsError:u,unload:u},r.autoCapture&&i.extend(o,r.autoCapture),e={instrumentationKey:r.iKey||"OneRfOneDs",syncMuid:r.userConsent||!1,useDefaultContentName:!0,useShortNameForContentBlob:!0,urlCollectQuery:!0,muidDomain:r.muidDomain||"microsoft.com",biBlobAttributeTag:t._pageBITags.elementTag?t._pageBITags.elementTag:"data-m",isLoggedIn:r.signedInStatus,shareAuthStatus:r.shareAuthStatus||!1,mscomCookies:r.userConsent||!1,enableAjaxTracking:!0,enableFetchTracking:!0,autoCapture:o,sendEvents:!r.disableJsll,callback:{pageActionPageTags:null,pageActionContentTags:n.extendPageActionContentTags,pageViewPageTags:n.extendPageViewPageTags(r),contentUpdatePageTags:null},coreData:{pageName:r.pageName,pageType:r.pageType,env:r.env||null,product:null,market:r.mkt,serverImpressionGuid:r.imprGuid,isJs:r.isJs,expId:r.expId,pageTags:f}},s=t.awa.sku.getPropertyManager(),s.setProperty("enabledProperties",r.enabledFeatures),s.setProperty("serverImpressionGuid",r.imprGuid),h=!1,t._pageBITags.pageTags.enabledFeatures&&t._pageBITags.pageTags.enabledFeatures.indexOf("core_cookiev2:1")>-1&&(h=!0),h&&(e.callback.userConsentDetailsCallback=function(){return t.siteConsent?t.siteConsent.getConsent():t.WcpConsent?{Required:!0,Analytics:!1,SocialMedia:!1,Advertising:!1}:{Required:!0,Analytics:!0,SocialMedia:!0,Advertising:!0}})),e});require(["trackHelper","window","jqReady!","oneDsConfig","OneRF_OneDsJsll"],function(n,t,i,r){if(t._pageBITags&&t._pageBITags.pageTags)t.awa.init(r);else{var u=document.createElement("meta");u.name="ms.mpo";u.content="_pageBITags_null";document.head&&document.head.appendChild(u);t.awa.init()}t._preLoadErrorsBuffer&&t._preLoadErrorsBuffer.length>0&&(t.awa.ct.captureClientError(t._preLoadErrorsBuffer,!1),t._preLoadErrorsBuffer=[]);define("jsll",["window"],function(n){return n.awa})});define("telemetryTypes",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Intent={SeeAll:"SeeAll",AutoSuggest:"AutoSuggest",SortBy:"SortBy",SignIn:"SignIn",SeeMore:"SeeMore"};t.ElementType={a:"a",r:"r",m:"m",c:"c",n:"n",nn:"nn"};t.ContainerType={Area:t.ElementType.a,Region:t.ElementType.r,Module:t.ElementType.m,Container:t.ElementType.c}});define("telemetryDomStateManager",["require","exports","telemetryTypes","htmlExtensions"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.startSlotNumber=1;this.undefinedVariable=undefined;this.moduleIdAttribute="data-module-id";this.elementBITag=window._pageBITags&&window._pageBITags.elementTag||"data-m";this.bodyElement=this.getFromCache("Body");this.bodyElement||(this.bodyElement={htmlElement:document.body,elementType:i.ElementType.c,contentBlob:{id:"Body"},nextSlotNumber:this.undefinedVariable},this.bodyElement.nextSlotNumber=this.getStartingSlotNumber(this.bodyElement),this.putInCache(this.bodyElement))}return n.prototype.parseTelemetryProperties=function(n){var f,r,t,u;if(n){f=n.getAttribute(this.elementBITag);r={};try{f!==null&&(r=JSON.parse(f))}catch(e){r={}}return t=i.ElementType.c,typeof r.id=="string"&&r.id.length>1?(u=r.id,["a","r","m","c"].indexOf(u[0])>-1?t=i.ElementType[u[0]]:u[0]==="n"&&u[1]==="n"?t=i.ElementType.nn:u[0]==="n"&&(t=i.ElementType.n)):n.getAttribute(this.moduleIdAttribute)!==null?t=i.ElementType.m:n.nodeName==="A"?t=i.ElementType.n:(n.nodeName==="BUTTON"||n.nodeName==="INPUT"||n.nodeName==="SELECT")&&(t=i.ElementType.nn),{htmlElement:n,contentBlob:r,elementType:t,nextSlotNumber:this.undefinedVariable}}},n.prototype.getClosestDecoratedAncestor=function(n,t){var e=this.getFromCache(t),u,i,f;return e?e:!n||!n.htmlElement||!n.htmlElement.parentElement?void 0:(u=r.getParent(n.htmlElement.parentElement,"[data-m]")||document.body,u&&u!==document.body)?(i=this.parseTelemetryProperties(u),f=this.getFromCache(i&&i.contentBlob&&i.contentBlob.id),f?i=f:this.putInCache(i),i):this.bodyElement},n.prototype.getFromCache=function(t){return n.cachedTelemetryElements[t]},n.prototype.putInCache=function(t){t&&t.contentBlob&&t.contentBlob.id&&(n.cachedTelemetryElements[t.contentBlob.id]=t)},n.prototype.reserveNextSlotNumber=function(n){var t=this.getFromCache(n),i;if(t)return i=typeof t.nextSlotNumber=="number"?t.nextSlotNumber:this.getStartingSlotNumber(t),t.nextSlotNumber=i+1,this.putInCache(t),i},n.prototype.setContentBlob=function(n,t){if(t&&n&&n.htmlElement){t.cN=t.cN===null?this.undefinedVariable:t.cN;t.cS=t.cS===null?this.undefinedVariable:t.cS;t.cT=t.cT===null?this.undefinedVariable:t.cT;t.pid=t.pid===null?this.undefinedVariable:t.pid;t.bhvr=t.bhvr===null||t.bhvr===0?this.undefinedVariable:t.bhvr;t.tags=t.tags===null?this.undefinedVariable:t.tags;t.cT=t.cT===null?this.undefinedVariable:t.cT;n.nextSlotNumber=this.startSlotNumber;var i=JSON.stringify(t);return n.htmlElement.setAttribute(this.elementBITag,i),n.contentBlob=t,this.putInCache(n),t.id}},n.prototype.getStartingSlotNumber=function(n){var o,i,t;if(n&&n.htmlElement&&n.contentBlob){var u=n.htmlElement,f=n.contentBlob.id,e=this.startSlotNumber;if(u&&f)for(o=new RegExp('"aN":"'+f+'"'),i=r.selectElements("["+this.elementBITag+"]",u),t=0;t<i.length;t++)i[t].attributes.getNamedItem(this.elementBITag).value.match(o)&&e++;return e}},n.cachedTelemetryElements={},n}();t.TelemetryDomStateManager=u});define("telemetryDecorator",["require","exports","telemetryTypes","telemetryDomStateManager"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.domManager=new r.TelemetryDomStateManager}return n.prototype.decorateHtmlElement=function(n,t){var i=this.domManager.getClosestDecoratedAncestor(n,t);return this.decorateHtmlElementInternal(n,i)},n.prototype.decorateHtmlElementInternal=function(n,t){var u=this.domManager.reserveNextSlotNumber(t.contentBlob.id),r=n.contentBlob;return r.aN=t.contentBlob.id,r.sN=u,r.id=""+i.ElementType[n.elementType]+r.sN.toString()+r.aN,this.domManager.setContentBlob(n,r)},n.prototype.decorateHtmlTree=function(n,t){for(var f,e,i=this.domManager.parseTelemetryProperties(n),o=this.domManager.getClosestDecoratedAncestor(i,t),s=this.decorateHtmlElementInternal(i,o),u=i.htmlElement.children,r=0;r<u.length;r++)f=u.item(r),e=this.domManager.parseTelemetryProperties(f),this.decorateHtmlTreeInternal(e,i);return s},n.prototype.decorateHtmlTreeInternal=function(n,t){var u=t.contentBlob.id,f=t,r,i,e,o;for(this.shouldDecorateElement(n.htmlElement)&&(u=this.decorateHtmlElementInternal(n,t),f=n),r=n.htmlElement.children,i=0;i<r.length;i++)e=r.item(i),o=this.domManager.parseTelemetryProperties(e),this.decorateHtmlTreeInternal(o,f);return u},n.prototype.shouldDecorateElement=function(n){return n.getAttribute(this.domManager.elementBITag)!==null||n.getAttribute(this.domManager.moduleIdAttribute)!==null||n.nodeName==="A"||n.nodeName==="BUTTON"||n.nodeName==="SELECT"||n.nodeName==="INPUT"},n}();t.TelemetryDecorator=u});define("telemetryRenderer",["require","exports","telemetryDecorator","telemetryTypes"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.undefinedVariable=undefined;this.decorator=new i.TelemetryDecorator}return n.prototype.renderContainerBusinessTelemetryAttributes=function(n,t,i,u,f,e){var o={cN:i,tags:f,cS:u},s=r.ElementType[t]||r.ElementType.c,h={htmlElement:n,contentBlob:o,elementType:s,nextSlotNumber:this.undefinedVariable};return this.decorator.decorateHtmlElement(h,e)},n.prototype.renderNavElementBusinessTelemetryAttributes=function(n,t,i,u,f,e,o,s){var h={pid:t,cN:i,cT:u===null?this.undefinedVariable:r.Intent[u],cS:f,bhvr:e,tags:o},c={htmlElement:n,contentBlob:h,elementType:r.ElementType.n,nextSlotNumber:this.undefinedVariable};return this.decorator.decorateHtmlElement(c,s)},n.prototype.renderNonNavElementBusinessTelemetryAttributes=function(n,t,i,u,f,e){var o={cN:t,pid:i,bhvr:u,tags:f},s={htmlElement:n,contentBlob:o,elementType:r.ElementType.nn,nextSlotNumber:this.undefinedVariable};return this.decorator.decorateHtmlElement(s,e)},n.prototype.renderBusinessTelemetryAttributesForSubtree=function(n,t){return this.decorator.decorateHtmlTree(n,t)},n}();t.TelemetryRenderer=u});define("telemetrySetup",["require","exports","telemetryRenderer","htmlExtensions"],function(n,t,i,r){"use strict";function f(){var n=window.rf.logger;t.globalRenderer=t.globalRenderer||new i.TelemetryRenderer;r.addEvents(r.selectFirstElement("body"),"decorate",u);n.traceVerbose("TelemetrySetup","Successfully bound the global renderer to <body>")}function e(){var n=window.rf.logger;t.globalRenderer=null;r.removeEvents(r.selectFirstElement("body"),"decorate",u);n.traceVerbose("TelemetrySetup","Successfully unbound the global renderer from <body>")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){if(n.target)return t.globalRenderer.renderBusinessTelemetryAttributesForSubtree(n.target),!1};t.bindGlobalRenderer=f;t.unbindGlobalRenderer=e});require(["jsll","telemetrySetup"],function(n,t){t.bindGlobalRenderer()})